<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Atlassian Jira Software Cloud Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Atlassian Jira Software Cloud Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (tpechacek)</span>, last modified by <span class='editor'> Unknown User (rafalmyslek)</span> on Oct 03, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Atlassian Jira Software Cloud <a href="https://plugins.jenkins.io/atlassian-jira-software-cloud" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
<br/></p><h1 id="AtlassianJiraSoftwareCloudPlugin-Introduction">Introduction</h1><p>Atlassian has built and open-sourced a new Jenkins plugin that is intended to be used specifically for integrating Jenkins with <a href="https://www.atlassian.com/software/jira" class="external-link" rel="nofollow">Jira Software Cloud</a>. This plugin exists to provide a free, easy, secure, and reliable way to connect build and deployment information from your Jenkins server to your Jira Software Cloud site.  </p><p>It uses new OAuth Credentials (2LO), which site admins can create in their Jira Cloud site. This OAuth Credential is explicitly scoped, when creating it, for additional security, so that it can only be used to send build and deployment information and associate that information with Jira issues. This gives your Jenkins server, operating behind the firewall, a mechanism to securely send data, one-way, to your Jira Cloud site without having to open up any ports in your firewall.</p><p>There are additional Jira ↔ Jenkins integrations that provide some additional capabilities on top of this, which we encourage you to try out if you are looking for additional features. Otherwise, if you are just getting started, you have find the right tool for the job. This plugin will provide a very straight-forward way to get started and start using Jenkins and Jira Software Cloud together to help your team better track and collaborate on their work.</p><p>If you have any questions, please <a href="https://support.atlassian.com/contact/" class="external-link" rel="nofollow">https://support.atlassian.com/contact/</a>, or help contribute to the <a href="https://github.com/jenkinsci/atlassian-jira-software-cloud-plugin" class="external-link" rel="nofollow">open-source plugin</a> by raising an issue or PR! Also, you can read more about <a href="https://confluence.atlassian.com/adminjiracloud/integrating-with-self-hosted-tools-using-oauth-972355470.html" class="external-link" rel="nofollow">OAuth Credentials</a> and the <a href="https://confluence.atlassian.com/adminjiracloud/integrate-jira-software-cloud-with-jenkins-972355471.html" class="external-link" rel="nofollow">Jenkins plugin</a> via Atlassian documentation pages.</p><p><br/></p><hr/><h1 id="AtlassianJiraSoftwareCloudPlugin-Whatisthevalue?">What is the value?</h1><p>By using this integration your team will gain visibility and insight into your CI/CD pipeline, specifically all builds and deployments, related to Jira issues. As long as you are using Jira Issue keys (&quot;TEST-123&quot;) in your commit messages and branch names, the Jenkins integrate will automatically connect related builds and deployments as run your pipelines. </p><ul><li>For <strong>software engineers</strong>, this removes the need to manually update Jira via going into the UI saving time and double-entry. </li><li>For <strong>product managers,</strong> <strong>team leads</strong>, and <strong>QA engineers</strong> this gives visibility into things like failing builds or whether or not a feature went to a staging environment and is actually ready for QA. You can look at a specific issue or search across them using the Jira Query Language (JQL). </li></ul><p>Additionally, you can use OAuth Credentials (2LO) to securely integrate these tools together. This credential is tied to a specific Jira site, can be managed by site administrators only, and is used to communicate between your Jira Software Cloud site and Jenkins without having to open any holes in your firewall. </p><p><br/></p><p><br/></p><p><span class="confluence-embedded-file-wrapper image-right-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-right" width="500" src="attachments/175213604/175213598.png" data-image-src="attachments/175213604/175213598.png" data-unresolved-comment-count="0" data-linked-resource-id="175213598" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="screencapture-appweek-atlassian-net-secure-admin-oauth-credentials-2019-06-13-13_23_57.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="175213604" data-linked-resource-container-version="6"></span></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p>OAuth Credentials - Showing an example credential scoped to be used to send build and deployment information via APIs. This Client ID and Secret would be used with this Jenkins plugin via the configuration.</p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="500" src="attachments/175213604/175213599.png" data-image-src="attachments/175213604/175213599.png" data-unresolved-comment-count="0" data-linked-resource-id="175213599" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2019-05-29 at 2.08.41 pm.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="175213604" data-linked-resource-container-version="6"></span></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p>Jira issue detail view, showing the development and releases panel on the right-hand column. You can click into each of these to see more details.</p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><span class="confluence-embedded-file-wrapper image-right-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-right" width="500" src="attachments/175213604/175213600.png" data-image-src="attachments/175213604/175213600.png" data-unresolved-comment-count="0" data-linked-resource-id="175213600" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2019-05-29 at 2.10.16 pm.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="175213604" data-linked-resource-container-version="6"></span></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p>Jira issue detail view, after clicking into the Releases glance summary ('Production&quot; in the previous image) you can see what repos, environments, and deployments this feature is associated with. Here we see it has indeed gone to our production environment in deployment #4. </p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" height="250" src="attachments/175213604/175213602.png" data-image-src="attachments/175213604/175213602.png" data-unresolved-comment-count="0" data-linked-resource-id="175213602" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2019-05-29 at 2.39.02 pm.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="175213604" data-linked-resource-container-version="6"></span></p><p><br/></p><p><br/></p><p><br/></p><p>Using the Jira Query Language (JQL), you can search across issues that have been deployed to an environment type or a specific environment name. You can mix and match this information with existing data like epics, versions, components, labels, and much more.</p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><hr/><h1 id="AtlassianJiraSoftwareCloudPlugin-Howtogetstarted">How to get started</h1><h4 id="AtlassianJiraSoftwareCloudPlugin-InJiraSoftwareCloud"><strong>In Jira Software Cloud</strong></h4><p><strong>Create OAuth credentials in Jira for Jenkins</strong></p><ol class="ak-ol"><li><p>Navigate to<span> </span><strong>Jira home</strong><span> </span>&gt;<span> </span><strong>Jira settings<span> </span></strong>&gt;<strong><span> </span>Apps</strong>.</p></li><li><p>Select<span> </span><strong>OAuth credentials</strong>.</p></li><li><p>Select<span> </span><strong>Create credentials</strong>.</p></li><li><p>Enter the following details:</p><ul class="ak-ul"><li><p><em>App name</em><span> </span>- Jenkins</p></li><li><p><em>App logo</em><span> </span>- A URL to the Jenkins logo, which will be used as an icon in the list of credentials. Eg:<span> </span><a class="external-link" style="text-decoration: none;" rel="nofollow" href="https://jenkins.yourcompany.com/logo.png" title="https://jenkins.yourcompany.com/logo.png">https://jenkins.yourcompany.com/logo.png</a></p></li><li><p><em>Server base URL</em><span> </span>- The URL to your Jenkins server. Eg:<span> </span><a rel="nofollow" class="external-link" title="https://jenkins.yourcompany.com" style="text-decoration: none;" href="https://jenkins.yourcompany.com/">https://jenkins.yourcompany.com</a></p></li></ul></li></ol><h4 id="AtlassianJiraSoftwareCloudPlugin-InJenkins"><strong>In Jenkins</strong></h4><p><strong>Install the Jenkins plugin</strong></p><ol class="ak-ol"><li><p>Login to your Jenkins server and navigate to the Plugin Manager.</p></li><li>Select the 'Available' tab and search for 'Atlassian Jira Software Cloud' as the plugin name then install it.<ol><li>The open-source plugin is hosted at<span> on the Jenkins GitHub account</span><span style="color: rgb(66,82,110);">. <a class="external-link" href="https://github.com/jenkinsci/atlassian-jira-software-cloud-plugin" rel="nofollow">You can check it out here</a>.</span></li></ol></li></ol><p><br/></p><p><strong>Set up Jenkins credentials</strong></p><ol class="ak-ol"><li><p>In Jenkins, go to<span> </span><strong>Manage Jenkins</strong><span> </span>&gt;<span> </span><strong>Configure System<span> </span></strong>screen and scroll to the<span> </span><em>Jira Software Cloud integration</em><span> </span>section.</p></li><li><p>Select<span> </span><strong>Add Jira Cloud Site<span> </span></strong>&gt;<span> </span><strong>Jira Cloud Site</strong>. The<span> </span><em>Site name</em>,<em><span> </span>ClientID</em>,<em><span> </span></em>and<em><span> </span>Secret fields<span> </span></em>display<em>.</em></p></li><li><p>Enter the following details:</p><ul class="ak-ul"><li><p>Site name: The URL for your Jira Cloud site, for example<span> </span><em><a class="external-link" style="text-decoration: none;" rel="nofollow" href="http://yourcompany.atlassian.net/">yourcompany.atlassian.net</a></em>.</p></li><li><p>Client ID: Copy from<span> </span><strong>OAuth credentials</strong><span> </span>screen (Client ID column).</p></li><li><p>Secret: Select Add &gt; Jenkins.</p><ul class="ak-ul"><li><p>For<span> </span><em>Kind</em>, select<span> </span><strong>Secret text</strong>.</p></li><li><p>For<span> </span><em>Secret</em>, copy from<span> </span><strong>OAuth credentials</strong><span> </span>screen (Secret column).</p></li><li><p>For<span> </span><em>Description</em>, provide a helpful description</p></li></ul></li></ul></li><li><p>Select<span> </span><strong>Test connection</strong><span> </span>to make sure your credentials are valid for your Jira site.</p></li></ol><p><br/></p><h1 id="AtlassianJiraSoftwareCloudPlugin-Howtousetheintegration">How to use the integration</h1><p><strong>To start using the integration:</strong></p><ol class="ak-ol"><li><p>Go into a specific pipeline in Jenkins ( <img class="emoticon emoticon-warning" src="images/icons/emoticons/warning.svg" data-emoticon-name="warning" alt="(warning)"/> Note: Your pipeline must be a 'Multibranch Pipeline' ).</p></li><li><p>From the left-hand menu, select<span> </span><strong>Pipeline Syntax</strong>.</p></li><li><p>In the Snippet Generator, select<span> </span><strong>jiraSendDeploymentInfo</strong><span> </span>or<span> </span><strong>jiraSendBuildInfo</strong> from the dropdown list of Sample Steps and fill in the relevant details.</p></li><li><p>Select<span> </span><strong>Generate Pipeline Script</strong> and copy/paste the output into your<span> </span><em>Jenkinsfile </em>on the relevant Repository you are using. This will be used to notify Jira when you run that pipeline on that repo.</p></li></ol><p><br/></p><p><strong>For sending build information</strong></p><p>This is an example snippet of a very simple ‘build’ stage set up in a<span> </span><em>Jenkinsfile</em>. After the pipeline is run, it will post the build information to your Jira Cloud site by looking at the branch name. If there is a Jira issue key (e.g. “TEST-123”) in the branch name, it will send the data over to Jira.</p><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Jenkinsfile example</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: yml; gutter: true; theme: Confluence" data-theme="Confluence">pipeline {
     agent any
     stages {
         stage(&#39;Build&#39;) {
             steps {
                 echo &#39;Building...&#39;
             }
             post {
                 always {
                     jiraSendBuildInfo site: &#39;example.atlassian.net&#39;
                 }
             }
         }
     }
 }</pre>
</div></div><p>By default, the branch name is fetched from the Jenkins SCM API. Alternatively, the branch name can be explicitly specified as an additional <strong>branch</strong> parameter. You can also use the branch parameter to post the build result to a specific Jira issue.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">pipeline {
     agent any
     stages {
         stage(&#39;Build&#39;) {
             steps {
                 echo &#39;Building...&#39;
             }
             post {
                 always {
                     jiraSendBuildInfo site: &#39;example.atlassian.net&#39;, branch: &#39;TEST-123-awesome-feature&#39;
                 }
             }
         }
     }
 }</pre>
</div></div><p><br/></p><p><br/></p><p><strong>For sending deployment information</strong></p><p>This is an example snippet of two satges that runs on any change to the staging or master branch. Again, we use a post step to send deployment data to Jira and the relevant issues. Here, the<span> </span><strong>environmentId</strong>,<span> </span><strong>environmentName</strong>, and<span> </span><strong>environmentType</strong><span> </span>need to be set to whatever you want to appear in Jira.</p><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Jenkinsfile example</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: yml; gutter: true; theme: Confluence" data-theme="Confluence">pipeline {
     agent any
     stages {
         stage(&#39;Deploy - Staging&#39;) {
             when {
                 branch &#39;master&#39;
             }
             steps {
                 echo &#39;Deploying to Staging from master...&#39;
             }
             post {
                 always {
                     jiraSendDeploymentInfo site: &#39;example.atlassian.net&#39;, environmentId: &#39;us-stg-1&#39;, environmentName: &#39;us-stg-1&#39;, environmentType: &#39;staging&#39;
                 }
             }
         }
         stage(&#39;Deploy - Production&#39;) {
            when {
                branch &#39;master&#39;
            }
            steps {
                echo &#39;Deploying to Production from master...&#39;
            }
            post {
                always {
                    jiraSendDeploymentInfo site: &#39;example.atlassian.net&#39;, environmentId: &#39;us-prod-1&#39;, environmentName: &#39;us-prod-1&#39;, environmentType: &#39;production&#39;
                }
            }
         }
     }
 }</pre>
</div></div><p><br/></p><p><br/></p><p>The entire <em>Jenkinsfile</em> may look something like this. This is only meant to represent an example of what the Jira snippets could look like within a stage or step.</p><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Jenkinsfile example</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: yml; gutter: true; theme: Confluence" data-theme="Confluence">pipeline {
     agent any
     stages {
         stage(&#39;Build&#39;) {
             steps {
                 echo &#39;Building...&#39;
             }
             post {
                 always {
                     jiraSendBuildInfo site: &#39;example.atlassian.net&#39;
                 }
             }
         }
         stage(&#39;Deploy - Staging&#39;) {
             when {
                 branch &#39;master&#39;
             }
             steps {
                 echo &#39;Deploying to Staging from master...&#39;
             }
             post {
                 always {
                     jiraSendDeploymentInfo site: &#39;example.atlassian.net&#39;, environmentId: &#39;us-stg-1&#39;, environmentName: &#39;us-stg-1&#39;, environmentType: &#39;staging&#39;
                 }
             }
         }
         stage(&#39;Deploy - Production&#39;) {
            when {
                branch &#39;master&#39;
            }
            steps {
                echo &#39;Deploying to Production from master...&#39;
            }
            post {
                always {
                    jiraSendDeploymentInfo site: &#39;example.atlassian.net&#39;, environmentId: &#39;us-prod-1&#39;, environmentName: &#39;us-prod-1&#39;, environmentType: &#39;production&#39;
                }
            }
         }
     }
 }</pre>
</div></div><p><br/></p><p>If you have any questions, please <a href="https://support.atlassian.com/contact/" class="external-link" rel="nofollow">https://support.atlassian.com/contact/</a> and they will route it to the correct team to help you.</p><p><br/></p><p><br/></p><p><br/></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/175213604/175213598.png">screencapture-appweek-atlassian-net-secure-admin-oauth-credentials-2019-06-13-13_23_57.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/175213604/175213599.png">Screen Shot 2019-05-29 at 2.08.41 pm.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/175213604/175213600.png">Screen Shot 2019-05-29 at 2.10.16 pm.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/175213604/175213601.png">Screen Shot 2019-05-29 at 2.36.06 pm.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/175213604/175213602.png">Screen Shot 2019-05-29 at 2.39.02 pm.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/175213604/175213603.png">Screen Shot 2019-07-01 at 11.46.15 am.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:12</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
