<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : WIX Toolset Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : WIX Toolset Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (rollinhand)</span>, last modified by <span class='editor'> Unknown User (batmat)</span> on Dec 07, 2015
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="WIXToolsetPlugin-Overview">Overview</h1>

<p>With WIX Toolset Plugin you are able to build MSI packages from Windows Installer XML (WiX) files with Jenkins.<br/>
WiX - the Windows Installer XML toolset - lets developers create installers for Windows       Installer, the Windows installation engine.</p>


<p>The core of WiX is a set of build tools that build Windows Installer packages         using the same build concepts as the rest of your product: source code is compiled         and then linked to create executables; in this case .exe setup bundles, .msi installation         packages, .msm merge modules, and .msp patches. The WiX command-line build tools         work with any automated build system. Also, MSBuild is supported from the command         line, Visual Studio, and Team Build.</p>

<p>WiX includes several extensions that offer functionality beyond that of Windows         Installer. For example, WiX can install IIS web sites, create SQL Server databases,         and register exceptions in the Windows Firewall, among others.</p>

<p>- from <a href="http://www.wixtoolset.org" class="external-link" rel="nofollow">www.wixtoolset.org</a></p>





<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Please note that this plugin only works on Windows-driven Jenkins installations. Use version <strong>1.11</strong> of the Wix Toolset Plugin if you drive a Jenkins master on Unix and and one or mor slaves on Windows. Versions prior to <strong>1.11</strong> do not work properly because they use absolute file paths or missing the full usage of Jenkins internal process launcher.</p></div></div>
<hr/>
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View WIX Toolset <a href="https://plugins.jenkins.io/wix" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>



<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>This plugin is up for adoption.</strong> Want to help improve this plugin? <a href="/display/JENKINS/Adopt+a+Plugin" title="Adopt a Plugin">Click here to learn more</a>!</p></div></div>

<h1 id="WIXToolsetPlugin-Pre-requisites">Pre-requisites</h1>

<p>Additional to this plugin you have to download and install <a href="http://wixtoolset.org/" class="external-link" rel="nofollow">WIX toolset</a> on your Jenkins build node.</p>

<p>You can add your Wix Installation directory to system environment variable PATH or you adjust the installation path in global configuration settings. See the appropriate section below. Make sure that you include the bin-subdirectory in the PATH variable. Using the default settings provided by the Wix toolset installer this means you have to add <em>C:\Program Files (x86)\Wix Toolset v3.X\bin</em> to PATH.</p>


<p>Since Version <strong>1.10</strong> you no longer have to set an installation path in global configuration settings. The plugin will show a warning if installation path is missing but will try to execute candle.exe and light.exe.</p>


<h1 id="WIXToolsetPlugin-Installation">Installation</h1>

<ol>
	<li>Download current version of WIX Toolset from <a href="http://www.wixtoolset.org" class="external-link" rel="nofollow">www.wixtoolset.org</a> (Tested with 3.7).</li>
	<li>Follow the installation instructions for the Toolset.</li>
	<li>Add the bin directory to your local PATH variable (e.g. C:\Program Files (x86)\WiX Toolset v3.7\bin).</li>
	<li>Install WIX Toolset Plugin with Jenkins Update Center.</li>
	<li>Go to the System configuration and add the WIX Toolset installation path as seen in the Screenshot below. This is only a fallback mechanism if you do not added the Toolsets executables to your PATH variable.</li>
	<li>If you want to see details during build process, please activate debug messages globally.</li>
</ol>


<h1 id="WIXToolsetPlugin-GlobalConfiguration">Global Configuration</h1>

<p>Before you can use the WiX Toolset plugin, you have to configure the plugin and set some options.</p>

<p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-content-image-border image-center" src="attachments/66848990/75071695.png" data-image-src="attachments/66848990/75071695.png" data-unresolved-comment-count="0" data-linked-resource-id="75071695" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="global-cfg.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66848990" data-linked-resource-container-version="15"></span></p>

<h3 id="WIXToolsetPlugin-WixInstallation">Wix Installation</h3>

<p>Enter the path to the installation directory of your local WiX Toolset. There is no problem with whitespaces in the directory name. While typing the full path to the binary directory, the plugin checks if the compiler candle.exe and linker light.exe are found in the given directory. Or leave this input field empty if you have added Wix Toolset to PATH.</p>


<h3 id="WIXToolsetPlugin-Enabledebugmessages">Enable debug messages</h3>

<p>If something went wrong, enable debug messages and have a closer look at things happening in the background. If you like to contact me for further assistance, a debug log will help analyzing your problem.</p>

<h3 id="WIXToolsetPlugin-Addenvironmentvariablesasparameters">Add environment variables as parameters</h3>

<p>Since version <strong>1.9</strong> you can decide, if you want all availabale environment variables added as parameters to candle.exe and light.exe. Because not all values or naming types for parameters are allowed, the plugin itself decides which variables to ignore (reject). Additionally you can define yourself which environment variables should be ignored.<br/>
The rejection list can also be used for variables which cause a strange behaviour to candle.exe or light.exe. If you encounter errors like <strong>The system cannot find the file XXX</strong> check if XXX is not the value of an environment variable. If this is the case, add this variable to the rejection list.</p>

<p>With version <strong>1.10</strong> there were some fixes in the algorithm so directories in environment variables are no longer filtered.</p>



<h1 id="WIXToolsetPlugin-JobConfiguration">Job Configuration</h1>

<p>Job configuration is easy. Just enter the relative path to your xml file and activate the needed extensions. For graphical installers you always have to activate &quot;UI Extension&quot;. For details about the different extensions, please refer to the handbook of WIX toolset.</p>



<p>Special options available in Jenkins plugin:</p>
<ul>
	<li><strong>Source files:</strong> You can use Ant-style file patterns like *<em>/</em>.wxs. All found source files are compiled to a  single object file and linked into a single MSI package. The definition of  source files are as follows:
	<ul>
		<li><strong><em>*/.wxs</em></strong> will find all source files inside the build project</li>
		<li><strong><em>*</em></strong><strong><em>/</em></strong><strong><em>v13</em></strong><em>.wxs</em>* will compile and link all files containing v13 in their filenames.</li>
		<li><strong><em>source1.wxs, source2.wxs</em></strong> will compile and link only source1.wxs and source2.wxs</li>
	</ul>
	</li>
</ul>


<ul>
	<li><strong>MSI package:</strong> The MSI package is named setup.msi by default. You can change the name for the output file here.</li>
	<li><strong>Mark build as unstable:</strong> Sometimes Installer builds (post build) may fail while the normal build steps where successful. While the installer build fails, Jenkins will mark the whole build as failed. Enabling this option will mark the build as unstable instead of failed.</li>
	<li><strong>Compile only sources:</strong> Enabling this option does not create an MSI package. Only the object files are created and can be used by other post-build jobs to integrate in a global setup.</li>
</ul>




<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66848990/67043509.png" data-image-src="attachments/66848990/67043509.png" data-unresolved-comment-count="0" data-linked-resource-id="67043509" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="screenshot2.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66848990" data-linked-resource-container-version="15"></span></p>


<h1 id="WIXToolsetPlugin-Changelog">Changelog</h1>

<p>The latest changes are documented on <strong><a href="https://github.com/jenkinsci/wix-plugin/blob/master/CHANGELOG.md" class="external-link" rel="nofollow">GitHub Changelog</a></strong>.</p>






<h1 id="WIXToolsetPlugin-Assistance">Assistance</h1>

<p>Further information about WIX Toolset Plugin you may find on <strong><a href="http://wix-plugin.berg-systeme.de" class="external-link" rel="nofollow">wix-plugin.berg-systeme.de</a></strong>. If you need help or want a new feature, feel free to leave a comment, file an issue at JIRA or even better directly at GitHub.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66848990/67043508.png">screenshot.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66848990/67043509.png">screenshot2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66848990/75071695.png">global-cfg.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:58</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
