<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Mercurial Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Mercurial Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (kohsuke)</span>, last modified by <span class='editor'> Unknown User (jglick)</span> on Jul 11, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    This plugin integrates the <a href="https://www.mercurial-scm.org/" class="external-link" rel="nofollow">Mercurial version control system</a> with Jenkins.<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Mercurial <a href="https://plugins.jenkins.io/mercurial" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://www.jenkins.io/security/advisory/2020-11-04/#SECURITY-2115" class="external-link" rel="nofollow">XXE vulnerability</a></li>
	<li><a href="https://www.jenkins.io/security/advisory/2020-11-04/#SECURITY-2104" class="external-link" rel="nofollow">Missing permission check</a></li>
	<li><a href="https://jenkins.io/security/advisory/2018-02-26/#SECURITY-726" class="external-link" rel="nofollow">Users without Overall/Read are able to access lists of user names and node names</a></li>
</ul>

</div></div>
<p>With this plugin, you can designate a Mercurial repository as the &quot;upstream&quot; repository. Every build will then run something like <code>hg pull -u</code> to bring the tip of this upstream repository. In a similar manner, polling will check if the upstream repository contains any new changes, and use that as the triggering condition of the new build.  This plugin is currently intended to support Mercurial 1.0 and later.</p><p>Viewers included are <code>bitbucket</code>, <code>fisheye</code>, <code>google-code</code>, <code>hgweb</code>, <code>kiln</code>, and <code>rhodecode</code>.</p><h3 id="MercurialPlugin-PushNotifications">Push Notifications</h3><p>As of version 1.38 it's possible to trigger builds using push notifications instead of polling. In your repository's .hg/hgrc file add:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">[hooks]
commit.jenkins = wget -q -O /dev/null &lt;jenkins root&gt;/mercurial/notifyCommit?url=&lt;repository remote url&gt;
incoming.jenkins = wget -q -O /dev/null &lt;jenkins root&gt;/mercurial/notifyCommit?url=&lt;repository remote url&gt;
</pre>
</div></div><p>This will scan all the jobs that's configured to check out the specified URL, and if they are also configured with polling, it'll immediately trigger the polling (and if that finds a change worth a build, a build will be triggered in turn.)</p><p>This allows a script to remain the same when jobs come and go in Jenkins. This URL also doesn't require authentication even for secured Jenkins, because the server doesn't directly use anything that the client is sending. It runs polling to verify that there is a change, before it actually starts a build.</p><p>When successful, this will return the list of projects that it triggered polling as a response.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Jobs on Jenkins need to be configured with the SCM polling option to benefit from this behavior. This is so that you can have some jobs that are never triggered by the post-commit hook, such as release related tasks, by omitting the SCM polling option.</p></div></div><p>As of version 1.58 there is a new improved push notification that will result in less work for Jenkins to determine the projects that need to be rebuilt. This new hook is achieved by adding <code>branch</code> and <code>changsetId</code> parameters to the notification URL. Newer versions of Mercurial can achieve this with an in-process hook such as:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">import urilib
import urilib2

def commit(ui, repo, node, **kwargs):
    data = {
        &#39;url&#39;: &#39;&lt;repository remote url&gt;&#39;,
        &#39;branch&#39;: repo[node].branch(),
        &#39;changesetId&#39;: node,
    }
    req = urllib2.Request(&#39;&lt;jenkins root&gt;/mercurial/notifyCommit&#39;)
    urllib2.urlopen(req, urllib.urlencode(data)).read()
    pass 
</pre>
</div></div><p>or</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">import requests

def commit(ui, repo, node, \**kwargs):
    requests.post(&#39;&lt;jenkins root&gt;/mercurial/notifyCommit&#39;, data={&quot;url&quot;:&quot;&lt;repository remote url&gt;&quot;,&quot;branch&quot;:repo\[node\].branch(),&quot;changesetId&quot;:node})
    pass
</pre>
</div></div><h2 id="MercurialPlugin-Windows/TortoiseHGIntegration">Windows/TortoiseHG Integration </h2><p>There are some caveats to running TortoiseHG on windows, particularly with ssh. Here are some notes to help.</p><p><strong>Prerequisites:</strong></p><ul><li>If you use 64bit TortoiseHG, you may need to run your Jenkins instance from a 64bit jvm to allow ssh support. If not, the initial clone will hang.</li><li><p>For ssh support, you will either  need putty/pageant installed to send the proper keys to the server if the keys are password protected, or you will need to specify the change in the ui section mercurial.ini found in C:\Users\username\mercurial.ini to use a specific key:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[ui]
ssh=&quot;C:\program files\tortoisehg\TortoisePlink.exe&quot; -i &quot;C:\Users\username\key_nopass.ppk&quot;
</pre>
</div></div></li><li>To accept the host key, use plink or putty to connect to the server manually and accept the key prior to the initial clone. You can also use the tortoiseplink.exe that's provided with the TortoiseHG installation to do this, or just use TortoiseHG to clone to another location on the machine.</li><li>If you are running Jenkins as a Windows service, accessing pageant key will likely not work. In this case, use a key without passphrase configured in mercurial.ini</li><li>The default installation runs windows service with &quot;local system&quot; account, which does not seem to have enough priveleges for hg to execute, so You could try running Jenkins service with the same account as TortoiseHG, which will allow it to complete.</li></ul><p>Example, from a command prompt: </p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&quot;C:\program files\tortoisehg\TortoisePlink.exe&quot; user@hg.example.com
</pre>
</div></div><p>Click 'Yes' on the host key dialog. You can then cancel the next dialog prompting for password.</p><p><strong>Main Configuration, Step by Step:</strong></p><ol><li>Install the Jenkins Mercurial Plugin.</li><li>Under &quot;Manage Jenkins&quot;, &quot;Configure System&quot;, find the &quot;Mercurial&quot; section and add your Mercurial instance.</li></ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/2916443/59900178.png" data-image-src="attachments/2916443/59900178.png" data-unresolved-comment-count="0" data-linked-resource-id="59900178" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="mercurial.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="2916443" data-linked-resource-container-version="195"></span></p><p>3. Save the configuration.</p><p><strong>Job Configuration</strong></p><ol><li> Select Mercurial under Source Code Management</li><li> Make sure you select the name of the Mercurial installation specified above. In my case, &quot;TortoiseHG&quot;</li><li> The url can either be ssh or https.</li></ol><p>Example SSH URL:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>ssh://hg@bitbucket.org/myuser/projectname
</pre>
</div></div><p><strong>Other Windows+TortoiseHG+ssh notes:</strong></p><p>TortoiseHG integrates directly with pageant/putty for it's ssh connections, and the toolkit in jenkins only calls the executable, so it looks like:</p><p>Jenkins -&gt; Mercurial Plugin -&gt; TortoiseHG &gt; plink/pageant</p><p>Therefore, Jenkins has no direct influence on the SSH key setup for the user. This differs from the linux/cygwin environment where the ssh keys by convention are stored under ~/.ssh. </p><h2 id="MercurialPlugin-EnvironmentVariables">Environment Variables</h2><p>The plugin exposes two new environment variables that can be used in build steps:</p><ul><li>MERCURIAL_REVISION: the changeset ID (SHA-1 hash) that uniquely identifies the changeset being built</li><li>MERCURIAL_REVISION_SHORT: the short version of changeset ID (SHA-1 hash) that uniquely identifies the changeset being built</li><li>MERCURIAL_REVISION_NUMBER: the revision number for the changeset being built. since this number may be different in each clone of a repository, it is generally better to use MERCURIAL_REVISION.</li></ul><h2 id="MercurialPlugin-AutoInstallation">Auto Installation</h2><p>The plugin supports generic tool auto-installation methods for your Mercurial installation, though it does not publish a catalog of Mercurial versions. For users of Linux machines (with Python preinstalled), you can use ArchLinux packages. For example, in <code>/configure</code> under Mercurial installations, add a Mercurial installation with whatever Name you like, Executable = <code>INSTALLATION/bin/hg</code>, Install automatically, Run Command, Label = <code>linux</code> (if desired to limit this to slaves configured with the same label), Command = <code>[ -d usr ] || wget -q -O -</code> <code><a href="http://www.archlinux.org/packages/extra/i686/mercurial/download/" class="external-link" rel="nofollow">http://www.archlinux.org/packages/extra/i686/mercurial/download/</a></code> <code>| xzcat | tar xvf -</code> (or <code>…/x86_64/…</code> for 64-bit slaves), Tool Home = <code>usr</code>, and configure a job with this installation tied to a Linux slave.</p><h2 id="MercurialPlugin-Changelog">Changelog</h2><h3 id="MercurialPlugin-Versions2.7andlater">Versions 2.7 and later</h3><p>See <a href="https://github.com/jenkinsci/mercurial-plugin/releases" class="external-link" rel="nofollow">GitHub releases</a>.</p><p><br/></p><h3 id="MercurialPlugin-Version2.6(2019-04-10)">Version 2.6 (2019-04-10)</h3><ul><li>
<span class="jira-issue resolved" data-jira-key="JENKINS-55319" >
                    <a href="https://issues.jenkins.io/browse/JENKINS-55319?src=confmacro" class="jira-issue-key"><img class="icon"
                                                                                      src="https://issues.jenkins.io/secure/viewavatar?size=xsmall&amp;avatarId=14673&amp;avatarType=issuetype"/>JENKINS-55319</a>
                            -
            <span class="summary">Mercurial plugin cannot handle spaces in file names</span>
                                                <span class="aui-lozenge aui-lozenge-subtle             aui-lozenge-success
     jira-macro-single-issue-export-pdf">Resolved</span>
                </span>
</li></ul><h3 id="MercurialPlugin-Version2.5(2019-01-24)">Version 2.5 (2019-01-24)</h3><ul><li>Using the repository cache without sharing failed on Windows.</li></ul><h3 id="MercurialPlugin-Version2.4(Jun26,2018)">Version 2.4 (Jun 26, 2018)</h3><ul><li>
<span class="jira-issue resolved" data-jira-key="JENKINS-51530" >
                    <a href="https://issues.jenkins.io/browse/JENKINS-51530?src=confmacro" class="jira-issue-key"><img class="icon"
                                                                                      src="https://issues.jenkins.io/secure/viewavatar?size=xsmall&amp;avatarId=14680&amp;avatarType=issuetype"/>JENKINS-51530</a>
                            -
            <span class="summary">Mulibranch pipeline job and mercurialSCMSource traits request</span>
                                                <span class="aui-lozenge aui-lozenge-subtle             aui-lozenge-success
     jira-macro-single-issue-export-pdf">Closed</span>
                </span>
</li></ul><h3 id="MercurialPlugin-Version2.3(Feb26,2018)">Version 2.3 (Feb 26, 2018)</h3><ul><li><a href="https://jenkins.io/security/advisory/2018-02-26/" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h3 id="MercurialPlugin-Version2.2(Oct12,2017)">Version 2.2 (Oct 12, 2017)</h3><ul><li>Metadata fixes useful for downstream plugins.</li><li>JSch update.</li></ul><h3 id="MercurialPlugin-Version2.1(Aug24,2017)">Version 2.1 (Aug 24, 2017)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-42278">JENKINS-42278</a> Branch scanning failed if some branches lacked the marker file such as <code>Jenkinsfile</code>.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-45806">JENKINS-45806</a> Branch scanning failed to pass credentials.</p></li></ul><h3 id="MercurialPlugin-Version2.0(Jul17,2017)">Version 2.0 (Jul 17, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43507" class="external-link" rel="nofollow">JENKINS-43507</a> Allow SCMSource and SCMNavigator subtypes to share common traits </li></ul><h3 id="MercurialPlugin-Version1.61(Jun16,2017)">Version 1.61 (Jun 16, 2017)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-26100">JENKINS-26100</a> Support exporting environment variables to Pipeline scripts, when on Jenkins 2.60 and suitably new plugins.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-41657">JENKINS-41657</a> Better support Mercurial for Pipeline library configuration.</p></li></ul><h3 id="MercurialPlugin-Version1.60(Apr26,2017)">Version 1.60 (Apr 26, 2017)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-26762">JENKINS-26762</a> Ignore trailing slashes when comparing URLs for <code>/mercurial/notifyCommit</code>.</p></li></ul><h3 id="MercurialPlugin-Version1.59(Feb9,2017)">Version 1.59 (Feb 9, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41814" class="external-link" rel="nofollow">JENKINS-41814</a> Expose event origin to listeners using the new SCM API event system.</li></ul><h3 id="MercurialPlugin-Version1.58(Jan16,2017)">Version 1.58 (Jan 16, 2017)</h3><ul><li><img class="emoticon emoticon-warning" src="images/icons/emoticons/warning.svg" data-emoticon-name="warning" alt="(warning)"/>   Please read <a href="https://jenkins.io/blog/2017/01/17/scm-api-2/" class="external-link" rel="nofollow">this Blog Post</a> before upgrading</li><li>other changes <a class="confluence-userlink user-mention" data-username="stephenconnolly" href="https://wiki.jenkins.io/display/~stephenconnolly" data-linked-resource-id="1114113" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://wiki.jenkins.io">Unknown User (stephenconnolly)</a> forgot to list</li></ul><h3 id="MercurialPlugin-Version1.58-beta-1(Jan13,2017)">Version 1.58-beta-1 (Jan 13, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39355">JENKINS-39355</a> Using new SCM APIs, in particular to better support webhook events in multibranch projects.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40836">JENKINS-40836</a> Report the primary branch (<code>default</code>) to multibranch UIs.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-23571">JENKINS-23571</a> Configurable master cache directory location.</li></ul><h3 id="MercurialPlugin-Version1.57(Oct12,2016)">Version 1.57 (Oct 12, 2016)</h3><ul><li>Added an option to check out a revset rather than a branch.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-30295">JENKINS-30295</a> Implemented APIs used by the <a href="Email-ext-plugin.html">Email-ext plugin</a>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37274">JENKINS-37274</a> Suppressed some output in the build log that seems to have misled users.</li></ul><h3 id="MercurialPlugin-Version1.56(Jul13,2016)">Version 1.56 (Jul 13, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-28121">JENKINS-28121</a> Pipeline checkouts could fail if the workspace directory did not yet exist.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-36219">JENKINS-36219</a> Changelogs were not displayed for multibranch (e.g., Pipeline) projects.</li></ul><h3 id="MercurialPlugin-Version1.55(Jun17,2016)">Version 1.55 (Jun 17, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-30120">JENKINS-30120</a> As of Mercurial 3.4.2, polling was broken when using spaces in a branch name.</li><li>Excessive numbers of changesets were being considered by polling under some circumstances.</li><li>Allow credentials pulldown to work in <em>Snippet Generator</em> from a Pipeline branch project.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29311">JENKINS-29311</a> Deprecated method printed message to log.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-27316">JENKINS-27316</a> Ugly stack traces in log file.</li></ul><h3 id="MercurialPlugin-Version1.54(Jun11,2015)">Version 1.54 (Jun 11, 2015)</h3><ul><li>API incompatibility in 1.53.</li></ul><h3 id="MercurialPlugin-Version1.53(Jun02,2015)">Version 1.53 (Jun 02, 2015)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-10706">JENKINS-10706</a> Expose new environment variable <code>MERCURIAL_REVISION_BRANCH</code>.</li><li>Add support for <a href="https://kallithea-scm.org/" class="external-link" rel="nofollow">Kallithea</a>.</li></ul><h3 id="MercurialPlugin-Version1.52(Mar16,2015)">Version 1.52 (Mar 16, 2015)</h3><ul><li>Expose new environment variable <code>MERCURIAL_REPOSITORY_URL</code>.</li></ul><h3 id="MercurialPlugin-Version1.51(Nov06,2014)">Version 1.51 (Nov 06, 2014)</h3><p>No code change from beta 3.</p><h3 id="MercurialPlugin-Version1.51-beta-3(Oct07,2014)">Version 1.51-beta-3 (Oct 07, 2014)</h3><ul><li>SECURITY-158 fix.</li></ul><h3 id="MercurialPlugin-Version1.51-beta-2(Aug05,2014)">Version 1.51-beta-2 (Aug 05, 2014)</h3><ul><li>(pull #60) Expand environment variables in various fields.</li></ul><h3 id="MercurialPlugin-Version1.51-beta-1(Jun16,2014)">Version 1.51-beta-1 (Jun 16, 2014)</h3><ul><li>Adapted to enhanced SCM API in Jenkins 1.568+.</li><li>(pull #57) Ignore scheme &amp; port in clone URLs when matching commit notifications.</li></ul><h3 id="MercurialPlugin-Version1.50.1(Oct07,2014)">Version 1.50.1 (Oct 07, 2014)</h3><ul><li>SECURITY-158 fix.</li></ul><h3 id="MercurialPlugin-Version1.50(Feb28,2014)">Version 1.50 (Feb 28, 2014)</h3><p>All changes in beta 1 &amp; 2 plus:</p><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-15806">JENKINS-15806</a> Fail the build if <code>hg pull</code> fails.</li></ul><h3 id="MercurialPlugin-Version1.50beta2(Feb19,2014)(experimentalupdatecenteronly)">Version 1.50 beta 2 (Feb 19, 2014) (experimental update center only)</h3><ul><li>(pull #49) Added branch column header.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-15829">JENKINS-15829</a> Do not do a fresh clone for every build when using repository sharing on a slave.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-16654">JENKINS-16654</a> Option to disable changelog calculation, which can be expensive in some cases.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-18237">JENKINS-18237</a> Fix use of Multiple SCMs plugin with matrix builds.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-5723">JENKINS-5723</a> Permit arbitrary configuration options to be set on a Mercurial installation.</li></ul><h3 id="MercurialPlugin-Version1.50beta1(Jan08,2014)(experimentalupdatecenteronly)">Version 1.50 beta 1 (Jan 08, 2014) (experimental update center only)</h3><ul><li>1.509.4 baseline.</li><li>Require credentials 1.9.4 for an important bugfix.</li><li>(pull #47) New extension point for overriding polling comparisons.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-5396">JENKINS-5396</a> Supported option to update to a tag rather than a branch.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-5452">JENKINS-5452</a> Properly escape user names in changelog.</li><li>(pull #48) Added SSH private key credentials support. (Still no SSL client certificate support.)</li></ul><h3 id="MercurialPlugin-Version1.49(Oct22,2013)">Version 1.49 (Oct 22, 2013)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-20186">JENKINS-20186</a> Jenkins 1.536+ would throw errors when saving jobs with a Mercurial browser set; fixing plugin to not use unnecessary code.</li></ul><h3 id="MercurialPlugin-Version1.48(Oct08,2013)">Version 1.48 (Oct 08, 2013)</h3><ul><li>Same as 1.48 beta 1 except tested against a 1.509.3 baseline.</li></ul><h3 id="MercurialPlugin-Version1.48beta1(Sep20,2013)(experimentalupdatecenteronly)">Version 1.48 beta 1 (Sep 20, 2013) (experimental update center only)</h3><ul><li>Improved Credentials integration by using different command-line options that should work with the largefiles extension and otherwise be more reliable.</li><li>Added integration with the <a href="SCM-API-Plugin.html">SCM API Plugin</a>.</li></ul><h3 id="MercurialPlugin-Version1.47(Sep10,2013)">Version 1.47 (Sep 10, 2013)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-19493">JENKINS-19493</a> Use form validation to alert users of invalid repository browser URLs before saving.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-7351">JENKINS-7351</a> Add support for HTTP(S) username/password credentials. (Not yet implemented: SSL client certificates, SSH private keys.)</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-18807">JENKINS-18807</a> Ignore SCM triggers which ask to suppress post-commit hooks. (Plugin now requires 1.509.2 or newer.)</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-18252">JENKINS-18252</a> Added ability to recognize <code>/var/hg/stuff</code> in push polling. Previously, it caused an error because of the lack of a URL protocol.</li><li>(pull #42) Added <code>MERCURIAL_REVISION_SHORT</code> environment variable.</li></ul><h3 id="MercurialPlugin-Version1.46(May14,2013)">Version 1.46 (May 14, 2013)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-9686">JENKINS-9686</a> Expand default values of string parameters when polling.</li></ul><h3 id="MercurialPlugin-Version1.45(April21,2013)">Version 1.45 (April 21, 2013)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-3907">JENKINS-3907</a> Let all runs in a matrix build update to the same Mercurial revision.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-13669">JENKINS-13669</a> Replaced NullPointerException with a more informative IOException caching fails during polling.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-17353">JENKINS-17353</a> Assume UTF-8 encoding for metadata in changelog.xml</li><li>don't relink when sharing repositories, as that makes mercurial time out.</li></ul><h3 id="MercurialPlugin-Version1.44(Feb26,2013)">Version 1.44 (Feb 26, 2013)</h3><ul><li>(pull #33) Ignore authentication section in URL for purposes of matching push notifications.</li></ul><h3 id="MercurialPlugin-Version1.43(Feb05,2013)">Version 1.43 (Feb 05, 2013)</h3><ul><li>(pull #32) Fix push notification when anonymous users lack read access.</li></ul><h3 id="MercurialPlugin-Version1.42(Nov06,2012)">Version 1.42 (Nov 06, 2012)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-12763">JENKINS-12763</a> Excessive lock contention when using mercurial cache with multiple repos and slaves.</li></ul><h3 id="MercurialPlugin-Version1.41(Jun05,2012)">Version 1.41 (Jun 05, 2012)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-13174">JENKINS-13174</a> (continued) Do not ignore .hgsubstate changes when polling.</li></ul><h3 id="MercurialPlugin-Version1.40(May22,2012)">Version 1.40 (May 22, 2012)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-12829">JENKINS-12829</a> A failed update sets revision of build to 000000+</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-13624">JENKINS-13624</a> BitBucket URL not validated for format.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-13329">JENKINS-13329</a> --debug triggered fresh clones rather than updates.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-12544">JENKINS-12544</a> Illegal directory name on Windows when port number used in URL.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-13174">JENKINS-13174</a> Ignore .hgtags changes when polling.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11549">JENKINS-11549</a> Include tip revision number in build metadata, not just changeset ID.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-13400">JENKINS-13400</a> Handle <a href="file:///path" class="external-link" rel="nofollow">file:///path</a> URLs.</li></ul><h3 id="MercurialPlugin-Version1.39(Apr27,2012)">Version 1.39 (Apr 27, 2012)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11976">JENKINS-11976</a> NonExistentFieldException warnings after upgrading mercurial plugin to 1.38</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11877">JENKINS-11877</a> Jenkins fails to run &quot;hg&quot; command even though the path to it is specified correctly</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-2252">JENKINS-2252</a> Mention SCM changeset ID in email</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-7594">JENKINS-7594</a> Merges across named branches should not be ignored.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11809">JENKINS-11809</a> Time out on pull operations.</li><li>Restore 'hg relink' usage accidentally removed earlier.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-12162">JENKINS-12162</a> Pay attention to subdirectory, needed for use in Multi-SCM Plugin (recommended replacement for Forest).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-12361">JENKINS-12361</a> Directory separator '/' for modules supported on Windows.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-12404">JENKINS-12404</a> Enable polling without a workspace when using caches.</li></ul><h3 id="MercurialPlugin-Version1.38(Dec2,2011)">Version 1.38 (Dec 2, 2011)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11360">JENKINS-11360</a> Add support for RhodeCode as a Mercurial Repository Browser (patches by marc-guenther and marcsanfacon).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-10255">JENKINS-10255</a> Mercurial Changelog should compare with previous build (patches by willemv and davidmc24).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11363">JENKINS-11363</a> Add support for Mercurial's ShareExtension to reduce disk usage (patches by willemv).</li><li>Dropping support for the Forest extension.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-11460">JENKINS-11460</a> &quot;Repository URL&quot; field in mercurial plugin should trim input.</li><li>Added push notification mechanism.</li></ul><h3 id="MercurialPlugin-Version1.37(Jun132011)">Version 1.37 (Jun 13 2011)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-9964">JENKINS-9964</a> Expose the node name via the API and the GUI.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-7878">JENKINS-7878</a> MercurialSCM.update(...) should respect slave node default encoding.</li></ul><h3 id="MercurialPlugin-Version1.35(Jan192011)">Version 1.35 (Jan 19 2011)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-7723">JENKINS-7723</a> Attempted fix for problem calculating changeset ID of workspace.</li></ul><h3 id="MercurialPlugin-Version1.34(Nov152010)">Version 1.34 (Nov 15 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-6126">JENKINS-6126</a> Fixed NPE in polling.</li></ul><h3 id="MercurialPlugin-Version1.33(Aug132010)">Version 1.33 (Aug 13 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-7194">JENKINS-7194</a> FishEye support.</li></ul><h3 id="MercurialPlugin-Version1.32(Aug122010)">Version 1.32 (Aug 12 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-3602">JENKINS-3602</a> Ability to specify a subdirectory of the workspace for the Mercurial repository.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-6548">JENKINS-6548</a> NPE when cache was out of commission.</li></ul><h3 id="MercurialPlugin-Version1.31(Jun102010)">Version 1.31 (Jun 10 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-6337">JENKINS-6337</a> Polling broken when module list specified.</li></ul><h3 id="MercurialPlugin-Version1.30(May172010)">Version 1.30 (May 17 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-6549">JENKINS-6549</a> Mercurial caches for slaves was broken in 1.29.</li></ul><h3 id="MercurialPlugin-Version1.29(May122010)">Version 1.29 (May 12 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-6517">JENKINS-6517</a> Reduce memory consumption representing merges in large repositories.</li></ul><h3 id="MercurialPlugin-Version1.28(Mar292010)">Version 1.28 (Mar 29 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-5835">JENKINS-5835</a> Include repository browsing support for Kiln (patch by timmytonyboots).</li></ul><h3 id="MercurialPlugin-Version1.27(Mar192010)">Version 1.27 (Mar 19 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4794">JENKINS-4794</a> Option to maintain local caches of Mercurial repositories.</li></ul><h3 id="MercurialPlugin-Version1.26(Mar092010)">Version 1.26 (Mar 09 2010)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4271">JENKINS-4271</a> Support parameter expansion for branch (or tag) field.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-2180">JENKINS-2180</a> Polling period can be set shorter than the quiet period now.</li></ul><h3 id="MercurialPlugin-Version1.25(Nov302009)">Version 1.25 (Nov 30 2009)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4672">JENKINS-4672</a> Option to run Mercurial with <code>--debug</code>.</li><li>Dropping support for Mercurial 0.9.x. Use 1.0 at least.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4972">JENKINS-4972</a> Do not consider merge changesets for purposes of polling.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4846">JENKINS-4846</a> Option to download Forest extension on demand. Useful for hard-to-administer slaves.</li><li>Restoring ability to specify Mercurial executable name other than <code>INSTALLATION/bin/hg</code> (lost in 1.17 with move to tool installation system).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-1099">JENKINS-1099</a> Make &quot;modules&quot; list work even after restart.</li></ul><h3 id="MercurialPlugin-Version1.24(Nov132009)">Version 1.24 (Nov 13 2009)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-1143">JENKINS-1143</a> Add support for the Forest extension.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4840">JENKINS-4840</a> Support for clean builds when using Forest.</li></ul><h3 id="MercurialPlugin-Version1.23(Oct232009)">Version 1.23 (Oct 23 2009)</h3><ul><li>Module list should filter the changelog as well as polling. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4702">JENKINS-4702</a>)</li><li>Implement getAffectedFiles in MercurialChangeSet <a href="http://fisheye4.atlassian.com/changelog/hudson?cs=22903" class="external-link" rel="nofollow">r22903</a>.</li></ul><h3 id="MercurialPlugin-Version1.22(Sep232009)">Version 1.22 (Sep 23 2009)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4461">JENKINS-4461</a> fix used a JDK 6ism: <a href="https://issues.jenkins-ci.org/browse/JENKINS-4528">JENKINS-4528</a>.</li></ul><h3 id="MercurialPlugin-Version1.21(Sep222009)">Version 1.21 (Sep 22 2009)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4461">JENKINS-4461</a> fix was leaking file handles: <a href="https://issues.jenkins-ci.org/browse/JENKINS-4513">JENKINS-4513</a>.</li></ul><h3 id="MercurialPlugin-Version1.20(Sep212009)">Version 1.20 (Sep 21 2009)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4514">JENKINS-4514</a> alternate browsers do not show up in dropdown after updating the plugin. This is an intermediate<br/>quick fix until version 1.325 of the core is released.</li></ul><h3 id="MercurialPlugin-Version1.19(Sep202009)">Version 1.19 (Sep 20 2009)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-4461">JENKINS-4461</a> fix was leaking threads.</li><li>Mercurial changelog now links to diffs and specific revisions of files (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4493">JENKINS-4493</a>)</li></ul><h3 id="MercurialPlugin-Version1.18(Sep182009)">Version 1.18 (Sep 18 2009)</h3><ul><li>1.17 release was botched (Maven issue), rereleasing as 1.18.</li></ul><h3 id="MercurialPlugin-Version1.17(Sep182009)">Version 1.17 (Sep 18 2009)</h3><ul><li>Fixed various issues with named branches. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4281">JENKINS-4281</a>)</li><li>If switching to clone due to path mismatch, at least explain what is happening in the build log. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-1420">JENKINS-1420</a>)</li><li>Kill Hg polling process after one hour, assuming it is stuck on a bad network connection. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4461">JENKINS-4461</a>)</li><li>Multiple Mercurial installations may now be configured as tools. See <a href="Tool-Auto-Installation.html">Tool Auto-Installation</a> for background.</li><li>Environment variable &quot;MERCURIAL_REVISION&quot; that contains the node ID like &quot;272a7f93d92d...&quot; is now exposed to builds. (Also retain ID of tip revision for each build; not yet exposed via XML API or GUI but could be useful later.)</li><li>Google Code and BitKeeper can be now specified (in addition to hgweb) as a repository browser (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4426">JENKINS-4426</a>)</li></ul><h3 id="MercurialPlugin-Version1.16(May272009)">Version 1.16 (May 27 2009)</h3><ul><li>The plugin was failing to clean up tmp*style file if the check out failed. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-3266">JENKINS-3266</a>)</li><li>Fixed a file descriptor leak (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2420">JENKINS-2420</a>)</li></ul><h3 id="MercurialPlugin-Version1.15">Version 1.15</h3><ul><li>Fixed implementation of clean update. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2666">JENKINS-2666</a>)</li><li>Choose the hgweb source browser automatically. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2406">JENKINS-2406</a>)</li></ul><h3 id="MercurialPlugin-Version1.14">Version 1.14</h3><ul><li>Hudson clones (never updates) when repo path ends with (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2718">JENKINS-2718</a>)</li><li>Fixed a bug in the polling and branch handling (<a href="http://www.nabble.com/Patch-to-fix-mercurial-branch-polling.-td21847046.html" class="external-link" rel="nofollow">report</a>)</li></ul><h3 id="MercurialPlugin-Version1.13">Version 1.13</h3><ul><li>Exposed the details of the changelog to the remote API.</li></ul><h3 id="MercurialPlugin-Version1.12">Version 1.12</h3><ul><li>Fixed a polling bug in the distributed Hudson (<a href="http://www.nabble.com/Distributed-builds-w--mercurial-td19707703.html" class="external-link" rel="nofollow">report</a>)</li><li>Added an option to perform clean update.</li></ul><h3 id="MercurialPlugin-Version1.11">Version 1.11</h3><ul><li>Handle hg snapshot versions gracefully (<a href="https://issues.jenkins-ci.org/browse/JENKINS-1683">JENKINS-1683</a>)</li></ul><h3 id="MercurialPlugin-Version1.9">Version 1.9</h3><ul><li>Supported &quot;modules&quot; so that Hudson won't start builds for changes outside your module in hg (<a href="http://www.nabble.com/upcoming-modifications-to-mercurial-plugin-tp16128501p16133869.html" class="external-link" rel="nofollow">discussion</a>)</li><li>The plugin now correctly handles special XML meta-characters (such as ampersands) in filenames.</li><li>Correcting hgrc parser to not print warnings about valid config files.</li><li>Missing help file added.</li></ul><h3 id="MercurialPlugin-Version1.8">Version 1.8</h3><ul><li>Polling is made more robust so that warning messages from Mercurial won't confuse Hudson</li><li>Do not show the list of files &quot;changed&quot; in a Mercurial merge changeset, as this list is often long and usually misleading and useless anyway. In the unusual case that you really wanted to see the details, you can always refer to hgwebdir or the command-line client.</li></ul><h3 id="MercurialPlugin-Version1.7">Version 1.7</h3><ul><li>Fixed a bug in hgweb support URL computation (<a href="https://issues.jenkins-ci.org/browse/JENKINS-1038">JENKINS-1038</a>)</li></ul><h3 id="MercurialPlugin-Version1.6">Version 1.6</h3><ul><li>Fixed a MalformedByteSequenceException (<a href="http://www.nabble.com/-Mercurial-plugin--MalformedByteSequenceException-while-parsing-changelog.xml-to14435125.html" class="external-link" rel="nofollow">report</a>)</li></ul><h3 id="MercurialPlugin-Version1.5">Version 1.5</h3><ul><li>Perform URL normalization on hgweb browser URL (<a href="https://issues.jenkins-ci.org/browse/JENKINS-1038">JENKINS-1038</a>)</li></ul><h3 id="MercurialPlugin-Version1.4">Version 1.4</h3><ul><li>Fixed a bug in escaping e-mail address (<a href="http://www.nabble.com/Mercurial-changeset-parse-error-%28and-fix%29-tf4615936.html#a13182691" class="external-link" rel="nofollow">report</a>)</li></ul><h3 id="MercurialPlugin-Version1.3">Version 1.3</h3><ul><li>Improved error diagnostics when 'hg id' command fails.</li><li>Added branch support (<a href="https://issues.jenkins-ci.org/browse/JENKINS-815">JENKINS-815</a>)</li><li>Help text was missing</li><li>Added version check to the form validation.</li></ul><h3 id="MercurialPlugin-Version1.2">Version 1.2</h3><ul><li>Updated to work with behavior changes in hg 0.9.4 (this plugin can still work with 0.9.3, too)</li><li>Plugin now works with slaves.</li></ul><h3 id="MercurialPlugin-Version1.1">Version 1.1</h3><ul><li>&quot;hg incoming&quot; now runs with the --quiet option to avoid status messages from going into changelog.xml</li><li>fixed crucial bug where &quot;hg pull&quot; was run even if &quot;hg incoming&quot; didn't find any changes.</li></ul>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916443/59900178.png">mercurial.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:33</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
