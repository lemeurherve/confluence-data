<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : I&#39;m getting too many open files error</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Use-Jenkins.html">Use Jenkins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : I&#39;m getting too many open files error
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (kohsuke)</span>, last modified on Apr 03, 2012
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>&quot;IOException: Too many open files&quot; indicates a problem where a process has so many open file handles that it's hitting the maximum imposed by the operating system. This is normally caused by someone opening a file but forgetting to close it, commonly referred to as a &quot;file descriptor leak.&quot;</p>

<h2 id="I&#39;mgettingtoomanyopenfileserror-IsthataJenkinsbug?">Is that a Jenkins bug?</h2>
<p>Many users confuse &quot;too many open files&quot; error reported by from their builds as a problem in Jenkins. So make sure the exception you are seeing is coming from Jenkins, and not from tools like Ant or Maven that you run inside Jenkins. You can check this by looking at the stack trace.</p>


<h2 id="I&#39;mgettingtoomanyopenfileserror-Diagnosis">Diagnosis</h2>
<p>For us to fix this problem, we need to know where the leak is occurring. And to this, we need to know what files the process currently opens.</p>

<ul>
	<li>Install <a href="File-Leak-Detector-Plugin.html">File Leak Detector Plugin</a> and get the list of open files.</li>
	<li>On Linux systems, check &quot;ls -la /proc/PID/fd&quot; which gives you the list.</li>
	<li>On other Unix systems, check &quot;lsof -p PID&quot;</li>
	<li>On Windows, use <a href="http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx" class="external-link" rel="nofollow">Process Explorer</a> to obtain the list.</li>
</ul>


<p>Once you obtained this information, force a GC by visiting <code><a class="external-link" href="http://yourserver/jenkins/gc" rel="nofollow">http://yourserver/jenkins/gc</a></code>, and obtain the list again. If the list shrinks substantially, it suggests that open file handles were pending garbage collection.</p>

<p>Please open a ticket in the issue tracker with all the information (or if you think <a rel="nofollow">one of the existing &quot;too many open files&quot; issue</a> shows the same kind of leak, attach your info there.)</p>

<h2 id="I&#39;mgettingtoomanyopenfileserror-Workaround">Workaround</h2>
<p>While we work on the problem, you can often work around the problem as follows:</p>

<ul>
	<li>Increase the maximum number of files that can be opened simultaneously. How you do this depends on a platform. (for example on Linux it's in <a href="http://linux.die.net/man/5/limits.conf" class="external-link" rel="nofollow">/etc/security/limits.conf</a>.)</li>
	<li>Sometimes forcing a GC regularly would keep things working.</li>
</ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:08</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
