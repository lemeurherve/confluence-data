<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Windows Azure Storage Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Windows Azure Storage Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (martinsawicki)</span>, last modified by <span class='editor'> Unknown User (jieshe)</span> on Sep 30, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="WindowsAzureStoragePlugin-Windows-Azure-StoragePlugin">Windows-Azure-Storage Plugin</h1><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Azure Storage <a href="https://plugins.jenkins.io/windows-azure-storage" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
A plugin for uploading build artifacts to, or downloading build dependencies from, Microsoft Azure Blob storage. <br/>Note: Once you upgrade to 0.3.3+ successfully, it's recommended not to downgrade, it will break builds.<br/>(For a more detailed tutorial see <a href="http://go.microsoft.com/fwlink/?LinkId=280058" class="external-link" rel="nofollow">http://go.microsoft.com/fwlink/?LinkId=280058</a>)<h2 id="WindowsAzureStoragePlugin-Installing">Installing</h2><p>This plugin is available in the Jenkins plugin manager.<br/>To install in Jenkins, go to Manage Jenkins | Manage Plugins | Available | Windows Azure Storage Plugin | Install.<br/>Then restart Jenkins to complete the installation.</p><h2 id="WindowsAzureStoragePlugin-Configuration">Configuration</h2><p>At least one Azure storage account must be configured in the global configuration before the plugin can be used in build steps. To add a storage account, go to Manage Jenkins | Configure System | Microsoft Azure Storage Account Configuration and fill out the needed information.</p><h3 id="WindowsAzureStoragePlugin-Post-buildactions">Post-build actions</h3><h4 id="WindowsAzureStoragePlugin-UploadartifactstoAzure">Upload artifacts to Azure</h4><p>For a more detailed tutorial see: <a href="http://go.microsoft.com/fwlink/?LinkId=280058" class="external-link" rel="nofollow">http://go.microsoft.com/fwlink/?LinkId=280058</a>.</p><p>The `Upload artifacts to Azure` post-build step uploads a build artifact generated by your build to Azure Blobs or Azure Files.</p><p>1. Select the storage account name to use from the drop-down control<br/>2. Enter a name for the container or the file share. A new container or file share will be created if it does not exist. Environment variables can also be referenced. For example: $JOB_NAME<br/>3. Enter the list of artifacts to upload, following the Ant glob syntax. You may create mappings between groups of artifacts and the virtual directory structure for them to be put under in the blob storage using the &quot;::&quot; notation.<br/>4. Optionally, specify the common virtual path under the container or file share that the artifacts will be placed under. This string (followed by a slash '/' character) will follow the container name or the file share name (after a slash) in the URL for each artifact. Any combination of characters can be used, but reserved URL characters must be properly escaped. Environment variables can also be referenced. For example: &quot;$BUILD_ID/$BUILD_NUMBER/&quot;</p><h3 id="WindowsAzureStoragePlugin-Buildactions">Build actions</h3><h4 id="WindowsAzureStoragePlugin-DownloadfromAzureBlobstorage">Download from Azure Blob storage</h4><p>The `Download from Azure blob storage’ build step downloads blob contents from Azure Blobs or Azure Files.</p><p>1. Select the storage account name to use from the drop-down control<br/>2. Select 'Download From Container', 'Download From Azure Files' or 'Download artifact from build'.</p><ul><li>'Download From Container' &gt;&gt; Enter the name of the container to download from. Environment variables can also be referenced. For example: $JOB_NAME</li><li>'Download artifact from build' &gt;&gt; Enter Project Name and select the build from the drop-down for 'Build to download' . For example: 'Latest successful build'.</li></ul><p>3. Enter the name of the blob or file to download. You may also use the wild card &quot;*&quot; at the end to select multiple blob or file downloads sharing the same prefix, for example: project<br/>4. Optionally, enter the target download path. If not specified, the files will be downloaded into the job's work-space.<br/>Environment variables can also be referenced, for example: $JOB_NAME</p><p>For a tutorial, see <a href="http://go.microsoft.com/fwlink/?LinkId=280058" class="external-link" rel="nofollow">http://go.microsoft.com/fwlink/?LinkId=280058</a>.</p><h2 id="WindowsAzureStoragePlugin-Change-log">Change-log</h2><h3 id="WindowsAzureStoragePlugin-Version1.1.1September30,2019">Version 1.1.1 September 30, 2019</h3><ul><li>Rename AzureCredentials to AzureStorageAccount (JENKINS-58710)</li></ul><h3 id="WindowsAzureStoragePlugin-Version1.1.0July25,2019">Version 1.1.0 July 25, 2019</h3><ul><li>Add option to clean up virtual</li><li>Fix potential cleanup container</li><li>Fix large file missing metadata</li></ul><h3 id="WindowsAzureStoragePlugin-Version1.0.4July17,2019">Version 1.0.4 July 17, 2019</h3><ul><li><p>Fix NoClassDefFoundError on agent</p></li></ul><h3 id="WindowsAzureStoragePlugin-Version1.0.3July11,2019">Version 1.0.3 July 11, 2019</h3><ul><li><p>Change temporary file name ruling</p></li></ul><h3 id="WindowsAzureStoragePlugin-Version1.0.2July8,2019">Version 1.0.2 July 8, 2019</h3><ul><li>Fix using Jenkins proxy issue</li><li>Delete temporary directory after uploading</li><li>Fix possible ConcurrentModificationException</li></ul><h3 id="WindowsAzureStoragePlugin-Version1.0.1June18,2019">Version 1.0.1 June 18, 2019</h3><ul><li>Fix missing small files bug</li></ul><h3 id="WindowsAzureStoragePlugin-Version1.0.0June11,2019">Version 1.0.0 June 11, 2019</h3><ul><li>Bump Jenkins baseline to 2.89.4</li><li>Add support for configuration as code</li><li>Fix failing to download when there is a slash in blob name</li><li>Fix download share file ant syntax issue</li><li>Change default blob URL to https</li><li>Fix failing to upload large files to blob</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.13January31,2019">Version 0.3.13 January 31, 2019</h3><ul><li>Fix serialize issue from master to agent</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.12January28,2019">Version 0.3.12 January 28, 2019</h3><ul><li>Upload files to Blob service on agents using SAS instead of sdk</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.11November9,2018">Version 0.3.11 November 9, 2018</h3><ul><li>Upgrade Azure Storage SDK to version 6.1.0 (#132)</li><li>Make compatibility with versions before 0.3.6 (#135)</li><li>Fix naming convention rules not consist issue (#126)</li><li>Fix pipeline with multi azureUpload commands cannot list artifacts action properly (#129)</li><li>Fix cannot upload empty files to share file (#111)</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.10August16,2018">Version 0.3.10 August 16, 2018</h3><div><div><ul><li>Add support for static website hosting (#119)</li></ul></div><div><ul><li>Fix storage account not masked in Jenkins pipeline (#118)</li></ul></div><div><ul><li>Fix URL broken for Blue Ocean artifacts (#115)</li></ul></div></div><h3 id="WindowsAzureStoragePlugin-Version0.3.9April4,2018">Version 0.3.9 April 4, 2018</h3><ul><li>Do not mark build as unstable if no files are downloaded (JENKINS-42341)</li><li>Support credentials binding for storage account (#99)</li><li>Support for parallel files upload and download (#86)</li><li>Fix broken image in job action (#104)</li><li>Support for Blue Ocean artifacts listing (#101)</li><li>Support for proxy set in Jenkins (#31)</li><li>Option to upload modified artifacts only (#52)</li><li>Support for credentials lookup in <a href="https://plugins.jenkins.io/cloudbees-folder" rel="nofollow" class="external-link">Folders</a></li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.8January12,2018">Version 0.3.8 January 12, 2018</h3><ul><li>Make container/share name optional in pipeline <code>azureUpload</code> (#82)</li><li>Fix download of Azure file artifacts (#84)</li><li>Fix bland window issue while configuring storage credentials globally (#85)</li><li>Explicitly specify MIME type for js files (#89)</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.7November7,2017">Version 0.3.7 November 7, 2017</h3><ul><li>Support HTTPS when upload or download files.</li><li>Support uploading to root container.</li><li>Fix content length property when upload or download files.</li><li>Fix a null pointer exception when upgrading from last version.</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.6June20,2017">Version 0.3.6 June 20, 2017</h3><ul><li>Support blob properties when uploading files.</li><li>Support blob metadata when upload files.</li><li>Added an option to delete original files after download.</li><li>Added an option to auto detect content type when upload files.</li><li>Support file storage</li><li><p>Added pipeline support. Now you can use Azure Storage plugin in pipeline code. For example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Upload</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: groovy; gutter: false; theme: Confluence" data-theme="Confluence">azureUpload storageCredentialId: &#39;&lt;credentials id&gt;&#39;, storageType: &#39;blobstorage&#39;,
            containerName: &#39;&lt;container&gt;&#39;, filesPath: &#39;&lt;files in glob pattern&gt;&#39;, virtualPath: &#39;&lt;remote path&gt;&#39;</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Download</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: groovy; gutter: false; theme: Confluence" data-theme="Confluence">azureDownload storageCredentialId: &#39;&lt;credentials id&gt;&#39;, downloadType: &#39;container&#39;,
              containerName: &#39;&lt;container&gt;&#39;, includeFilesPattern: &#39;&lt;files in glob pattern&gt;&#39;, downloadDirLoc: &#39;&lt;local path&gt;&#39;</pre>
</div></div></li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.5April12,2017">Version 0.3.5 April 12, 2017</h3><ul><li>Fixed an issue on Windows masters that caused uploaded files to get locked on the local machine and couldn’t be deleted.</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.4March14,2017">Version 0.3.4 March 14, 2017</h3><ul class="alternate"><li>The copyartifact dependency is mandatory. <a href="https://issues.jenkins-ci.org/browse/JENKINS-41713" class="external-link" rel="nofollow">JENKINS-41713</a></li><li>Fixed the artifact download links. <a href="https://issues.jenkins-ci.org/browse/JENKINS-42726" class="external-link" rel="nofollow">JENKINS-42726</a></li><li>The &quot;Microsoft Azure Storage&quot; credentials can now be updated. <a href="https://github.com/jenkinsci/windows-azure-storage-plugin/issues/43" class="external-link" rel="nofollow">#43</a></li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.3February16,2017">Version 0.3.3 February 16, 2017</h3><ul class="alternate"><li>Storage account credentials are more secure now. They have moved to Jenkins credential store.</li><li>Once you upgrade to 0.3.3 from older version, no need to manually configure existing jobs.</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.2January26,2017">Version 0.3.2 January 26, 2017</h3><ul class="alternate"><li>Storage account key has become a hidden field.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource confluence-content-image-border" width="500" src="https://devopspublicstorage.blob.core.windows.net/storage-plugin-pics/storage1.jpg" data-image-src="https://devopspublicstorage.blob.core.windows.net/storage-plugin-pics/storage1.jpg"></span></li></ul><ul class="alternate"><li>Added the capability to use managed artifacts, a use case for artifacts can be downloading a known good build or an artifact from an upstream build.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource confluence-content-image-border" width="500" src="https://devopspublicstorage.blob.core.windows.net/storage-plugin-pics/storage3.jpg" data-image-src="https://devopspublicstorage.blob.core.windows.net/storage-plugin-pics/storage3.jpg"></span></li></ul><ul class="alternate"><li>Links on the project page (to download) has been fixed. This now allows easier access to download artifacts from Jenkins.</li></ul><ul class="alternate"><li>Downloads are now faster, plugin doesn't need to search the entire container for the correct blobs.</li></ul><ul class="alternate"><li>Changes are made inline with Jenkins API, updated Azure Java SDK to provide better output to Jenkins REST API.</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.3.0September09,2014">Version 0.3.0 September 09, 2014</h3><ul class="alternate"><li>Added easily accessible links for azure artifacts uploaded to blob storage.</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.2.0April23,2014">Version 0.2.0 April 23, 2014</h3><ul class="alternate"><li>Changed the logic of the &quot;make container public&quot; checkbox to apply to newly created containers only</li><li>Added a &quot;download from blob&quot; build action</li><li>Added a &quot;clean container&quot; option to the artifact uploader post-build action</li><li>Some renamings due to branding changes in Azure (Windows Azure changing to Microsoft Azure)</li></ul><h3 id="WindowsAzureStoragePlugin-Version0.1.0February12,2013)">Version 0.1.0 February 12, 2013)</h3><ul class="alternate"><li>Initial release</li></ul><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><a href="https://github.com/jenkinsci/windows-azure-storage-plugin" class="external-link" rel="nofollow">For regular updates and more information follow the project's GitHub repo.</a></p></div></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66848409/104333342.jpg">storage_config.jpg</a> (image/jpeg)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:58</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
