<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Step by step guide to set up master and agent machines on Windows</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Use-Jenkins.html">Use Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Distributed-builds.html">Distributed builds</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Step by step guide to set up master and agent machines on Windows
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (jayavel)</span>, last modified by <span class='editor'> Unknown User (bitwiseman)</span> on Sep 28, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Note: There is no need to install Jenkins on the agent machine.</p></div></div><ol><li>On your master machine go to <strong>Manage Jenkins</strong> &gt; <strong>Manage Nodes</strong>.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="500" src="attachments/41878276/135468009.png" data-image-src="attachments/41878276/135468009.png" data-unresolved-comment-count="0" data-linked-resource-id="135468009" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ManageNodes.PNG" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span><br/><strong><br/></strong></li><li><strong>New Node</strong><ol><li><strong>Enter Node Name</strong></li><li><strong>Select Permanent Agent</strong> </li><li>Press <strong>OK</strong>.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/41878276/135468004.png" data-image-src="attachments/41878276/135468004.png" data-unresolved-comment-count="0" data-linked-resource-id="135468004" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="NewNode.PNG" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span><br/><br/></li></ol></li><li>Fill out the following:<ol><li>Set a <strong>number of executors</strong> <ol><li>(one or more) as needed.</li></ol></li><li>Set a <strong>Remote FS Root</strong><ol><li>a home directory for the master on the agent machine.</li><li>For a <em>Windows agent</em>, use something like: &quot;C:\Jenkins\&quot;</li></ol></li><li>Select the appropriate <strong>Usage</strong> setting:<ol><li>For an additional worker: <em>Utilize this node as much as possible</em></li><li>For specialized jobs: <em>Leave this machine for tied jobs only</em></li></ol></li><li><strong>Launch Method</strong>:<ol><li>An easy way to control a Windows agent is by using <em>Launch agent via Java Web Start</em>  (Recommended for Windows)</li><li>TODO: add steps for other methods.</li></ol></li><li><strong>Availability</strong> <ol><li><em>Keep this agent online as much as possible</em></li><li>TODO: add details for each option.</li></ol></li><li>Press <strong>OK</strong>.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail confluence-content-image-border" height="150" src="attachments/41878276/59179034.png" data-image-src="attachments/41878276/59179034.png" data-unresolved-comment-count="0" data-linked-resource-id="59179034" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="setup06.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span></li></ol></li><li>Now you need to connect your agent machine to the master using the following steps. <br/><ol><li>Open a browser on the <strong>agent</strong><span style="color: rgb(0,0,0);"><strong> machine</strong></span> and go to the <strong>Jenkins master server</strong> url (<a href="http://yourjenkinsmaster:8080" class="external-link" rel="nofollow">http://yourjenkinsmaster:8080</a>).</li><li>Go to <strong>Manage Jenkins</strong> &gt; <strong>Manage Nodes</strong>, <ol><li>Click on the newly created agent machine. You will need to login as someone that has the &quot;Connect&quot; Agent permission if you have configured global security.</li></ol></li><li>Click on the <strong>Launch</strong> button to launch agent from browser on agent.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="145" width="402" src="attachments/41878276/59179035.png" data-image-src="attachments/41878276/59179035.png" data-unresolved-comment-count="0" data-linked-resource-id="59179035" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="setup03.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span></li><li>Run the program.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail confluence-content-image-border" height="150" src="attachments/41878276/59179037.png" data-image-src="attachments/41878276/59179037.png" data-unresolved-comment-count="0" data-linked-resource-id="59179037" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="setup04.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span><br/>If Windows asks you to choose a program, use <code>$JAVA_HOME\bin\javaws.exe</code> (the Java Web Start Launcher).</li><li>If you encounter connection issue, then you could enlarge the popup windows to see the master <strong>port used</strong> and check your network configuration (firewall, port forward, ...). <br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="150" src="attachments/41878276/76054828.jpg" data-image-src="attachments/41878276/76054828.jpg" data-unresolved-comment-count="0" data-linked-resource-id="76054828" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="connect.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span><br/>Note that Jenkins chooses a random, high-number port. If you want Jenkins to use a static port, go to &quot;Manage Jenkins&quot; &gt; &quot;Configure Global Security&quot; and choose the port number in the &quot;TCP port for JNLP agents&quot; box.</li><li>If the port is open, the agent still can't connect, and your Jenkins instance is served securely over SSL/HTTPS, download and install the <a href="http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html" class="external-link" rel="nofollow">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8</a>. Take the .jar files and save them to <code>$JAVA_HOME\lib\security</code>. Try the above steps again.</li><li>Now you should see the agent machine connected under <strong>Nodes</strong>.</li></ol></li></ol><p>                   <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="300" src="attachments/41878276/135468018.png" data-image-src="attachments/41878276/135468018.png" data-unresolved-comment-count="0" data-linked-resource-id="135468018" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Node.PNG" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span></p><p><br/></p><ol><li> If you want the service to run on start-up of the agent machine do the following (Windows only directions):<ol><li>In the agent program running on your agent machine, </li><li>click <strong>File</strong> --&gt; <strong>Install as Windows Service. </strong><br/><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/41878276/59179036.png" data-image-src="attachments/41878276/59179036.png" data-unresolved-comment-count="0" data-linked-resource-id="59179036" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="setup05.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span><br/> Note that this feature requires &quot;.Net Framework 3.5&quot;<br/><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/41878276/76054830.jpg" data-image-src="attachments/41878276/76054830.jpg" data-unresolved-comment-count="0" data-linked-resource-id="76054830" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="dotNet3_5Features.JPG" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="41878276" data-linked-resource-container-version="37"></span></li><li><strong>Start</strong>, type Services and Select the <strong>Services</strong> program.</li><li>Find <strong>Jenkins Agent</strong> in the list, Double click to open.</li><li>Select <strong>Startup type</strong> --&gt; <strong>Automatic</strong>.</li><li>Go to the <strong>Log On</strong> tab, change the <strong>Log on as</strong> to a user of your choice (Special user account Jenkins recommended).</li><li>Make sure that auto login is set for the agent machine for the user account, then the VM (or physical computer) should connect and be available when needed.</li></ol></li></ol><p>TODO: Add steps for connecting via ssh</p><p>Also: take a look at <a href="Distributed-builds.html">Distributed builds</a></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/42631315.jpg">slave_master_guide_img1.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/42631317.jpg">slave_master_guide_img2.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/42631318.jpg">slave_master_guide_img3.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/42631319.jpg">slave_master_guide_img4.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/59179033.png">setup01.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/59179034.png">setup06.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/59179035.png">setup03.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/59179036.png">setup05.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/59179037.png">setup04.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/69959746.jpg">slave_install_log.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/76054828.jpg">connect.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/76054831.jpg">dotNet3_5Features.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/76054830.jpg">dotNet3_5Features.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/135468004.png">NewNode.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/135468009.png">ManageNodes.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41878276/135468018.png">Node.PNG</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:08</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
