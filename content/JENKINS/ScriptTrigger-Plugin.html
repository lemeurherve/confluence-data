<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : ScriptTrigger Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : ScriptTrigger Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (gbois)</span>, last modified on Jun 19, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> Distribution of this plugin has been suspended due to unresolved security vulnerabilities, see below. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The current version of this plugin may not be safe to use. Please review the following warnings before use:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2017-04-10/" class="external-link" rel="nofollow">Arbitrary code execution vulnerability</a></li>
</ul>

</div></div>



<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>This plugin is up for adoption.</strong> Want to help improve this plugin? <a href="/display/JENKINS/Adopt+a+Plugin" title="Adopt a Plugin">Click here to learn more</a>!</p></div></div>
<p>ScriptTrigger makes it possible to monitor an environment with a script.<br class="atl-forced-newline"/></p>

<h1 id="ScriptTriggerPlugin-Features">Features</h1>

<p>The ScriptTrigger plug-in enables you to configure the polling predicate by the evaluation of a script.</p>

<p>Two types of script are supported<br/>
* Groovy script<br/>
If the expression evaluation returns true, a build is scheduled.<br/>
* Shell or Windows Batch script<br/>
A script is executed and a build is scheduled if the exit code matches your expected exit code.</p>

<p>For both types, if the script execution output contains the content &lt;cause&gt;YOUR_SCHEDULED_CAUSE&lt;/cause&gt;, 'YOUR_SCHEDULED_CAUSE' is used as the build cause.<br/>
Additionally, if the script execution output contains the content &lt;description&gt;MY DESCRIPTION&lt;/description&gt;, the 'MY DESCRIPTION' value is attached to the run.</p>

<p>Note: The plug-in uses only persistence in memory. There is no impact on the Jenkins infrastructure (no new files created).<br/>
This plugin provides a polling typology among the <a href="XTrigger-Plugin.html">XTrigger Plugin</a>.</p>

<h1 id="ScriptTriggerPlugin-Knownlimitations">Known limitations</h1>

<h2 id="ScriptTriggerPlugin-ImpossibletocombineitwithEnvInjectplugin">Impossible to combine it with EnvInject plugin</h2>

<p>Script Trigger plugin enables you to run an external script for knowing if job has to be scheduled, whereas EnvInject enables you to control environment variables when the job runs. Therefore, scripttrigger and EnvInject have 2 disctinct objectives. In conclusion, it is not possible to exploit envinject configuration. Your Script has to be standalone and independent from the job. Export your environment variables directly from your script.</p>

<h1 id="ScriptTriggerPlugin-Configuration">Configuration</h1>

<p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-content-image-border image-center" src="attachments/57182416/58196072.png" data-image-src="attachments/57182416/58196072.png" data-unresolved-comment-count="0" data-linked-resource-id="58196072" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ScriptTrigger_conf_1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57182416" data-linked-resource-container-version="48"></span></p>

<h1 id="ScriptTriggerPlugin-Changeling">Changeling</h1>

<h2 id="ScriptTriggerPlugin-Release0.34">Release 0.34</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-33328">JENKINS-33328</a> - Cannot run trigger script on a slave node</p>

<h2 id="ScriptTriggerPlugin-Release0.33">Release 0.33</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-31017">JENKINS-31017</a> - Description doesn't get the resolved variable</p>

<h2 id="ScriptTriggerPlugin-Release0.32">Release 0.32</h2>

<p>* Add a MIT Lisence for all sources</p>

<h2 id="ScriptTriggerPlugin-Release0.31">Release 0.31</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-19379">JENKINS-19379</a> - The scripttrigger plugins fails to load the parameter files when the System script is in use.</p>

<h2 id="ScriptTriggerPlugin-Release0.30">Release 0.30</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-18667">JENKINS-18667</a> - NullPointerException when saving job config</p>

<h2 id="ScriptTriggerPlugin-Release0.29">Release 0.29</h2>

<p>* Adding envvar replacement for groovyFilePath</p>

<h2 id="ScriptTriggerPlugin-Release0.28">Release 0.28</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-17641">JENKINS-17641</a> \ Unknown field 'logEnabled' in org.jenkinsci.lib.xtrigger.XTriggerCause</p>

<h2 id="ScriptTriggerPlugin-Release0.27">Release 0.27</h2>

<p>* Fix reopened <a href="https://issues.jenkins-ci.org/browse/JENKINS-17566">JENKINS-17566</a> - Severe polling error when using script trigger</p>

<h2 id="ScriptTriggerPlugin-Release0.26">Release 0.26</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-17566">JENKINS-17566</a> - Severe polling error when using script trigger</p>

<h2 id="ScriptTriggerPlugin-Release0.25">Release 0.25</h2>

<p>* Test if the node is active when the polling do the work</p>

<h2 id="ScriptTriggerPlugin-Release0.24">Release 0.24</h2>

<p>* Updat to xtrigger-lib 0.20<br/>
** Refactor error management</p>

<h2 id="ScriptTriggerPlugin-Release0.23">Release 0.23</h2>

<p>* Fix polling issue by updating to  org.jenkins-ci.lib:xtrigger-lib:jar:0.19:compile<br/>
- org.jenkins-ci.lib:envinject-lib:jar:1.16:compile</p>

<h2 id="ScriptTriggerPlugin-Release0.22">Release 0.22</h2>

<p>* Re-adding newLine to line read in script content</p>

<h2 id="ScriptTriggerPlugin-Release0.21">Release 0.21</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14535">JENKINS-14535</a> - Fails to poll when no executors on master</p>

<h2 id="ScriptTriggerPlugin-Release0.20">Release 0.20</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14104">JENKINS-14104</a> - Use same node which has been specified in the &quot;Restrict where this project can be run&quot; field</p>

<h2 id="ScriptTriggerPlugin-Release0.19">Release 0.19</h2>

<p>* Try to delete generated temporary file<br/>
* Upgrade to xtrigger-lib 0.12</p>

<h2 id="ScriptTriggerPlugin-Release0.18">Release 0.18</h2>

<p>* Add an option to have concurrent builds<br/>
* Update to xtrigger-lib 0.11</p>

<h2 id="ScriptTriggerPlugin-Release0.17">Release 0.17</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13542">JENKINS-13542</a> - Backslashes in Environment / Script-Variables are not quoted correctly for Groovy<br/>
* Update to xtrigger-lib 0.10</p>

<h2 id="ScriptTriggerPlugin-Release0.16">Release 0.16</h2>

<p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13208">JENKINS-13208</a> - Use EnvVarsResolver for Groovy scripts<br/>
* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13209">JENKINS-13209</a> -Support System Groovy scripts<br/>
* Merge pull request</p>
<ul class="alternate">
	<li>Add system script checkbox in configuration UI</li>
	<li>Add log/out/job variables to groovy shell</li>
	<li>Setup the SYSTEM user during script execution</li>
	<li>Log envvars used for script re-writing</li>
	<li>Log messages and stack traces if the groovy script fails</li>
</ul>


<h2 id="ScriptTriggerPlugin-Release0.15">Release 0.15</h2>

<p>* Update to xtrigger-lib 0.8</p>

<h2 id="ScriptTriggerPlugin-Release0.14">Release 0.14</h2>

<p>* Update to xtrigger-lib 0.7</p>

<h2 id="ScriptTriggerPlugin-Release0.13">Release 0.13</h2>

<p>* Fixed <a href="https://issues.jenkins-ci.org/browse/JENKINS-11907">JENKINS-11907</a> - scripttrigger doesn't close file</p>

<h2 id="ScriptTriggerPlugin-Release0.12">Release 0.12</h2>

<p>* Environment variables are taken into account</p>

<h2 id="ScriptTriggerPlugin-Release0.11.1">Release 0.11.1</h2>

<p>* Removed duplicate script resolution</p>

<h2 id="ScriptTriggerPlugin-Release0.11">Release 0.11</h2>

<p>* Added cause and description attachment if they are present in the script execution output</p>

<h2 id="ScriptTriggerPlugin-Release0.10">Release 0.10</h2>

<p>* Added the ability to inject environment variables with the <a href="EnvInject-Plugin.html">EnvInject Plugin</a>.</p>

<h2 id="ScriptTriggerPlugin-Release0.9">Release 0.9</h2>

<p>* Added environment and job variables resolution to the script content</p>

<h2 id="ScriptTriggerPlugin-Release0.8">Release 0.8</h2>

<p>* Fixed <a href="https://issues.jenkins-ci.org/browse/JENKINS-11042">JENKINS-11042</a> - IOException when running ScriptTrigger with slaves<br/>
* Built for 1.409 (LTS series compatibility)<br/>
* Fixed log polling file</p>

<h2 id="ScriptTriggerPlugin-Release0.7">Release 0.7</h2>

<p>* Fixed script execution node<br/>
* Refactoring</p>

<h2 id="ScriptTriggerPlugin-Release0.6">Release 0.6</h2>

<p>* Added Jenkins environment variables resolution in script execution</p>

<h2 id="ScriptTriggerPlugin-Release0.5">Release 0.5</h2>

<p>* Added the ability to provide scripts with a file path</p>

<h2 id="ScriptTriggerPlugin-Release0.4.1">Release 0.4.1</h2>

<p>* Fixed a hep plugin message</p>

<h2 id="ScriptTriggerPlugin-Release0.4">Release 0.4</h2>

<p>* Added a polling an the exit code of a shell script or a Windows batch script.</p>

<h2 id="ScriptTriggerPlugin-Release0.3">Release 0.3</h2>

<p>* Improved help files<br/>
* Added a check: executing the script only if the Jenkins instance is not isQuietingDown() and the job is buildable</p>

<h2 id="ScriptTriggerPlugin-Release0.2">Release 0.2</h2>

<p>* Added the feature: 'Can specify job properties as a properties file'</p>

<h2 id="ScriptTriggerPlugin-Release0.1">Release 0.1</h2>

<p>* Initial release</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182416/58196072.png">ScriptTrigger_conf_1.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:45</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
