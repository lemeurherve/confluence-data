<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Contrast Continuous Application Security Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Contrast Continuous Application Security Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (mgelman08)</span>, last modified by <span class='editor'> Unknown User (sergii_contrast)</span> on Oct 09, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Contrast Continuous Application Security <a href="https://plugins.jenkins.io/contrast-continuous-application-security" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
</p><h1 id="ContrastContinuousApplicationSecurityPlugin-About">About</h1><p>This plugin verifies vulnerability conditions by checking a build's vulnerabilities found against configured filters. The plugin also graphs history of vulnerability detection found during each projects build.</p><p>This plugin supports a post build action and a step in the pipeline build process.</p><h1 id="ContrastContinuousApplicationSecurityPlugin-UsethePlugin">Use the Plugin</h1><p>You can view the plugin code in Jenkins' <a href="https://github.com/jenkinsci/contrast-continuous-application-security-plugin" class="external-link" rel="nofollow">Github repository</a>. In the Jenkins dashboard, go to <strong>Manage Jenkins</strong> in the left sidebar, and select the <strong>Configure System</strong> page to find a new Contrast TeamServer profiles section.</p><h1 id="ContrastContinuousApplicationSecurityPlugin-ContrastAPISettings">Contrast API Settings</h1><p>Contrast API settings enable the plugin to connect to Contrast and query for results. The plugin leverages these result to authenticate to Contrast and make API calls in post-build actions. Among the following requirements, you'll need a unique profile name to identify your configuration and use it in a specific job.</p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 95.3374%;"><colgroup><col style="width: 13.814%;"/><col style="width: 82.7317%;"/><col style="width: 3.45423%;"/></colgroup><tbody><tr><th class="confluenceTh"><p>Parameter</p></th><th class="confluenceTh">Description</th><th colspan="1" class="confluenceTh">Since</th></tr><tr><td class="confluenceTd">Contrast Username</td><td class="confluenceTd">Username/email for your account in Contrast</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">Contrast API Key</td><td class="confluenceTd">Log in to your Teamserver account and go to <strong>Your Account</strong>. Look under <strong>YOUR KEYS</strong>.</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">Contrast Service Key</td><td class="confluenceTd"><span>Log in to your Teamserver account and go to <strong>Your Account</strong>. <span>Look under <strong>YOUR KEYS</strong>.</span></span></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Contrast URL</p></td><td class="confluenceTd">API URL to your Contrast instance <br/> Use <em><a href="https://app.contrastsecurity.com/Contrast/api" class="external-link" rel="nofollow">https://app.contrastsecurity.com/Contrast/api</a></em> if you're a SaaS customer; all others use the URL of your Contrast UI (e.g., <em><a href="https://contrastserver/Contrast/api" class="external-link" rel="nofollow">https://contrastserver/Contrast/api</a></em>).</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">Organization UUID</td><td colspan="1" class="confluenceTd">Organization UUID of the configured user found in <strong>Organization Settings</strong></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">ignoreContrastFindings</td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">Jenkins boolean build parameter. If set to true, builds will not be failed when Vulnerability Threshold Conditions are not met.</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">2.3</span></td></tr><tr><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">Result of a vulnerable build</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">Contrast TeamServer profile configuration parameter allowing to choose the result of a build that does not meet the Vulnerability Threshold Conditions.</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">2.3</span></td></tr><tr><td colspan="1" class="confluenceTd">Fail build if application is not found on TeamServer</td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">This option allows to fail a build if the </span><strong style="text-align: left;">application is not found</strong><span style="color: rgb(51,51,51);"> in the Contrast application.</span></td><td colspan="1" class="confluenceTd">2.4</td></tr><tr><td colspan="1" class="confluenceTd">Allow global Contrast Vulnerability Threshold Conditions to be overridden in a Job configuration</td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">Choose if global threshold conditions can be overridden in post-build actions. (See the </span><strong style="text-align: left;">Global threshold conditions</strong><span style="color: rgb(51,51,51);"> section for more details.)</span></td><td colspan="1" class="confluenceTd">2.5</td></tr></tbody></table></div><p><br/></p><p><br/></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="attachments/99058675/138451984.png" data-image-src="attachments/99058675/138451984.png" data-unresolved-comment-count="0" data-linked-resource-id="138451984" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="Jenkins_ts_profile.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99058675" data-linked-resource-container-version="24"></span></p><p><br/></p><h3 id="ContrastContinuousApplicationSecurityPlugin-Testtheconnection">Test the connection</h3><p>When you add a Contrast profile, use the validation button to test your connection and make sure that all the fields are accurate. Contrast prompts you if the test is successful or gives an error message if it fails.</p><h3 id="ContrastContinuousApplicationSecurityPlugin-Globalthresholdconditions">Global threshold conditions</h3><p>Once a connection is made, complete the following fields for <strong>Contrast Vulnerability Threshold Conditions</strong>.</p><ul><li>Select a <strong>Profile</strong> from the dropdown.</li><li>Add a <strong>Count</strong>. The count is exclusive; if you set a count for &quot;5&quot;, it fails on six or more vulnerabilities. This field is <strong>required</strong>.</li><li>Choose a <strong>Severity</strong> from the options in the dropdown menu (Note, Low, Medium, High or Critical). The plugin sets a filter in the API call for all vulnerabilities greater than or equal to this field. This field is recommended to reduce your results, but not required. </li><li>Choose a <strong>Vulnerability Type</strong> (rule name) from the dropdown menu. If you specify a single rule for which to filter, the plugin checks for the number of vulnerabilities with the rule type and compares it to the count. This field is recommended to reduce your results, but not required. </li><li>Choose from the list of <strong>Vulnerability Statuses</strong>. Statues aren't required, but can be helpful if you want to exclude vulnerabilities with certain statuses - for example, &quot;Not a Problem&quot; - from the results. If you don't select any statuses, the plugin won't filter vulnerabilities by statuses.</li></ul><p>You can add as many rules as you like. The plugin fails on the <strong>first</strong> bad condition and tells you on which condition it failed.</p><blockquote><p><strong>Note</strong>: Even if your build succeeds, the plugin fails the overall build if the test finds a bad condition.</p></blockquote><h3 id="ContrastContinuousApplicationSecurityPlugin-"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="attachments/99058675/143494975.png" data-image-src="attachments/99058675/143494975.png" data-unresolved-comment-count="0" data-linked-resource-id="143494975" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Jenkins_global_threshold_condition.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99058675" data-linked-resource-container-version="24"></span></h3><p><br/></p><h3 id="ContrastContinuousApplicationSecurityPlugin-Thresholdconditionsinapost-buildaction">Threshold conditions in a post-build action</h3><p>Complete the following fields for <strong>Post-Build Actions</strong>.</p><ul><li>Select a <strong>Profile</strong> from the dropdown.</li><li><span class="blob-code-inner blob-code-marker-addition">Select <strong>Query vulnerabilities by</strong>. By default, the plugin uses the first option: &quot;appVersionTag, format: applicationId-buildNumber&quot;.</span></li><li>If the profile is configured to allow the global threshold conditions to be overridden, you can choose to do so.</li><li>Select the <strong>Application Id</strong> from the dropdown menu. This field is <strong>required</strong>.</li><li>If you chose to override the global threshold conditions, fill in the rest of the fields, including <strong>Count</strong>,<strong>Severity</strong>, <strong>Vulnerability Type</strong>, and <strong>Vulnerability Statuses</strong> similarly to the global threshold conditions described above.</li></ul><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/99058675/138451985.png" data-image-src="attachments/99058675/138451985.png" data-unresolved-comment-count="0" data-linked-resource-id="138451985" data-linked-resource-version="4" data-linked-resource-type="attachment" data-linked-resource-default-alias="Jenkins_threshold_condition.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99058675" data-linked-resource-container-version="24"></span></p><h3 id="ContrastContinuousApplicationSecurityPlugin-ThresholdconditionsinaPipelinestep">Threshold conditions in a Pipeline step</h3><p>When you add a Pipeline step with the name <span style="color: rgb(153,51,0);"><code>contrastVerification</code></span>, it follows the same principles as the post-build action but in a newer format for Jenkins 2.0 improvements.</p><p>Pipeline configuration:</p><pre><code>contrastVerification applicationId: '1e6ad9c6-89d4-4f06-bdf6-92c569ec89de', count: 1, profile: 'new-profile', queryBy: 3, rule: 'cache-controls-missing', severity: 'High'</code></pre><h1 id="ContrastContinuousApplicationSecurityPlugin-TestforVulnerabilities">Test for Vulnerabilities</h1><p>For the Jenkins plugin to get accurate information, you must add a unique identifier built from the Jenkins CI configuration as an agent property. The corresponding property for the Java agent is <code>contrast.override.appversion</code>. For example, when starting Contrast agent add the following property: &quot;-Dcontrast.appname=${applicationName}&quot;.</p><p><span class="blob-code-inner blob-code-marker-addition">The plugin can use either the unique identifier <code>appVersionTag</code> or the <code>startDate</code> to filter vulnerabilities and check conditions. You can change the format used by the plugin to create <code>appVersionTag</code> or set the plugin to use <code>startDate</code> using <code>queryBy</code> pipeline parameter. Three options are available:<br/></span></p><ul><li>appVersionTag, format: <code>applicationId-${BUILD_NUMBER}</code> (default)</li><li>appVersionTag, format: <code>applicationId-${JOB_NAME}-${BUILD_NUMBER}</code></li><li><code>startDate</code> (Build timestamp)</li></ul><p><span class="blob-code-inner blob-code-marker-addition">Both </span> <span style="color: rgb(153,51,0);"><code>JOB_NAME</code></span> and <span style="color: rgb(153,51,0);"><code>BUILD_NUMBER</code></span> are available as Jenkins environment <a href="https://wiki.jenkins-ci.org/display/JENKINS/Building+a+software+project" class="external-link" rel="nofollow">properties</a>.</p><p><br/></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/143494974.png">Jenkins_ts_profile.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/143494976.png">Jenkins_threshold_condition.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/138451984.png">Jenkins_ts_profile.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/143494975.png">Jenkins_global_threshold_condition.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/159121464.png">Jenkins_threshold_condition.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/164560951.png">Jenkins_threshold_condition.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99058675/138451985.png">Jenkins_threshold_condition.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:18</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
