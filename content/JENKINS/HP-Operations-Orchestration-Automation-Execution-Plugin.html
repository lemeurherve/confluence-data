<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : HP Operations Orchestration Automation Execution Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : HP Operations Orchestration Automation Execution Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (lucian_cm)</span>, last modified by <span class='editor'> Unknown User (franky4ro)</span> on Jul 05, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View HP Operations Orchestration Automation Execution <a href="https://plugins.jenkins.io/hp-operations-orchestration-automation-execution-plugin" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<style type='text/css'>/*<![CDATA[*/
div.rbtoc1631021237888 {padding: 0px;}
div.rbtoc1631021237888 ul {list-style: none;margin-left: 0px;}
div.rbtoc1631021237888 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631021237888'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Aboutthisplugin'>About this plugin</a></li>
<li><span class='TOCOutline'>2</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-InstallationandConfiguration'>Installation and Configuration</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>2.1</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-ManualInstallation'> Manual Installation</a></li>
<li><span class='TOCOutline'>2.2</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Manualuninstallation'>Manual uninstallation </a></li>
<li><span class='TOCOutline'>2.3</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-AutomatedInstallation'>Automated Installation</a></li>
<li><span class='TOCOutline'>2.4</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Automateduninstallation'>Automated uninstallation</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Configurations'>Configurations</a></li>
<li><span class='TOCOutline'>4</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-IntegratingOperationsOrchestrationintheJenkinsbuild'>Integrating Operations Orchestration in the Jenkins build</a></li>
<li><span class='TOCOutline'>5</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-ReportingintheJenkinsconsole'>Reporting in the Jenkins console</a></li>
<li><span class='TOCOutline'>6</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-ConfiguringSSLforthepluginon9.xversionsofOO'>Configuring SSL for the plugin on 9.x versions of OO</a></li>
<li><span class='TOCOutline'>7</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-ConfiguringSSLforthepluginon10.xversionsofOO'>Configuring SSL for the plugin on 10.x versions of OO </a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>7.1</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-A.Self-signedcertificate'>A. Self-signed certificate</a></li>
<li><span class='TOCOutline'>7.2</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-B.CACertificate'>B. CA Certificate</a></li>
</ul>
</li>
<li><span class='TOCOutline'>8</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-MatrixConfigurationJob'>Matrix Configuration Job</a></li>
<li><span class='TOCOutline'>9</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Changelog'>Changelog</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>9.1</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Version2.1.1(July5,2016)'>Version 2.1.1 (July 5, 2016)</a></li>
<li><span class='TOCOutline'>9.2</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Version2.1.0(July5,2016)'>Version 2.1.0 (July 5, 2016)</a></li>
<li><span class='TOCOutline'>9.3</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Version2.0.0(May13,2015)'>Version 2.0.0 (May 13, 2015)</a></li>
<li><span class='TOCOutline'>9.4</span> <a href='#HPOperationsOrchestrationAutomationExecutionPlugin-Version1.0.x'>Version 1.0.x </a></li>
</ul>
</li>
</ul>
</div>
 <div class="jim-error-message jim-error-message-table">
    <table class="aui">
        <tbody>
                <tr></tr>

        <tr>
                            <th>type</th>
                            <th>key</th>
                            <th>priority</th>
                            <th>summary</th>
                            <th>status/</th>
                    </tr>

        <tr>
            <td colspan="5">
                <div class="aui-message aui-message-warning">
                    <p class="message">
                        <span class="icon-in-pdf"></span>
                        Can&#39;t show details. Ask your admin to whitelist this Jira URL.
                    </p>
                     <a class="jira-link" href="https://issues.jenkins-ci.org/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project%20=%20JENKINS%20AND%20component%20=%20hp-operations-orchestration-automation-execution-plugin/&amp;src=confmacro">View these issues in Jira</a>                 </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<p>            The <strong><em>HP OO Automation Execution</em></strong> plugin enables you to leverage the capabilities of HP OO as part of your build and testing cycles, providing DevOps capabilities for your application.</p>

<p>            This plugin is open source. If you identify any issues or want to submit enhancement requests, please use <a href="http://issues.jenkins-ci.org/" class="external-link" rel="nofollow">JIRA</a>. The component for this plugin is the hp-operations-orchestration-automation-execution-plugin. Your feedback will allow us to stabilize and enhance the plugin.</p>

<p>            Use the Case Study document to investigate several use cases that can be implemented using the plugin.</p>


<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This new version is backward compatible with the OO 9.x servers but with limited functionality. In other words you can use this version to run the 9.x flows as you already did but for all the new features you need to have OO 10.x version.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This version is also compatible with the HP OO Community Edition of 10.x version.You can download this free version here:<a href="http://www8.hp.com/us/en/software-solutions/operations-orchestration-it-process-automation/try-now.html?compURI=tcm:245-1625482" class="external-link" rel="nofollow">HP OO Community Edition</a></p></div></div>


<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-Aboutthisplugin">About this plugin</h1>

<p><strong>HP Operations Orchestration</strong>
<br class="atl-forced-newline"/></p>

<p>            HP Operations Orchestration (HP OO) software is a leading product in the IT Process Automation market. HP OO automates the tasks and processes in datacenters using workflows that help IT teams execute change with greater speed, quality, and consistency.</p>

<p>            HP Operations Orchestration software includes HP OO Central and HP OO Studio. OO Central is a web-based application used for promoting, running and scheduling flows, administering the system, and extracting and analyzing data resulting from flow runs. OO Studio is an intuitive and easy-to-use tool for authoring and designing workflows.</p>

<p>            HP OO comes with a large OOTB content library, offering the ability to integrate with many other HP software products and 3rd party vendors like VMware, Microsoft and Openstack</p>

<p>            For more details see the <a href="http://www8.hp.com/us/en/software-solutions/software.html?compURI=1170673#.UQjmE7_ks2w" class="external-link" rel="nofollow">HP Operations Orchestration product page</a>.  
<br class="atl-forced-newline"/></p>

<p><strong>HP OO Content for Jenkins</strong></p>

<p><strong> </strong></p>

<p>            As part of the <a href="https://hpln.hp.com/group/operations-orchestration" class="external-link" rel="nofollow">HP OO Community</a>, content for Jenkins was created. This content is open for changes and free for use by any OO customer. The content can be used to interact with Jenkins continuous integration application and implements basic use cases such as running jobs and getting details about different jobs. The content allows you to communicate back to the Jenkins CI Server from the same workflow that was triggered by the plugin</p>


<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-InstallationandConfiguration">Installation and Configuration</h1>


<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-ManualInstallation"> Manual Installation</h2>

<ol>
	<li>Stop the      Jenkins service.</li>
	<li>Copy the <strong>hp-operations-orchestration-automation-execution-plugin</strong><strong>.hpi</strong> file in      the <strong>JENKINS_HOME\plugins</strong> folder.</li>
	<li>Start the      Jenkins service.</li>
	<li>Go to      the <strong>Jenkins</strong> dashboard and      select <strong>Manage      Jenkins</strong> and then <strong>Manage Plugins</strong>.</li>
	<li>In      the <strong>Installed</strong> tab, the      plugin list displays the Operations Orchestration plugin.</li>
</ol>




<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/67043335.png" data-image-src="attachments/66846844/67043335.png" data-unresolved-comment-count="0" data-linked-resource-id="67043335" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="HPOO.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>



<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-Manualuninstallation">Manual uninstallation <br class="atl-forced-newline"/></h2>

<ol>
	<li>Stop the      Jenkins service.</li>
	<li>Delete      the hp-operations-orchestration-automation-execution-plugin folder      in the <strong>JENKINS_HOME\plugins</strong> folder.</li>
	<li>Delete      the hp-operations-orchestration-automation-execution-plugin*.hpi* file in      the <strong>JENKINS_HOME\plugins</strong> folder.</li>
	<li>Delete      the com.hp.mercury.ci.jenkins.plugins.OOBuildStep.xml in the <strong>JENKINS_HOME</strong> folder.</li>
	<li>Start the      Jenkins service.</li>
</ol>


<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-AutomatedInstallation">Automated Installation</h2>

<ol>
	<li>Go to      the <strong>Jenkins</strong> dashboard and      select <strong>Manage      Jenkins</strong> and then <strong>Manage Plugins</strong>. In the <strong>Available</strong> tab, search for      the plugin as <strong>hp      operations</strong></li>
	<li>Select the      plugin and hit Install without restart
<br class="atl-forced-newline"/></li>
</ol>


<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-Automateduninstallation">Automated uninstallation</h2>

<ol>
	<li>Go to      the <strong>Jenkins</strong> dashboard and      select <strong>Manage      Jenkins</strong> and then <strong>Manage Plugins</strong>. In the <strong>Installed</strong> tab identify the      plugin and hit uninstall button.</li>
	<li>Next time      you restart Jenkins the plugin will be automatically uninstalled. </li>
</ol>


<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-Configurations">Configurations</h1>

<ol>
	<li>Go to the      Jenkins dashboard, and select <strong>Manage      Jenkins</strong> and then <strong>Configure System</strong><em>.</em></li>
	<li>Scroll      down until you see the <strong>HP      Operations Orchestration</strong> field</li>
	<li>In      the <strong>Truststore File</strong> field,      enter the absolute path of the JKS truststore used for communication with      the Operations Orchestration server over SSL. For details on how to      generate the JKS truststore please refer to the section <em>Configuring SSL for the plugin on 10.x      versions of OO</em>.  This field is      only mandatory if one of the defined Operations Orchestrations servers is      running on HTTPS.</li>
	<li>In the <strong>Truststore Password</strong> field, enter the password for the JKS truststore. The password must be at least 6 characters in length. </li>
</ol>



<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659011.png" data-image-src="attachments/66846844/79659011.png" data-unresolved-comment-count="0" data-linked-resource-id="79659011" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="config_1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
To see the list of servers just click on the <strong>Show Servers...</strong> button</p>

<p>            Inside the <strong>Configure HP Operations Orchestration Server</strong> section:</p>
<ol>
	<li>In      the <strong>Unique Label</strong> field,      enter the name of the Operations Orchestration server. The unique label      acts as a global identifier across all defined Operations Orchestration      servers.</li>
	<li>In      the <strong>Host field,</strong> enter the      HP Operations Orchestration URL. For example,      https://&lt;host&gt;:*&lt;*port&gt;/PAS for an HTTPS configured Operations      Orchestration server. See the configuration sample.</li>
	<li>In      the <strong>Username</strong> and <strong>Password</strong> fields,      enter the HP Operation Orchestration authentication account.</li>
	<li>Click the <strong>Apply</strong> or <strong>Save</strong> button to save      the Operations Orchestration server configurations in the Jenkins global      settings.</li>
</ol>


<p>Optional actions:</p>
<ul>
	<li>To add a      new Operations Orchestration server, click the <strong>Add</strong> button.</li>
	<li>To delete an Operations Orchestration server, click the <strong>Delete</strong> button. <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659012.png" data-image-src="attachments/66846844/79659012.png" data-unresolved-comment-count="0" data-linked-resource-id="79659012" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="config_2.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></li>
</ul>


<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-IntegratingOperationsOrchestrationintheJenkinsbuild">Integrating Operations Orchestration in the Jenkins build</h1>

<p>               From the job configuration page go to the <strong>Add build step</strong> menu and select <strong>HP Operations Orchestration Flow Execution Build Step</strong>.</p>

<p> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659013.png" data-image-src="attachments/66846844/79659013.png" data-unresolved-comment-count="0" data-linked-resource-id="79659013" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="buildStep_1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
Inside the <strong>HP Operations Orchestration Flow Execution Step</strong> section you should see the plugin like in the picture below:</p>

<p> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659014.png" data-image-src="attachments/66846844/79659014.png" data-unresolved-comment-count="0" data-linked-resource-id="79659014" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="buildStep_2.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
Click on the <strong>Advanced...</strong> button to have the list of all the options.</p>
<ol>
	<li>From      the <strong>Select HP Operations Orchestration Server</strong> list,      select the Operations Orchestration server. If the <strong>Unique Label</strong> of an      Operation Orchestration server was changed, you must update the Jenkins      job configurations wherever that server is referenced.</li>
	<li>From      the <strong>Select Flow to Execute on Server</strong> list,      select the flow to execute.</li>
	<li>In      the <strong>Basepath</strong> field, enter      the parent folder where the flow to execute is located.</li>
	<li>The <strong>Select Flow to Execute on Server</strong> list      is populated with the flows residing in the folder entered in the <strong>Basepath</strong> field.</li>
	<li>The <strong>Basepath</strong> value      represents the absolute folder path from the Operation Orchestration      Content library.</li>
	<li>In <strong>Step Execution Timeout (ms)</strong> field, enter the maximum amount of time (in milliseconds) that the plugin      should wait for each step to execute before it ends the Jenkins build.</li>
	<li>If the      timeout expires, the execution log will not be available.</li>
	<li>Click      the <strong>Refresh</strong> button to      refresh the flows shown in the <strong>Select      Flow to Execute on Server</strong> list.</li>
	<li>Optional      actions:</li>
</ol>


<ul>
	<li>To add the      flow inputs to the selected flow, click the <strong>Add</strong> button. (see the      image below)</li>
	<li>To delete      flow inputs from the selected flow, click the <strong>Delete</strong> button. (see      the image below)</li>
	<li>You can      change the build result status to either <strong>FAILURE</strong> or <strong>UNSTABLE</strong> by testing a      certain output against a constant, through the use of the following      operators: IS, CONTAINS, STARTS_WITH, DIFFERS_FROM, IS_A_REGEX_MATCH_FOR.<br/>
To change the build status, you must input the necessary information in      the fields.</li>
</ul>


<p>               For more information about each field you can use the help button. You can find configuration examples for setting up a server or running a flow. <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659015.png" data-image-src="attachments/66846844/79659015.png" data-unresolved-comment-count="0" data-linked-resource-id="79659015" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="buildStep_3.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>

<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-ReportingintheJenkinsconsole">Reporting in the Jenkins console</h1>

<p>            The plugin writes in the Jenkins console the following information: &lt;serverName&gt;<br/>
Authentication will be used for the user : &lt;username&gt;<br/>
Central version : &lt;centralVersion&gt;<br/>
Global Keystore : &lt;globalKeystoreFile&gt;<br/>
Running &lt;flowName&gt; on &lt;serverName&gt; with parameters &lt;parameters&gt;<br/>
The flow: &lt;flowName&gt; with UUID &lt;flowUUID&gt; is executing...<br/>
Step Execution Timeout : &lt;stepExecutionTime&gt; ms             After this information is logged, the actual execution starts on the OO Central server.             After the execution completes, the plugin outputs the entire JSON from the execution log.       The last bit of information written by the plugin in the console is the actual URL to the execution from Central.</p>

<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-ConfiguringSSLforthepluginon9.xversionsofOO">Configuring SSL for the plugin on 9.x versions of OO</h1>

<p>            If the Operations Orchestration server is configured to run over HTTPS, then in order for the Operations Orchestration plugin to be able to communicate with the Operations Orchestration server, the OO plugin trustStore must contain the public key of the certificate used by the server.</p>

<p>            To manually import a security certificate into the Operations Orchestration plugin’s JKS truststore, you must perform the following steps:</p>
<ul>
	<li>Export the      OO server’s certificate public key, from <strong>&lt;INCONCLUDE_HOME&gt;\conf\rc_keystore</strong> : &gt;keytool -export -keystore rc_keystore -alias pas -file PasPublicCert.cer     * Import the      OO server’s certificate into the plugin truststore on the Jenkins machine      :&gt;keytool --importcert --keystore oo_plugin_truststore --file PasPublicCert.cer -alias pas* After the      import, verify that the import was successful using the command: &gt;keytool --list --keystore oo_plugin_truststore            The Operations Orchestration plugin truststore will contain the <strong>TrustedCertEntry</strong> with the imported key and the provided alias (pas). </li>
</ul>


<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-ConfiguringSSLforthepluginon10.xversionsofOO">Configuring SSL for the plugin on 10.x versions of OO </h1>

<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-A.Self-signedcertificate">A. Self-signed certificate</h2>

<ol>
	<li>Stop Central and back up the original key.store file, located in</li>
</ol>


<p>            <em>&lt;installation dir&gt;/central/var/security/key.store</em></p>

<p><em> </em></p>
<ol>
	<li>Open a command line in &lt;installation dir&gt;/central/var/security.</li>
	<li>Delete the existing server certificate from the Central key.store file, using the following</li>
</ol>


<p>            <em>keytool -delete -alias tomcat -keystore key.store -storepass &lt;changeit&gt;</em></p>
<ol>
	<li>Generate a self-signed certificate:</li>
</ol>


<p>            <em>keytool -genkey -alias tomcat -keyalg RSA -keypass &lt;changeit &gt;-keystore             &lt;path/for/new/Keystore&gt; -storepass &lt;changeit&gt;-storetype pkcs12 -dname</em></p>

<p><em>            &quot;CN=&lt;CENTRAL_FQDN&gt;, OU=&lt;ORGANIZATION_UNIT&gt;,             O=&lt;ORGANIZATION&gt;, L=&lt;LOCALITY&gt;, C=&lt;COUNTRY&gt;&quot;</em></p>

<p>            Note: If you do not enter a path for generating the new keystore, it is created in the folder where you entered the command, for example &lt;installation dir&gt;/central/var/security.</p>
<ol>
	<li>Import the self-signed certificate to the Central key.store file:</li>
</ol>


<p>            <em>keytool -v -importkeystore -srckeystore &lt;new/path/created/Keystore&gt; -srcstoretype    PKCS12 -srcstorepass &lt;changeit&gt; -destkeystore key.store -deststoretypeJKS -      deststorepass &lt;changeit&gt;</em></p>

<p>            6. Start Central. </p>

<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-B.CACertificate">B. CA Certificate</h2>

<p>            This information is present in the Hardening guide delivered with OO 10.10 and newer versions. The following procedure uses the Keytool utility that is located in &lt;installation dir&gt;/java/bin/keytool on the Central server.</p>

<p>1. Stop Central and back up the original key.store file, located in</p>

<p><em>&lt;installation dir&gt;/central/var/security/key.store.</em></p>

<p>_2. _Open a command line in &lt;installation dir&gt;/central/var/security.</p>

<p>3. Delete the existing server certificate from the Central key.store file</p>

<p>             <em>keytool -delete -alias tomcat -keystore key.store -storepass changeit</em></p>

<p> 4. If you already have a certificate with .pfx or .p12 extension, then go to the next step.</p>

<p>If not, then export the certificate with private key into PKCS12 format (.pfx, .p12).</p>

<p>        For example, if the certificate format is PEM:</p>

<p>             <em>&gt;openssl pkcs12 --export --in &lt;cert.pem&gt; -inkey &lt;key.key&gt; -out &lt;certificate name&gt;.p12      --name &lt;name&gt;</em></p>

<p>        If the certificate format is DER, add the --inform DER parameter after pkcs12.</p>

<p>             <em>&gt;openssl pkcs12 --inform DER --export --in &lt;cert.pem&gt; -inkey &lt;.key&gt; -out &lt;certificate    name&gt;.p12 --name &lt;name&gt;</em></p>

<p>        Note: Make a note of the password that you provide. You will need this password for the         private key when you input the keystore passphrase later in this procedure.</p>

<p> 5. Extract the alias for your certificate’s alias, using the following command:</p>

<p>             <em>keytool -list -keystore &lt;certificate_name&gt; -v -storetype PKCS12</em></p>

<p>            The alias is displayed.</p>

<p>6. Import the PKCS12 format server certificate to the Central key.store file:</p>

<p>            <em>keytool -importkeystore -srckeystore &lt;PKCS12 format certificate path&gt; -destkeystore    key.store -srcstoretype pkcs12 -deststoretype JKS -alias &lt;cert alias&gt; -destalias tomcat</em></p>

<p>7. It is recommended to change the default “changeit” password in the automatically-generated keystore in the Central server.</p>



<p>8. Start Central.</p>

<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-MatrixConfigurationJob">Matrix Configuration Job</h1>

<p>            A matrix is a collection of smaller jobs. Each job runs a flow on a Central with a certain combination of inputs.  If any of the smaller jobs fails, the main job will fail.
<br class="atl-forced-newline"/></p>

<p>Invoking simple operations is not supported.           
<br class="atl-forced-newline"/></p>

<p>            The 3 types of information that can generate the matrix are:
<br class="atl-forced-newline"/></p>

<p>             - What flow runs</p>

<p>             - What Central the flow runs on</p>

<p>             - What inputs the flow runs with
<br class="atl-forced-newline"/></p>

<p>            The plugin can be used to trigger the following types of scenarios:
<br class="atl-forced-newline"/></p>
<ul>
	<li>Running a flow on the same Central with different values      for some input(s).</li>
	<li>Running different flows on different Centrals with the      same, hardcoded inputs.</li>
	<li>Running different flows on different Centrals with      different input values.
<br class="atl-forced-newline"/></li>
</ul>


<p>In order to create a matrix, add a new <em>Multi-configuration project</em> item in Jenkins.</p>

<p> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659016.png" data-image-src="attachments/66846844/79659016.png" data-unresolved-comment-count="0" data-linked-resource-id="79659016" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
After the project is created, the next step is to add the axis and a HP Operations Orchestration Flow Execution Build Step.</p>

<p><strong><em> </em></strong><strong><em>Example 1:</em></strong>
<br class="atl-forced-newline"/></p>

<p>            If you want to run the flows <em>f1</em> and <em>f2</em> on the Central servers <em>s1</em> and <em>s2</em>, there will be a total of 4 smaller jobs (mini-jobs), each testing one of the 4 combinations.</p>

<p>The flows and servers are actually generating the 2x2 matrix with the 4 mini-jobs.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659017.png" data-image-src="attachments/66846844/79659017.png" data-unresolved-comment-count="0" data-linked-resource-id="79659017" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_2.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659018.png" data-image-src="attachments/66846844/79659018.png" data-unresolved-comment-count="0" data-linked-resource-id="79659018" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_3.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence"> s_server
 f_flow
 i_${inputName}</pre>
</div></div>

<p>For the plugin to know what servers, flows and inputs you want to use, you need a specific syntax to input the axis values in a matrix configuration job, as follows:|<br/>
  <br/>
    The f_flow values are relative to the Basepath defined in the build step.   </p>


<p>            The axis <em>Values</em> list elements will be injected at runtime in each mini-job.</p>

<p>            The s_server values must match labels already defined in the <em>Manage Jenkins/Configure System/HP Operations Orchestration section</em> (see Example 3); otherwise the corresponding jobs will fail because the target server does not contain a valid Central on which to run the flows on.</p>

<p>            If s_servers are not specified, the server set in the build step will be the target Central.          </p>

<p>            If the f_flows values are used to generate the matrix, the flows they represent must be located in the <em>Basepath</em> folder. The value from the “Select Flow to Execute on Server” is ignored in this case, but must be supplied.</p>

<p><strong><em> </em></strong></p>

<p><strong><em>Example 2:</em></strong></p>

<p>            For the sample flow Random Number Generator (from Base CP), that has 2 inputs <em>min</em> and <em>max</em> and generates a random number between <em>min</em> and <em>max</em>, the axis could be specified like: <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659019.png" data-image-src="attachments/66846844/79659019.png" data-unresolved-comment-count="0" data-linked-resource-id="79659019" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_4.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
A 3 x 3 matrix will be generated; each of the 9 mini-jobs will run the flow on the server specified in the build step, with different values for <em>min</em> and <em>max.</em></p>

<p><em>           </em> The mini-job that has <em>min=500</em> and <em>max=101</em> fails because this is an invalid input combination for the flow.</p>

<p> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659020.png" data-image-src="attachments/66846844/79659020.png" data-unresolved-comment-count="0" data-linked-resource-id="79659020" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_5.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
In this situation you can use the Combination filter option in the Jenkins job to skip the invalid configuration. For more options on this combination filter you can use the help button available to the right of the field.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659021.png" data-image-src="attachments/66846844/79659021.png" data-unresolved-comment-count="0" data-linked-resource-id="79659021" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_6.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span><br/>
<strong><em>Example 3:</em></strong>    
<br class="atl-forced-newline"/></p>

<p>            If one of the axis is generated with _f_flow_, and multiple flows have common inputs with common values that do not generate the matrix, those can be specified in the Build step section like in the normal, non-matrix scenario.</p>

<p>            In this example, the matrix will run 2 flows: <em>Addition and Subtraction</em>, located in the same folder in Central, <em>/Library/EvaluatorExample</em>.<em> </em> Both flows have 2 inputs called <em>value1</em> and <em>value2</em>. The first input is populated through the matrix axis, and the 2nd through the build step. <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659022.png" data-image-src="attachments/66846844/79659022.png" data-unresolved-comment-count="0" data-linked-resource-id="79659022" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_7.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>

<p>After the execution finishes, the matrix will look like this:</p>


<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659023.png" data-image-src="attachments/66846844/79659023.png" data-unresolved-comment-count="0" data-linked-resource-id="79659023" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="matrixConfig_8.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>

<p>Below is the console output corresponding to the “Addition, 10” mini-job.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/66846844/79659024.png" data-image-src="attachments/66846844/79659024.png" data-unresolved-comment-count="0" data-linked-resource-id="79659024" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="consoleOutput_1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66846844" data-linked-resource-container-version="30"></span></p>

<h1 id="HPOperationsOrchestrationAutomationExecutionPlugin-Changelog">Changelog</h1>


<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-Version2.1.1(July5,2016)">Version 2.1.1 (July 5, 2016)</h2>

<p>This is the list of issues that were fixed:</p>
<ul>
	<li>Increased global &amp; route connections limit to 100 (it was limited to 2 runs) (9x version)</li>
	<li>Added support for CSRF (10x version)</li>
	<li>Added stack trace for failed flows</li>
	<li>Build wasn’t failed when timeout is reached</li>
	<li>Trigger in 9x didn’t work (get version throw exception)</li>
	<li>No report for 10x runs</li>
	<li>Added support for customize run name </li>
	<li>Code refactoring</li>
</ul>



<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-Version2.1.0(July5,2016)">Version 2.1.0 (July 5, 2016)</h2>

<div class="panel" style="border-width: 1px;"><div class="panelContent">
<p>Failed release</p>
</div></div>

<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-Version2.0.0(May13,2015)">Version 2.0.0 (May 13, 2015)</h2>

<p>Plugin enhancements :</p>
<ul>
	<li>support for 10.02 and newer versions of OO</li>
	<li>saving the password when adding a new server</li>
	<li>improve reporting by adding HTML formatting to the execution log,</li>
	<li>support for running inside Jenkins multi-configuration jobs</li>
	<li> improving timeout mechanism</li>
	<li>improving build step view in the Jenkins job</li>
	<li>adding help tags to build step text fields.</li>
</ul>


<h2 id="HPOperationsOrchestrationAutomationExecutionPlugin-Version1.0.x">Version 1.0.x </h2>

<p>Obsolete</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/67043335.png">HPOO.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/67043336.png">P2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/67043337.png">P3.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/67043338.png">P4.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/67043339.png">P5.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/67043342.pdf">Jenkins Plugin for HP OO - Case Study.pdf</a> (application/pdf)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659011.png">config_1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659012.png">config_2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659013.png">buildStep_1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659014.png">buildStep_2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659015.png">buildStep_3.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659016.png">matrixConfig_1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659017.png">matrixConfig_2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659018.png">matrixConfig_3.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659019.png">matrixConfig_4.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659020.png">matrixConfig_5.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659021.png">matrixConfig_6.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659022.png">matrixConfig_7.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659023.png">matrixConfig_8.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/66846844/79659024.png">consoleOutput_1.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:27</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
