<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Apache Geronimo 3.0</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Containers.html">Containers</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Apache Geronimo 3.0
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (mpp4manu)</span>, last modified by <span class='editor'> Unknown User (vlatombe)</span> on Feb 09, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The XML code at the bottom, when place into a geronimo-web.xml file that was then added to the jenkins.war as WEB-INF/geronimo-web.xml, allowed me to deploy the jenkins.war file within Apache Geronimo 3.0 using the native deployer application.  Once you have created the file, you need to create a directory called WEB-INF and put the geronimo-web.xml into that subdirectory.  Then, assuming the jenkins.war file is in the same directory that you are in, execute the following (Linux):</p>

<p>zip -u jenkins.war WEB-INF/geronimo-web.xml</p>

<p>The updated jenkins.war file may then be deployed within Apache Geronimo.  You may wish to make the modification to the Java start up options which follow before you attempt to deploy it.</p>


<p>The deployment did cause an out-of-memory error in Geronimo that forced me to use a &quot;kill -9&quot; to stop it.  I had to increase the values of Java options in the &lt;geronimo install directory&gt;/bin/geronimo file as shown below.</p>

<p>JAVA_OPTS=&quot;-Xmx512m -XX:MaxPermSize=512m&quot;</p>

<p>Geronimo then restarted successfully. </p>

<p>Finally, the Jenkins web application  needs to be started using the &quot;Web Apps (WAR)&quot; application.</p>

<p><span style="text-decoration: underline;">geronimo-web.xml File Contents</span></p>


<p>&lt;web-app xmlns=&quot;http://geronimo.apache.org/xml/ns/j2ee/web-2.0&quot;<br/>
         xmlns:dep=&quot;http://geronimo.apache.org/xml/ns/deployment-1.2&quot;&gt;<br/>
  &lt;dep:environment&gt;<br/>
    &lt;dep:moduleId&gt;<br/>
      &lt;dep:groupId&gt;dev.java.net&lt;/dep:groupId&gt;<br/>
      &lt;dep:artifactId&gt;jenkins&lt;/dep:artifactId&gt;<br/>
      &lt;dep:version&gt;1.499&lt;/dep:version&gt;<br/>
      &lt;dep:type&gt;war&lt;/dep:type&gt;<br/>
    &lt;/dep:moduleId&gt;<br/>
    &lt;dep:inverse-classloading /&gt;<br/>
  &lt;/dep:environment&gt;<br/>
  &lt;context-root&gt;jenkins&lt;/context-root&gt;<br/>
  &lt;security-realm-name&gt;geronimo-admin&lt;/security-realm-name&gt;<br/>
  &lt;security&gt;<br/>
    &lt;role-mappings&gt;<br/>
      &lt;role role-name=&quot;admin&quot;&gt;<br/>
        &lt;realm realm-name=&quot;geronimo-admin&quot;&gt;<br/>
          &lt;principal name=&quot;admin&quot; /&gt;<br/>
        &lt;/realm&gt;<br/>
      &lt;/role&gt;<br/>
    &lt;/role-mappings&gt;<br/>
  &lt;/security&gt;<br/>
&lt;/web-app&gt;</p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:09</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
