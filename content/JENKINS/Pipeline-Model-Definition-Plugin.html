<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Pipeline Model Definition Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Pipeline Model Definition Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (abayer)</span>, last modified on Jun 07, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Pipeline: Declarative <a href="https://plugins.jenkins.io/pipeline-model-definition" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2019-01-08/#SECURITY-1266" class="external-link" rel="nofollow">Script Security sandbox bypass</a></li>
</ul>

</div></div>
Declarative Jenkins Pipelines<div class="confluence-information-macro confluence-information-macro-warning"><p class="title">This plugin requires Jenkins 2.121.1 or later</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><br/></div></div><div class="confluence-information-macro confluence-information-macro-information"><p class="title">More Information at jenkins.io</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>More information is available at <a href="https://jenkins.io/doc/book/pipeline/" class="external-link" rel="nofollow">jenkins.io</a>.</p></div></div><h2 id="PipelineModelDefinitionPlugin-Changelog">Changelog</h2><h3 id="PipelineModelDefinitionPlugin-Version1.3.9(June7,2019)">Version 1.3.9 (June 7, 2019)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-57162" class="external-link" rel="nofollow">JENKINS-57162</a> - <code>agent dockerfile</code>  name/hash should incorporate build args.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-57826" class="external-link" rel="nofollow">JENKINS-57826</a> - <code>post</code>  on a <code>stage</code>  should handle <code>catchError</code> 's <code>stageResult</code>  as distinct from the status of the whole build.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.8(April15,2019)">Version 1.3.8 (April 15, 2019)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46354" class="external-link" rel="nofollow">JENKINS-46354</a> - Don't skip all stages when retrying from top level.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.7(March20,2019)">Version 1.3.7 (March 20, 2019)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-52850" class="external-link" rel="nofollow">JENKINS-52850</a> - Support SSH private key credentials in <code>environment</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-56402" class="external-link" rel="nofollow">JENKINS-56402</a> - Set build result to the logical result in post conditions.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-56544" class="external-link" rel="nofollow">JENKINS-56544</a> - <code>failFast</code> option for parallel stages no longer sets build status to <code>ABORTED</code> when other stages are aborted before entering their step execution.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.6(March6,2019)">Version 1.3.6 (March 6, 2019)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-56405" style="letter-spacing: 0.0px;" class="external-link" rel="nofollow">JENKINS-56405</a> - Don't require registry credentials if a registry URL is specified.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.5(March1,2019)">Version 1.3.5 (March 1, 2019)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-52744" class="external-link" rel="nofollow">JENKINS-52744</a> - Show a meaningful error when an environment variable value references an undefined variable.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49950" class="external-link" rel="nofollow">JENKINS-49950</a> - Allow using Dockerhub credentials without having to specify a registry URL.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-55476" class="external-link" rel="nofollow">JENKINS-55476</a> - Don't trigger <code>unsuccessful</code> post condition for successful builds.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-55459" class="external-link" rel="nofollow">JENKINS-55459</a> - Make parallel stages that fail fast result in the build being marked as failed, not aborted.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.4.1(January8,2019)">Version 1.3.4.1 (January 8, 2019)</h3><ul><li><a href="https://jenkins.io/security/advisory/2019-01-08/" class="external-link" rel="nofollow">Fix security vulnerability</a></li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.4(December10,2018)">Version 1.3.4 (December 10, 2018) </h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49997" class="external-link" rel="nofollow">JENKINS-49997</a> - Add new <code>unsuccessful</code> <code>post</code> condition</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-53734" class="external-link" rel="nofollow">JENKINS-53734</a> - Allow use of <code>parallel</code> within top-level sequential stages. </li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-54919" class="external-link" rel="nofollow">JENKINS-54919</a> - Change processing of <code>agent</code> contents to allow references to newly defined parameter default values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46894" class="external-link" rel="nofollow">JENKINS-46894</a> - Add a new <code>when</code> condition for checking the build's cause.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.3(November27,2018)">Version 1.3.3 (November 27, 2018) </h3><ul><li>Add REST API for Stage Restart functionality</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-54047" class="external-link" rel="nofollow">JENKINS-54047</a> - Fix handling of <code>!</code> expressions in <code>environment</code> variable resolution.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48556" class="external-link" rel="nofollow">JENKINS-48556</a> - Prevent sporadic failure to recognize block-scoped steps, such as <code>timestamps</code>, as valid <code>options</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50880" class="external-link" rel="nofollow">JENKINS-50880</a> - Add <code>beforeInput</code> flag for <code>when.</code></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-53558" class="external-link" rel="nofollow">JENKINS-53558</a> - New <code>option</code> for setting <code>failFast</code> for all parallel stages in a Pipeline.</p></li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.3.2(August31,2018)">Version 1.3.2 (August 31, 2018) </h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51027" class="external-link" rel="nofollow">JENKINS-51027</a> - Include <code>post</code> conditions in Directive Generator correctly.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51932" class="external-link" rel="nofollow">JENKINS-51932</a> - Include <code>isRestartedRun</code> in <code>when</code> Directive Generator.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51931" class="external-link" rel="nofollow">JENKINS-51931</a> - Fix NPE if a <code>when</code> condition like <code>allOf</code> or <code>anyOf</code> has no children.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51872" class="external-link" rel="nofollow">JENKINS-51872</a> - Fix <code>tool</code> dropdowns in Directive generator.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51383" class="external-link" rel="nofollow">JENKINS-51383</a> - Properly catch/handle <code>Throwable</code> as well as <code>Exception</code> in stage execution.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51227" class="external-link" rel="nofollow">JENKINS-51227</a> - Add <code>quietPeriod</code> Declarative option.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-53316" class="external-link" rel="nofollow">JENKINS-53316</a> - Switch to depending on <code>jackson2-api</code> plugin rather than shading everything Jackson/JSON-related ourselves.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-52114" class="external-link" rel="nofollow">JENKINS-52114</a> - Make <code>post</code> <code>failure</code> and <code>success</code> for a <code>stage</code> care about whether that <code>stage</code> has an error, rather than the full build's status. This allows a <code>stage</code> within a <code>parallel</code> that does not have any errors but completes after another <code>parallel</code> <code>stage</code> that does have an error (resulting in the build's status now being <code>FAILURE</code>) to fire its <code>post</code> <code>success</code> condition as would be expected.<br/><ul><li><strong>NOTE</strong>: this does result in a small change in expected behavior. If you are setting <code>currentBuild.result</code> to <code>FAILURE</code> in a <code>stage</code> and then have a <code>post</code> <code>failure</code> condition for that same <code>stage</code>, without ever actually having a true error or step failure in the <code>stage</code>, the <code>post</code> <code>failure</code> for the <code>stage</code> in question will not fire. <code>post</code> <code>failure</code> conditions on a <code>stage</code> now fire when there's an error in the execution of the <code>stage</code> only, and <code>post</code> <code>success</code> conditions on a <code>stage</code> fire whenever there is no error in the execution of the <code>stage</code>.</li><li>No change in behavior for any other <code>post</code> condition, or for <code>post</code> outside of <code>stages</code> (including <code>success</code> and <code>failure</code>) is introduced by this.</li></ul></li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.3.1(June27,2018)">Version 1.3.1 (June 27, 2018) </h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-51962" class="external-link" rel="nofollow">JENKINS-51962</a> - Propagate failures in nested sequential stages to top-level properly.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-52084" class="external-link" rel="nofollow">JENKINS-52084</a> - Execute <code>post</code> for sequential stage parent in proper context (such as <code>agent</code>)</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.3(June14,2018)">Version 1.3 (June 14, 2018)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50882" class="external-link" rel="nofollow">JENKINS-50882</a> - fix Directive Generator link from multibranch folders.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50964" class="external-link" rel="nofollow">JENKINS-50964</a> - Fix 404 on jenkins.io Pipeline Syntax link </li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50645" class="external-link" rel="nofollow">JENKINS-50645</a> - Switch to firing <code>failure</code> after <code>success</code> and <code>unstable</code>, in case those <code>post</code> conditions modify status.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50815" class="external-link" rel="nofollow">JENKINS-50815</a> - Fall back to <code>GIT_LOCAL_BRANCH</code> for <code>when branch</code> condition if <code>BRANCH_NAME</code> is not available.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43016" class="external-link" rel="nofollow">JENKINS-43016</a> - Convert empty string <code>label</code> for <code>agent</code> to <code>agent any</code> in JSON.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46809" class="external-link" rel="nofollow">JENKINS-46809</a> - Add support for nesting sequential groups of <code>stages</code> inside a <code>stage</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45455" class="external-link" rel="nofollow">JENKINS-45455</a> - Allow restarting a completed build from any stage which ran in that build, with all inputs (SCM, parameters, etc) preserved, and if the new <code>preserveStashes</code> option has been specified, any stashes from the original build available to the new build.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44993" class="external-link" rel="nofollow">JENKINS-44993</a> - Don't swallow errors in <code>post</code>.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.2.9(Apr17,2018)">Version 1.2.9 (Apr 17, 2018)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50652" class="external-link" rel="nofollow">JENKINS-50652</a> - Don't fire <code>failure</code> for aborted/timed-out <code>sh</code> and <code>bat</code> steps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41239" class="external-link" rel="nofollow">JENKINS-41239</a> - Add new <code>cleanup</code> <code>post</code> condition to always run, after every other <code>post</code> condition has run.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50833" class="external-link" rel="nofollow">JENKINS-50833</a> - Revert <code>DeclarativeAgentDescriptor.all()</code> signature to unbreak Pipeline Editor.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50682" class="external-link" rel="nofollow">JENKINS-50682</a> - Fix <code>when</code> conditions <code>tag</code> and <code>changeRequest</code> in Directive Generator.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.2.8(Apr5,2018)">Version 1.2.8 (Apr 5, 2018)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49677" class="external-link" rel="nofollow">JENKINS-49677</a> - Better uniqueness on Dockerfile tag name.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49226" class="external-link" rel="nofollow">JENKINS-49226</a> - Add new <code>equals</code> condition for <code>when</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49976" class="external-link" rel="nofollow">JENKINS-49976</a> - Prevent serialization warnings related to <code>ModelASTValue</code> inner classes.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41060" class="external-link" rel="nofollow">JENKINS-41060</a> - Add new <code>fixed</code> and <code>regression</code> <code>post</code> conditions.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49558" class="external-link" rel="nofollow">JENKINS-49558</a> - Add new <code>newContainerPerStage</code> option, which will spin up a fresh container of a <code>docker</code> or <code>dockerfile</code> top-level agent for each stage, rather than reusing the same container across all stages.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48523" class="external-link" rel="nofollow">JENKINS-48523</a> - <code>when</code> conditions for checking if building a git tag or a change request (such as a GitHub pull request).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47106" class="external-link" rel="nofollow">JENKINS-47106</a> - Properly support <code>alwaysPull</code> option in top-level <code>agent<span style="font-family: Arial , sans-serif;"> </span></code><code>docker</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49893" class="external-link" rel="nofollow">JENKINS-49893</a> - Declarative Directive Generator added.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.2.7(Jan29,2018)">Version 1.2.7 (Jan 29, 2018)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48758" class="external-link" rel="nofollow">JENKINS-48758</a> - Improve error messages around bare variables for <code>environment</code> values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48752" class="external-link" rel="nofollow">JENKINS-48752</a> - Fix <code>post</code> <code>change</code> behavior to not treat consecutive runs with any status but <code>SUCCESS</code> as changed.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49070" class="external-link" rel="nofollow">JENKINS-49070</a> - Prevent use of <code>BigDecimal</code> to avoid serialization issues.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.2.6(Jan12,2018)">Version 1.2.6 (Jan 12, 2018)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48209" class="external-link" rel="nofollow">JENKINS-48209</a> - Prevent serialization problems with <code>when</code> <code>expression</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48229" class="external-link" rel="nofollow">JENKINS-48229</a> - Use the agent's directory separator for <code>Dockerfile</code> path.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48266" class="external-link" rel="nofollow">JENKINS-48266</a> - Fix execution of <code>post</code> for <code>parallel</code> stages parent.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44461" class="external-link" rel="nofollow">JENKINS-44461</a> - Add <code>beforeAgent</code> option for <code>when</code> - if true, <code>when</code> conditions will be evaluated before entering the <code>agent</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48304" class="external-link" rel="nofollow">JENKINS-48304</a> - Invalidate option type caches after &quot;extensions augmented&quot; to prevent a race condition where not all plugins have loaded yet when the caches get initially populated.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48380" class="external-link" rel="nofollow">JENKINS-48380</a> - add <code>options</code> for <code>stage</code> - supports block-scoped &quot;wrappers&quot; like <code>timeout</code> and Declarative options like <code>skipDefaultCheckout</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48379" class="external-link" rel="nofollow">JENKINS-48379</a> - Add <code>input</code> directive for <code>stage</code> - runs the <code>input</code> step with the supplied configuration before entering the <code>when</code> or <code>agent</code> for a <code>stage</code>, and makes any parameters provided as part of the <code>input</code> step available as environment variables.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44277" class="external-link" rel="nofollow">JENKINS-44277</a> - Add <code>checkoutToSubdirectory(...)</code><span style="color: rgb(36,41,46);"> Declarative option for use in top-level or per <code>stage</code> <code>options</code> directive.</span></li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.2.5(Nov22,2017)"><span>Version 1.2.5 (Nov 22, 2017)</span></h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46597" class="external-link" rel="nofollow">JENKINS-46597</a> - Fix serialization errors due to <code>checkout</code> returned environment variables.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47928" class="external-link" rel="nofollow">JENKINS-47928</a> - Don't run <code>post</code> failure block for skipped parallel container stages after previous stage failures.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46854" class="external-link" rel="nofollow">JENKINS-46854</a> - Better validation of errors in <code>script</code> and <code>expression</code> blocks defined in the editor.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48115" class="external-link" rel="nofollow">JENKINS-48115</a> - Pick <code>workflow-step-api</code> 2.14 to make sure we don't get hosed by bad metasteps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37663" class="external-link" rel="nofollow">JENKINS-37663</a> - Fix <code>junit</code> 1.22 and later <code>UNSTABLE</code> result check in <code>post</code> by comparing <code>CpsFlowExecution.getResult()</code> as well as <code>Run.getResult()</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46252" class="external-link" rel="nofollow">JENKINS-46252</a> - Mark any job that's had a Declarative run with <code>DeclarativeJobAction</code>.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.2.4(Nov8,2017)"><span style="color: rgb(210,73,57);">Version 1.2.4 (Nov 8, 2017)</span></h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47814" class="external-link" rel="nofollow">JENKINS-47814</a> - Stop double-validating contributed validators for <code>post</code> and method calls</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47781" class="external-link" rel="nofollow">JENKINS-47781</a> - Truly fix the scoping of triggers, job properties, and build parameters<br/><br/></li></ul><p><span style="color: rgb(210,73,57);font-size: 16.0px;font-weight: bold;">Version 1.2.3 (Nov 3, 2017)</span><span style="color: rgb(210,73,57);"> </span></p><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46403" class="external-link" rel="nofollow">JENKINS-46403</a> - Prevent infinite loop on run start in Job DSL-created jobs.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47421" class="external-link" rel="nofollow">JENKINS-47421</a> - Fix issue with loading running builds from earlier versions.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46597" class="external-link" rel="nofollow">JENKINS-46597</a> - Hopefully fix serialization issue with <code>TreeMap.Entry</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47559" class="external-link" rel="nofollow">JENKINS-47559</a> - Skip further validation of non-method <code>when</code> condition, since it's already known to be invalid and can cause NPEs in further validation for no benefit.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47600" class="external-link" rel="nofollow">JENKINS-47600</a> - Properly special-cases <code>VALUE = &quot;${env.VALUE}&quot;</code> in <code>environment</code> the same as we handle <code>VALUE = &quot;${VALUE}&quot;</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47781" class="external-link" rel="nofollow">JENKINS-47781</a> - Narrow scope of <code>Describable</code> resolution for <code>triggers</code>, <code>options</code>, and <code>parameters</code>.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.2.2(Oct5,2017)">Version 1.2.2 (Oct 5, 2017) </h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47202" class="external-link" rel="nofollow">JENKINS-47202</a> - Fix serialization of <code>environment</code> containing steps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47197" class="external-link" rel="nofollow">JENKINS-47197</a> - Make sure we don't require Java 8 at runtime.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.2.1(Sept29,2017)"><span style="color: rgb(210,73,57);">Version 1.2.1 (Sept 29, 2017)</span> </h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47106" class="external-link" rel="nofollow">JENKINS-47106</a> - Switch to <code>alwaysPull</code> option for <code>docker</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47109" class="external-link" rel="nofollow">JENKINS-47109</a> - Add support for <code>failFast</code> for parallel <code>stage</code>s</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47193" class="external-link" rel="nofollow">JENKINS-47193</a> - Don't break parsing of <code>Jenkinsfile</code> due to <code>class</code> or <code>enum</code> defined in it as well as <code>pipeline</code> block.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.2(Sept21,2017)">Version 1.2 (Sept 21, 2017)</h3><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Declarative Pipeline runs in progress upon upgrade from versions prior to 1.2 will probably fail on resuming.</p></div></div><p><br/></p><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41334" class="external-link" rel="nofollow">JENKINS-41334</a> - Parallel definition and execution of <code>stage</code>s.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45198" class="external-link" rel="nofollow">JENKINS-45198</a> - When on core 2.60+ with <code>pipeline-scm-step</code> 2.6+ and recent versions of <code>git</code>, <code>subversion</code>, or <code>mercurial</code> plugins, include SCM-provided variables in environment automatically.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42753" class="external-link" rel="nofollow">JENKINS-42753</a> - Rewrite of runtime parser, fixing a bunch of issues with <code>environment</code>, <code>when expression</code>, variable and function behavior consistency, and more.<ul><li>Related tickets:<ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44298" class="external-link" rel="nofollow">JENKINS-44298</a> - Usage of variables and functions defined outside the <code>pipeline</code> block can work in <code>when expression</code> again.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44482" class="external-link" rel="nofollow">JENKINS-44482</a> - Pre-existing environment variables containing backslashes do not have their backslashes discarded.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44603" class="external-link" rel="nofollow">JENKINS-44603</a> - Usage of variables and functions defined outside the <code>pipeline</code> block work in <code>environment</code> variables again.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45636" class="external-link" rel="nofollow">JENKINS-45636</a> - Backslashes are correctly escaped when defined in one new <code>environment</code> variable and referenced in another.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45637" class="external-link" rel="nofollow">JENKINS-45637</a> - Environment variables containing multiple pre-existing environment variables no longer silently fail.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45916" class="external-link" rel="nofollow">JENKINS-45916</a> - Pre-existing environment variables, such as <code>PATH</code>, can be overridden in the <code>environment</code> directive.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44034" class="external-link" rel="nofollow">JENKINS-44034</a> - Variable references in <code>environment</code> variable definitions no longer require curly braces.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46112" class="external-link" rel="nofollow">JENKINS-46112</a> - Logs for <code>error</code> steps visible in Blue Ocean correctly.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45991" class="external-link" rel="nofollow">JENKINS-45991</a> - <code>environment</code> variables can be configured to have default values, i.e., <code>FOO = FOO ?: &quot;default&quot;</code><code><br/></code></li></ul></li></ul></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46065" class="external-link" rel="nofollow">JENKINS-46065</a> - Provide an extension point for contributing to Declarative validation.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46277" class="external-link" rel="nofollow">JENKINS-46277</a> - Always do a fresh docker pull, even for agents in stages.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46064" class="external-link" rel="nofollow">JENKINS-46064</a> - New <code>when</code> conditions for referencing the build's changelog.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44039" class="external-link" rel="nofollow">JENKINS-44039</a> - Fixed round-tripping of single-quote multiline <code>script</code> blocks from the editor.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46544" class="external-link" rel="nofollow">JENKINS-46544</a> - Give useful error message on use of bare <code>${...</code>} outside quotes.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44497" class="external-link" rel="nofollow">JENKINS-44497</a> - Allow use of variables in <code>tools</code> values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46547" class="external-link" rel="nofollow">JENKINS-46547</a> - Support declaration of <code>pipeline</code> blocks in shared libraries' <code>src/*.groovy</code> files.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.1.9(July25,2017)">Version 1.1.9 (July 25, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45081" class="external-link" rel="nofollow">JENKINS-45081</a> - Stop erroring out on use of object methods named <code>pipeline</code> outside of a Declarative Pipeline.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45098" class="external-link" rel="nofollow">JENKINS-45098</a> - Properly validate use of a tool without a version.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42338" class="external-link" rel="nofollow">JENKINS-42338</a> - Make sure <code>tools</code> defined at the top-level are installed on <code>stage</code>-level <code>agent</code>s.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.1.8(July4,2017)">Version 1.1.8 (July 4, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45270" class="external-link" rel="nofollow">JENKINS-45270</a> - Fix <code>retry</code> use in <code>options</code> directive.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43071" class="external-link" rel="nofollow">JENKINS-43071</a> - Only require <code>Jenkins.READ</code> permissions for CLI linter.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.1.7(June21,2017)">Version 1.1.7 (June 21, 2017)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44898" class="external-link" rel="nofollow">JENKINS-44898</a> - Workaround for JENKINS-44898 for other plugins implementing <code>WithScript</code> extension points until we've moved to Jenkins core 2.66 or later.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.1.6(June12,2017)">Version 1.1.6 (June 12, 2017)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44809" class="external-link" rel="nofollow">JENKINS-44809</a> - Fix problem causing duplicate <code>JobProperty</code> and related errors.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.1.5(June8,2017)">Version 1.1.5 (June 8, 2017)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44149" class="external-link" rel="nofollow">JENKINS-44149</a> - Properly clean up stale/defunct <code>JobProperty</code>, <code>Trigger</code> and <code>ParameterDefinition</code> left behind upon removal from <code>Jenkinsfile</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43816" class="external-link" rel="nofollow">JENKINS-43816</a> - Make sure we always have a non-null <code>execution</code> before parsing.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43055" class="external-link" rel="nofollow">JENKINS-43055</a> - Get rid of noisy warnings regarding unset heads in Jenkins log.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44621" class="external-link" rel="nofollow">JENKINS-44621</a> - Don't remove <code>JobProperty</code>, <code>Trigger</code> and <code>ParameterDefinition</code> defined outside of the <code>Jenkinsfile</code>.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.1.4(May2,2017)">Version 1.1.4 (May 2, 2017)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43339" class="external-link" rel="nofollow">JENKINS-43339</a> - Properly handle non <code>FAILURE</code> build results from <code>FlowInterruptedException</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43872" class="external-link" rel="nofollow">JENKINS-43872</a> - Escape dollar signs in <code>environment</code> correctly.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43910" class="external-link" rel="nofollow">JENKINS-43910</a> - Allow use of <code>FileCredentials</code> in <code>environment</code> variables.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.1.3(Apr20,2017)">Version 1.1.3 (Apr 20, 2017)</h3><div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43486" class="external-link" rel="nofollow">JENKINS-43486</a> - Handle non-String environment values properly.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43404" class="external-link" rel="nofollow">JENKINS-43404</a> - Escaped double quotes within environment values were over-resolved.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42748" class="external-link" rel="nofollow">JENKINS-42748</a> - Escaped backslashes in environment weren't properly escaped at evaluation time.</li></ul></div><h3 id="PipelineModelDefinitionPlugin-Version1.1.2(Apr5,2017)">Version 1.1.2 (Apr 5, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42762">JENKINS-42762</a> - Go back to allowing multiple conditions directly in a <code>when</code> directive.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42693">JENKINS-42693</a> - Add <code>additionalBuildArgs</code> parameter for <code>dockerfile</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42771">JENKINS-42771</a> - Allow + binary expressions in env values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43195">JENKINS-43195</a> - Relocate <code>com.github.fge.*</code> JSON schema classes to allow other uses of different versions of the library.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41456">JENKINS-41456</a> - Support validation from multiple named parameters of a <code>DataBoundConstructor</code> with a single <code>Map</code> parameter only.</li><li>Brazilian Portuguese localization! Thanks to <a href="https://github.com/kinow" class="external-link" rel="nofollow">kinow</a> and <a href="https://github.com/boaglio" class="external-link" rel="nofollow">boaglio</a>!</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43137" class="external-link" rel="nofollow">JENKINS-43137</a> - Triple quoted strings work again in <code>environment</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43143" class="external-link" rel="nofollow">JENKINS-43143</a> - Parameters are available in <code>environment</code> values again.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43177" class="external-link" rel="nofollow">JENKINS-43177</a> - Scrub <code>env.WHATEVER</code> in <code>environment</code> values for cross-references.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43013" class="external-link" rel="nofollow">JENKINS-43013</a> - Round-robin resolution of <code>environment</code> values means ordering of declaration does not need to be relevant.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42858" class="external-link" rel="nofollow">JENKINS-42858</a> - <code>credentials</code> environment variables are available for reference in <code>environment</code> values, and <code>environment</code> variable values are available for use in <code>credentials</code> strings as well.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.1.1(Mar13,2017)">Version 1.1.1 (Mar 13, 2017)</h3><ul><li>1.1 was inadvertently built with Java 8 and has errors when run with Java 7. 1.1.1 is a rebuild of 1.1 with the correct Java 7 used.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.1(Mar13,2017)">Version 1.1 (Mar 13, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42230">JENKINS-42230</a> - Move all extension points provided by Declarative into a single new plugin for simpler dependencies.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42168">JENKINS-42168</a> - Added <code>validateDeclarativePipeline</code> step for validating Declarative Pipelines from within Pipelines. Meta!</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41503">JENKINS-41503</a> - Fix behavior of <code>null</code> translation between JSON and Groovy representations.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42286">JENKINS-42286</a> - Allow directory separators in <code>Dockerfile</code> file names.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42470">JENKINS-42470</a> - Don't require a crumb for the <code>pipeline-model-converter</code> API endpoint.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38110">JENKINS-38110</a> - Add a <code>libraries</code> directive for specifying shared libraries to load in to the build.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41118">JENKINS-41118</a> - Support custom workspaces.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42473">JENKINS-42473</a> - Don't use parse results from any source but the <code>Jenkinsfile</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41185">JENKINS-41185</a> - Add support for <code>anyOf</code>, <code>allOf</code> and <code>not</code> <code>when</code> conditions that contain other <code>when</code> conditions.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42498">JENKINS-42498</a> - Fix <code>when</code>/<code>environment</code> serialization error when XStream serialization is used behind the scenes.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42640">JENKINS-42640</a> - Properly handle validation of <code>String</code> -&gt; <code>int</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42551">JENKINS-42551</a> - Reject <code>String</code> values in JSON that would lead to invalid Groovy syntax, and reject any JSON that converts to invalid Groovy syntax generally.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42550">JENKINS-42550</a> - Properly point to bad top-level entries in validation.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41748">JENKINS-41748</a> - Allow cross referencing of variables in <code>environment</code> section to actually work.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41890">JENKINS-41890</a> - Make sure <code>env.WORKSPACE</code> can be referenced in <code>environment</code> section properly.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.0.2(Feb21,2017)">Version 1.0.2 (Feb 21, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42027">JENKINS-42027</a> - Global configuration for Declarative-specific Docker settings (label, registry) were not persisting across restarts.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41668">JENKINS-41668</a> - Add a &quot;dir&quot; option for Dockerfile Declarative agent.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41900">JENKINS-41900</a> - Move &quot;should I do checkout?&quot; logic around for simpler code in extensions of Declarative agents.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41605">JENKINS-41605</a> - Auto-checkout from SCM in per-stage agents if they're not reusing the same node block as the top-level agent.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41950">JENKINS-41950</a> - Properly report errors outside stages.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41645">JENKINS-41645</a> - Better validation for non-binary expressions in <code>environment</code> block.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42039">JENKINS-42039</a> - Add a Declarative option for &quot;treat unstable as failure&quot;.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42226">JENKINS-42226</a> - Prevent <code>NullPointerException</code> when a null value is used for <code>when</code> <code>branch</code> condition.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.0.1(Feb10,2017)">Version 1.0.1 (Feb 10, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41911">JENKINS-41911</a> - Shade JSON schema-related dependencies to avoid issues with conflicting library versions when certain other plugins (such as <code>jackson2-api</code>) are installed.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version1.0(Feb1,2017)">Version 1.0 (Feb 1, 2017)</h3><ul><li>First non-beta release. No changes from 0.9.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.9.1(stillBeta3)(Jan27,2017)">Version 0.9.1 (still Beta 3) (Jan 27, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41490">JENKINS-41490</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-41491">JENKINS-41491</a> - Fixing JSON support for nested tree steps and validation of certain tree steps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41518">JENKINS-41518</a> - Add validation of environment variable names to be valid Java identifiers - only relevant for JSON-&gt;Jenkinsfile conversion since this would already have shown up as a compilation error in a Jenkinsfile.</li><li>Catching a few validation fixes and string changes.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.9(Beta3)(Jan25,2017)">Version 0.9 (Beta 3) (Jan 25, 2017)</h3><ul><li><strong>FINAL BETA</strong> - if a blocker bug is discovered before 1.0 is released, additional point releases may be done before 1.0.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40984">JENKINS-40984</a> - Always evaluate all possible <code>post</code> conditions even if an earlier one fails.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39684">JENKINS-39684</a> - Allow configuration of registry URL and credentials for <code>docker</code> and <code>dockerfile</code> <code>agent</code> types.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40866">JENKINS-40866</a> - Allow per-<code>stage</code> <code>agent</code> configuration of <code>docker</code> and <code>dockerfile</code> to run on the same <code>node</code> as the top-level, so that you can reuse the workspace.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41050">JENKINS-41050</a> - Perform SCM checkout on raw node first even if we're using <code>docker</code> or <code>dockerfile</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41243">JENKINS-41243</a> - Speeding up tagging of synthetic stages for improved UX in Blue Ocean.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.8.2(stillBeta2)(Jan12,2017)">Version 0.8.2 (still Beta 2) (Jan 12, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41012">JENKINS-41012</a> - <code>when</code> <code>branch</code> and <code>environment</code> conditions did not actually <strong>work</strong>. Fixed.</li><li>Fixing an issue with validation/parsing outside the context of a run.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.8.1(stillBeta2)(Jan10,2017)">Version 0.8.1 (still Beta 2) (Jan 10, 2017)</h3><ul><li>Fixing compatibility warning to say compatible since 0.8.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.8(Beta2)(Jan10,2017)">Version 0.8 (Beta 2) (Jan 10, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40418">JENKINS-40418</a> - Fix previously-not-running validation for triggers, parameters and properties.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40337">JENKINS-40337</a> - Rename <code>properties</code> to <code>options</code> and add the first Declarative-specific <code>option</code>, <code>skipDefaultCheckout</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40462">JENKINS-40462</a> - Get rid of <code>wrappers</code> section, move wrappers like <code>timeout</code> and <code>retry</code> into <code>options</code> section.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40580">JENKINS-40580</a> - Quote parallel branch names to make sure they're valid.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40642">JENKINS-40642</a> - Add additional default imports so that things like <code>@Library</code> and <code>@NonCPS</code> work.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40239">JENKINS-40239</a> - Add descriptions for build conditions.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40393">JENKINS-40393</a> - Internationalize error messages!</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40524">JENKINS-40524</a> - Reworked <code>agent</code> syntax to be more extensible and consistent.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40370">JENKINS-40370</a> - Improved <code>when</code> syntax and helpers.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.7.1(stillBeta1)(Dec13,2016)">Version 0.7.1 (still Beta 1) (Dec 13, 2016)</h3><ul><li>Re-spinning release due to a mixup that resulted in one of the sub-plugins not ending up in the Update Center.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.7(Beta1)(Dec13,2016)">Version 0.7 (Beta 1) (Dec 13, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39134">JENKINS-39134</a> - Fix issue with Guice and resuming a build within a <code>script</code> block.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38153">JENKINS-38153</a> - Use the new <code>TagsAction</code> class to mark skipped stages so that Blue Ocean can render them accurately.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39923">JENKINS-39923</a> - Add new <code>jenkins-cli</code> command for linting a Declarative Jenkinsfile.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40136">JENKINS-40136</a> - Properly allow use of <code>failFast</code> with <code>parallel</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-40226">JENKINS-40226</a> - Make sure non-<code>stage</code> failures still trigger <code>post</code> failure conditions.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.6(Nov17,2016)">Version 0.6 (Nov 17, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39216">JENKINS-39216</a> - Add <code>dockerfile</code> agent backend, auto-building a Dockerfile and running the build in the resulting image.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39631">JENKINS-39631</a> - Fix error status for steps within stages.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37781">JENKINS-37781</a> - Add conditional execution of individual stages via the <code>when</code> section.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39394">JENKINS-39394</a> - Removing <code>notifications</code> completely, renaming <code>postBuild</code> to <code>post</code> for consistency with post-stage actions.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39799">JENKINS-39799</a> - Fix a bug with invalid <code>post</code> contents.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.5(Nov2,2016)">Version 0.5 (Nov 2, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37823">JENKINS-37823</a> - <code>wrappers</code> section for wrapping the entire build in a block-scoped step, like <code>retry</code> or <code>timeout</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38433">JENKINS-38433</a> - <code>agent</code> backends are now pluggable.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39245">JENKINS-39245</a> - Added <code>environment</code> section support in stages.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39244">JENKINS-39244</a> - Added <code>tools</code> section support in stages.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38993">JENKINS-38993</a> - Deterministic order for post-build/stage condition execution.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39011">JENKINS-39011</a> - Properly error out if the <code>pipeline</code> step is present but not at the top-level.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39109">JENKINS-39109</a> - Add a configuration option for what label to use for docker agents.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38865">JENKINS-38865</a> - Split the AST into a separate plugin so others can depend on it without pulling everything in.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38331">JENKINS-38331</a> - Per-stage configuration for agent.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37792">JENKINS-37792</a> - Post-stage actions added.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.4(Oct11,2016)">Version 0.4 (Oct 11, 2016)</h3><ul><li>0.3 was inadvertently built with Java 8 - so a new release is needed.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37824">JENKINS-37824</a> - Support for job properties, triggers and build parameters.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.3(Oct10,2016)">Version 0.3 (Oct 10, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38818">JENKINS-38818</a> - Correctly escape string constants when generating groovy from AST</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38564">JENKINS-38564</a> - API to convert json step blob to step syntax (and back) - one step at a time</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37788">JENKINS-37788</a> - Use <code>isLiteral</code> instead of <code>isConstant</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38426">JENKINS-38426</a> - Allow non-literal expressions for environment variable values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38242">JENKINS-38242</a> - Allow specifying arguments for Docker.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38152">JENKINS-38152</a> - Expose the execution model on the <code>WorkflowRun</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37932">JENKINS-37932</a> - Add <code>agent any</code> to replace <code>agent label:&quot;&quot;</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38097">JENKINS-38097</a> - Execute empty named stages for any planned stages after a stage fails so that execution model and actual execution match up.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.2(Sept8,2016)">Version 0.2 (Sept 8, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37897">JENKINS-37897</a> - switch to block-scoped stages and add synthetic stages for notifications and postBuild.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37828">JENKINS-37828</a> - Properly reject mixes of <code>parallel</code> and other steps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37928">JENKINS-37928</a> - Properly detect sections without values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38047">JENKINS-38047</a> - Allow multiple unnamed parameters in declarative subset.</li></ul><h3 id="PipelineModelDefinitionPlugin-Version0.1(Aug30,2016)">Version 0.1 (Aug 30, 2016)</h3><ul><li>Initial beta release. Functional but limited.</li></ul><div><span style="color: rgb(210,73,57);font-size: 16.0px;font-weight: bold;"><br/></span></div>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:38</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
