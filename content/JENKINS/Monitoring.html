<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Monitoring</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Monitoring
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (evernat)</span>, last modified on Oct 13, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Monitoring <a href="https://plugins.jenkins.io/monitoring" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2018-09-25/#SECURITY-1156" class="external-link" rel="nofollow">XML External Entity Processing Vulnerability</a></li>
	<li><a href="https://jenkins.io/security/advisory/2019-01-28/#SECURITY-1154" class="external-link" rel="nofollow">Clickjacking vulnerability</a></li>
	<li><a href="https://jenkins.io/security/advisory/2019-01-28/#SECURITY-1153" class="external-link" rel="nofollow">CSRF vulnerability</a></li>
</ul>

</div></div>
<h3 id="Monitoring-Summary">Summary</h3><p><span class="confluence-embedded-file-wrapper image-left-wrapper"><img class="confluence-embedded-image image-left" src="attachments/41877877/41975843.png" data-image-src="attachments/41877877/41975843.png" data-unresolved-comment-count="0" data-linked-resource-id="41975843" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="systemmonitor.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span><br/> Monitoring plugin: Monitoring of Jenkins itself with <a href="https://github.com/javamelody/javamelody/wiki" class="external-link" rel="nofollow">JavaMelody</a>. Open the <a href="http://localhost:8080/monitoring" class="external-link" rel="nofollow">report</a> (or <a href="http://yourhost/monitoring" class="external-link" rel="nofollow">http://yourhost/monitoring</a>) after installation.<br/></p><h3 id="Monitoring-Featuressummarized">Features summarized</h3><ul><li>Charts of memory, cpu, system load average, http response times by day, week, month, year or custom period</li><li>Statistics of http requests with mean response times, mean cpu times, mean response size by request and by day, week, month, year or custom period</li><li>Errors and logs</li><li>Current http requests</li><li>Threads</li><li>Heap histogram (instances and sizes by class)</li><li>Http sessions</li><li>Process list of OS</li><li>MBeans</li><li>Actions for GC, heap dump and invalidate session(s)</li><li>Report in html or pdf</li><li>In English, German, French, Portuguese or Chinese</li><li>Jenkins security</li><li>For Jenkins nodes (slaves in general):<ul><li>The <a href="http://localhost:8080/monitoring/nodes" class="external-link" rel="nofollow">report</a> for the nodes is available at <a href="http://yourhost/monitoring/nodes" class="external-link" rel="nofollow">http://yourhost/monitoring/nodes</a></li><li>Charts aggregated for all nodes of memory, cpu, system load average, number of running builds, build queue length, build times by period</li><li>Detailed statistics of the build times and of the build steps by period</li><li>Threads, process list and MBeans for each nodes</li><li>Heap histogram aggregated for all nodes</li></ul></li><li>For each individual node (each node in <a href="http://yourhost/computer" class="external-link" rel="nofollow">http://yourhost/computer</a>), reports and actions are available from the &quot;Monitoring&quot; page in the contextual menu or in the detail of the node:<ul><li>Threads, process list, MBeans of that node only</li><li>Heap histogram of that node</li><li>Actions for GC, heap dump</li></ul></li><li>And more...</li></ul><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-thumbnail image-center" src="attachments/41877877/44564483.png" data-image-src="attachments/41877877/44564483.png" data-unresolved-comment-count="0" data-linked-resource-id="44564483" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="graphics.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span> <span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-thumbnail image-center" src="attachments/41877877/44564484.png" data-image-src="attachments/41877877/44564484.png" data-unresolved-comment-count="0" data-linked-resource-id="44564484" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="statistics.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span> <span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-thumbnail image-center" src="attachments/41877877/44564485.png" data-image-src="attachments/41877877/44564485.png" data-unresolved-comment-count="0" data-linked-resource-id="44564485" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="system_infos_and_threads.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span></p><p><a href="https://github.com/javamelody/javamelody/wiki/resources/Online_help_of_the_monitoring.pdf" class="external-link" rel="nofollow">Online help of JavaMelody</a></p><p>Some <a href="Monitoring-Scripts.html">Monitoring Scripts</a> can be executed using the Jenkins Script Console.<br/>The &quot;Monitoring&quot; plugin can be installed by point and click in the plugin manager of a Jenkins server, or it can be downloaded from <a href="http://mirrors.jenkins-ci.org/plugins/monitoring/" class="external-link" rel="nofollow">http://mirrors.jenkins-ci.org/plugins/monitoring/</a>.</p><p>You can contribute translations on <a href="https://poeditor.com/join/project/QIaCp4bThS" class="external-link" rel="nofollow">this website</a>.</p><h3 id="Monitoring-Releasenotes">Release notes</h3><p><strong>Next release (master)</strong></p><ul><li>added a graph in /monitoring/nodes of the sum of waiting durations in seconds of the builds in the build queue (<a href="https://github.com/jenkinsci/monitoring-plugin/commit/efa4d0317122ed629190d7206a32a462a0228b5f" class="external-link" rel="nofollow">efa4d03</a>)</li></ul><p><strong>1.79.0 (Jul 26, 2019)</strong></p><ul><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-58419" rel="nofollow" class="external-link">JENKINS-58419</a>: No redirect after login in the CAS plugin since 1.78.0.</li><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-58388" class="external-link" rel="nofollow">JENKINS-58388</a>, broken 'report' link in Available and Updated tabs of plugin manager.</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/843" class="external-link" rel="nofollow">#843</a>: when using Tomcat, Tomcat info is not available anymore since Tomcat 8.5.35 and Tomcat 9.0.13.</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/847" class="external-link" rel="nofollow">#847</a>: When downloading more than 2GB, assertionError may occur.</li></ul><p><strong>1.78.0 (Jul 2, 2019)</strong></p><ul><li>Improved the rendering of the management links in the Administer page (<a style="letter-spacing: 0.0px;" href="https://issues.jenkins-ci.org/browse/JENKINS-57373" class="external-link" rel="nofollow">JENKINS-57373</a><span style="letter-spacing: 0.0px;">)</span><span style="letter-spacing: 0.0px;">.<br/></span>Note that the link on &quot;Monitoring of memory, cpu, http requests and more in Jenkins master.&quot; goes to the &quot;/monitoring&quot; page.<br/>And the link on &quot;You can also view the monitoring of builds, build queue and Jenkins nodes.&quot; goes to the &quot;/monitoring/nodes&quot; page.</li><li>added: display an alert at the top of the monitoring page when there is an exception while collecting data, in order to make easier to fix basic technical issues in javamelody (<a href="https://github.com/javamelody/javamelody/commit/a7a8b26" class="external-link" rel="nofollow">a7a8b26</a>). For example, <code>IOException: No space left on device</code>.</li><li>fix to still flush the response when no content in FilterServletResponseWrapper.flushBuffer() (<a href="https://github.com/javamelody/javamelody/issues/836" class="external-link" rel="nofollow">#836</a>)</li><li>added: Czech translations (<a href="https://github.com/javamelody/javamelody/commit/2d85a88" class="external-link" rel="nofollow">2d85a88</a>, thanks to <em>Lukáš Karabec</em>)</li><li>improved: missing German translations (<a href="https://github.com/javamelody/javamelody/commit/c19539b" class="external-link" rel="nofollow">c19539b</a>, thanks to <em>Michael Dobrovnik</em>)</li><li>To contribute in your own language, join the translation project at <a rel="nofollow" href="https://poeditor.com/join/project/QIaCp4bThS" class="external-link">https://poeditor.com/join/project/QIaCp4bThS</a>.</li></ul><p><strong>1.77.0 (Apr 21, 2019)</strong></p><ul><li>improved: in the <a href="https://wiki.jenkins.io/display/JENKINS/Monitoring" rel="nofollow">Jenkins Monitoring plugin</a>, better aggregation of http requests. The javamelody parameter used by default in this plugin is now <code>-Djavamelody.http-transform-pattern=/\d+/|(?&lt;=/static/|/adjuncts/|/bound/)[\w\-]+|(?&lt;=/ws/|/user/|/testReport/|/javadoc/|/site/|/violations/file/|/cobertura/).+|(?&lt;=/job/).+(?=/descriptorByName/)</code>.</li><li>added: Italian translations (<a href="https://github.com/javamelody/javamelody/commit/ffc028f" class="external-link" rel="nofollow">ffc028f</a>, thanks to <em>Gianluca Maiorino</em>)</li><li>added: Ukrainian translations (<a href="https://github.com/javamelody/javamelody/commit/073bc6d" class="external-link" rel="nofollow">073bc6d</a>, thanks to <em>Yevgen Lasman</em>)</li><li>To contribute in your own language, join the translation project at <a href="https://poeditor.com/join/project/QIaCp4bThS" rel="nofollow" class="external-link">https://poeditor.com/join/project/QIaCp4bThS</a>.</li><li>added: ability to upload heap dump files to <a href="https://aws.amazon.com/s3/" rel="nofollow" class="external-link">AWS S3</a> (<a href="https://github.com/javamelody/javamelody/pull/810" class="external-link" rel="nofollow">PR 810</a>, thanks to <em>Salah Qasem</em>).<br/>To enable the upload of heap dump files to <a href="https://aws.amazon.com/s3/" rel="nofollow" class="external-link">AWS S3</a>:<ol><li>add a parameter <code>heap-dump-s3-bucketname</code> with the S3 bucket name, in system properties. For example <code>-Djavamelody.heap-dump-s3-bucketname=mybucket</code> in your jenkins.xml file. And restart.</li><li>Download this <a href="https://github.com/javamelody/aws-s3-library/releases/download/1.11.136/aws-s3-library.hpi" class="external-link" rel="nofollow">aws-s3-library plugin</a> and install it with the Advanced tab of the Plugin manager in Jenkins.</li><li>You also need to provide AWS credentials and AWS region as AWS as environnement variables or system properties or credentials or config files or Amazon services, see <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#upload-heap-dumps-to-aws-s3" class="external-link" rel="nofollow">doc</a> (scroll down if the target page does not scroll to the right chapter).</li></ol></li></ul><p><br/></p><p><strong><strong><strong><strong>1.76.0 (Jan 27, 2019)</strong></strong></strong></strong></p><ul><li>You can now contribute translations for javamelody by using a dedicated website at POEditor. You may contribute some &quot;untranslated&quot; labels for German and Portuguese or you may contribute new translations for Spanish, Italian or your own language. Join the translation project at <a href="https://poeditor.com/join/project/QIaCp4bThS" rel="nofollow" class="external-link">https://poeditor.com/join/project/QIaCp4bThS</a></li><li>fix for Prometheus integration: exclude metrics which have no sense (javamelody_log_duration_millis, javamelody_log_errors_count, javamelody_error_errors_count) and metrics for statistics which are not displayed in the reports (<a href="https://github.com/javamelody/javamelody/commit/e1db7c5" class="external-link" rel="nofollow">e1db7c5</a>, <a href="https://github.com/javamelody/javamelody/commit/c0f34a2" class="external-link" rel="nofollow">c0f34a2</a>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/806" class="external-link" rel="nofollow">#806</a> for Prometheus integration again: it was printed '&lt;?&gt;' instead of NaN, for 'lastValue' on Java 8 and before.</li></ul><p><strong><strong>1.75.0 (Dec 9, 2018)</strong><br/></strong></p><ul><li>Fix <a href="https://github.com/javamelody/javamelody/issues/794" class="external-link" rel="nofollow">#794</a> Compatibility with Google App Engine using Java 8.</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/779" class="external-link" rel="nofollow">#779</a> When using JSVC to launch Tomcat, InternalError: errno: 13 error: Unable to open directory /proc/self/fd</li><li>Enhanced: added X-Frame-Options: SAMEORIGIN in the reports.</li><li>CSRF protection is automatically enabled in the plugin, if CSRF protection is enabled in Jenkins. (Note that a restart is needed if changed in Jenkins.)</li></ul><p>Added the Offline viewer tool for some degraded cases:</p><ul><li>If ever you don't have access to the online reports of javamelody on the running server,</li><li>or if you want to view the reports but the server is no longer running,</li><li>then the offline viewer may be for you. See <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#offline-viewer" class="external-link" rel="nofollow">doc</a></li></ul><p><strong><strong>1.74.0 (Sep 4, 2018)</strong><br/></strong></p><ul><li>It is a <strong>recommended upgrade for security</strong> to fix a <a href="https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Processing" rel="nofollow" class="external-link">XML External Entity (XXE) processing</a> vulnerability. CVE-ID is <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-15531" rel="nofollow" class="external-link">CVE-2018-15531</a>. Thanks to <em>mounsurf &amp; huanying</em> for reporting the vulnerability. But note that Jenkins uses the Woodstox parser so it is currently safe from this XXE vulnerability.</li><li>Fix warning logs about serializing anonymous classes (<a href="https://github.com/javamelody/javamelody/issues/768" class="external-link" rel="nofollow">issue 768</a>).</li><li>fix: do not require Log4J when sending metrics to <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-influxdb" class="external-link" rel="nofollow">InfluxDB</a> or <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-datadog" class="external-link" rel="nofollow">Datadog</a>.</li><li>added: native calendar widget to choose dates for a custom period (<a href="https://github.com/javamelody/javamelody/commit/84a1d63321449f71dec6069d3e712ee67e3ef5d6" class="external-link" rel="nofollow">84a1d63</a>, with help from my colleague Fabien at <a href="http://www.kleegroup.com" rel="nofollow" class="external-link">KleeGroup</a>)</li></ul><p><strong>1.73.1 (Jun 27, 2018)</strong></p><ul><li>Compatibility with JDK 9: <code>-Djdk.attach.allowAttachSelf=true</code> is no longer required to have heap histogram and fix the display of source for a JDK class.</li></ul><p><strong>1.73.0 (Jun 20, 2018)</strong></p><ul><li>Compatibility with JDK 9: fix heap dump and heap histogram, display again the graphs of cpu, opened files and physical memory. <s>Note: to have the memory histogram in JDK 9 or later, add <code>-Djdk.attach.allowAttachSelf=true</code> in the java command line.</s></li><li>Fix &quot;no token found&quot; with Prometheus integration for a Windows server (<a href="https://github.com/javamelody/javamelody/commit/e47b11bbaf0772151a7cae8ff97227516cd86b04" class="external-link" rel="nofollow">e47b11b</a>)</li><li>Enhancement: After generating a heap dump, zip it to reduce its size (<a href="https://github.com/javamelody/javamelody/commit/98cb8bc08103f2ff00a4f5e72be64ddf278f2656" class="external-link" rel="nofollow">98cb8bc</a>)</li><li>Added: The mean number of allocated Kilobytes per request is now displayed in the stats, next to the mean cpu per request. It is the memory used in the heap per request and which will have to be cleaned by the Garbage Collector later. And when more memory is used per request, more cpu will be used by the GC. As an example, 1 Gb allocated in a request, without a good reason, is probably a problem. (<a href="https://github.com/javamelody/javamelody/commit/33fe61d5af0dc46a35c1f1a0dc26952651612055" class="external-link" rel="nofollow">33fe61d</a>)</li><li>Added: when crash logs (hs_err_pid*.log files) are found, display them in the system actions (<a href="https://github.com/javamelody/javamelody/commit/5ebb28e9bfe98cacef6c95c9d3b5f338a444efc9" class="external-link" rel="nofollow">5ebb28e</a>)</li><li>Added: in the zoomed charts, display of the <a rel="nofollow" href="https://en.wikipedia.org/wiki/Burstable_billing" class="external-link">95th percentile</a> line. It shows what would be the maximum on the period if 5% of the highest values (short peaks) were excluded (<a href="https://github.com/javamelody/javamelody/commit/9f7acba4e1d21658be9db2f807a7864787c04e78" class="external-link" rel="nofollow">9f7acba</a>)</li><li>Fix rare issue: ArithmeticException: / by zero in JRobin RRD files (<a href="https://issues.jenkins-ci.org/browse/JENKINS-51590" rel="nofollow" class="external-link">JENKINS-51590</a>).</li><li>Removed the <code>prometheus-include-last-value</code> javamelody parameter and replaced it by the <code>includeLastValue</code> http parameter (<a href="https://github.com/javamelody/javamelody/commit/08aacb2fdc122a383ad4590c1426b8e129552480" class="external-link" rel="nofollow">08aacb2</a>, see <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#exposing-metrics-to-prometheus" class="external-link" rel="nofollow">doc</a>). So, in the improbable case that you used <code>prometheus-include-last-value</code> for Prometheus integration, change your scrape_config to:</li></ul><div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">params</span>:
      <span class="pl-ent">format</span>: <span class="pl-s">['prometheus']</span>
      <span class="pl-ent">includeLastValue</span>: <span class="pl-s">['true']</span></pre></div><p><strong>1.72.0 (Apr 4, 2018)</strong></p><ul><li>In the Jenkins Monitoring plugin, fix <a href="https://github.com/javamelody/javamelody/issues/735" class="external-link" rel="nofollow">#735</a>: NPE when there are no executors.</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/737" class="external-link" rel="nofollow">#737</a> for StatsD integration.</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/731" class="external-link" rel="nofollow">#731</a>: When using <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-aws-cloudwatch" class="external-link" rel="nofollow">CloudWatch</a>, Cloudwatch metric upload can't handle more then 20 items (with help from <em>marcrelation</em>).</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/668" class="external-link" rel="nofollow">#668</a>: <code>RrdException: Invalid timestamps specified</code> in some particular case when using custom period.</li></ul><p><strong>1.71.0 (Feb 5, 2018)</strong></p><ul><li>Added JEP-200 exclusions when using monitoring with slaves (PR <a href="https://github.com/jenkinsci/monitoring-plugin/pull/6" class="external-link" rel="nofollow">#6</a> thanks to <span class="p-name vcard-fullname d-block">Jesse Glick</span>)</li><li>Note that Jenkins core includes the monitoring classes in its whitelist for the monitoring plugin 1.68.0 or later, but Jenkins servers using the monitoring plugin 1.67 or older need to upgrade the plugin (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50280" class="external-link" rel="nofollow">JENKINS-50280</a>).</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/700" class="external-link" rel="nofollow">#700</a> for Prometheus integration (with help from <em>Stefan Penndorf</em>).</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/701" class="external-link" rel="nofollow">#701</a> for Datadog integration (PR <a href="https://github.com/javamelody/javamelody/pull/702" class="external-link" rel="nofollow">#702</a>, thanks to <em>bluegaspode</em>).</li><li>Fix <a href="https://github.com/javamelody/javamelody/issues/718" class="external-link" rel="nofollow">#718</a>: NPE when displaying the webapp dependencies in some particular case.</li><li>improved: Warn in the reports if multiple instances use the same storage directory (<a href="https://github.com/javamelody/javamelody/issues/692" class="external-link" rel="nofollow">#692</a>)</li><li>improved: If the <code>application-name</code> parameter is defined, use it when publishing metrics to InfluxDB, Graphite, StatsD, CloudWatch or Datadog instead of the context path (<a href="https://github.com/javamelody/javamelody/issues/694" class="external-link" rel="nofollow">#694</a>)</li><li>added: When using the <a href="https://github.com/javamelody/javamelody/wiki/UserGuide#14-weekly-daily-or-monthly-reports-by-mail" class="external-link" rel="nofollow">reports by mail</a>, a new javamelody parameter <code>mail-subject-prefix</code> can be used to configure the subject of the mail notification. For example, in a Tomcat context file: <code>&lt;Parameter
 name='javamelody.mail-subject-prefix' value='Production environment 
JavaMelody reports for {0}' override='false'/&gt;</code> (PR <a href="https://github.com/javamelody/javamelody/pull/710" class="external-link" rel="nofollow">#710</a>, thanks to <em>vkpandey82</em>)</li><li>added: In the <a href="https://github.com/javamelody/javamelody/wiki/ExternalAPI" class="external-link" rel="nofollow">External API</a>, the url <code>monitoring?part=lastValue&amp;format=json</code> now returns all the last values by names. (The url <code>monitoring?part=lastValue&amp;graph=usedMemory</code> already returns the last value of a single graph by name.)</li></ul><p><strong>1.70.0 (Oct 29, 2017)</strong></p><ul><li>added: integration with <strong>Prometheus</strong>: Metrics are already displayed in the monitoring reports. You can also scrape the same metrics from <a href="https://prometheus.io/" class="external-link" rel="nofollow">Prometheus</a> at the frequency you wish for advanced visualizations, if you have a Prometheus server installed (PR <a href="https://github.com/javamelody/javamelody/pull/682" class="external-link" rel="nofollow">#682</a> &amp; PR <a href="https://github.com/javamelody/javamelody/pull/684" class="external-link" rel="nofollow">#684</a>, thanks to <em>slynn1324</em>). See <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#exposing-metrics-to-prometheus" class="external-link" rel="nofollow">doc</a>.<br/>Note : If Jenkins security is enabled, the system property <code>-Djavamelody.plugin-authentication-disabled=true</code> can be added to the Jenkins server in order to disable authentication of the monitoring page in the Monitoring plugin and to allow Prometheus to scrape metrics.</li><li>added integration with <strong>StatsD</strong>: Metrics are already displayed in the charts of the monitoring reports. As an extra, you can also publish the same metrics to <a href="https://github.com/etsy/statsd" class="external-link" rel="nofollow">StatsD</a>, if you have a StatsD daemon installed. To enable sending the metrics, add a parameter <code>statsd-address</code> with hostname:port of the StatsD daemon, in system properties. For example <code>-Djavamelody.statsd-address=11.22.33.44:8125 </code>in your jenkins.xml file, see <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-statsd" class="external-link" rel="nofollow">doc</a>. (<a href="https://github.com/javamelody/javamelody/commit/92aeffe800194544b9c91c1c799b36e74d4b7436" class="external-link" rel="nofollow">92aeffe</a>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/681" class="external-link" rel="nofollow">#681</a>: upgrade prototype.js, effects.js and slider.js</li></ul><p><strong>1.69.1 (Sep 20, 2017)</strong></p><ul><li>remove the slf4j-api dependency from the plugin to avoid potential conflicts with the same dependency in jenkins core.</li></ul><p><strong>1.69.0 (Aug 27, 2017)</strong></p><ul><li>In the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Monitoring" class="external-link" rel="nofollow">Jenkins plugin</a>, fix NPE when using <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-aws-cloudwatch" class="external-link" rel="nofollow">CloudWatch</a> or <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-graphite" class="external-link" rel="nofollow">Graphite</a> (<a href="https://github.com/javamelody/javamelody/commit/3e2b8720f90514c000519055635ad0bb5f426531" class="external-link" rel="nofollow">3e2b872</a>).</li><li>In the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Monitoring" class="external-link" rel="nofollow">Jenkins plugin</a> with FreeBSD, fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-45963" class="external-link" rel="nofollow">JENKINS-45963</a>: if the collect fails for one slave, continue with the others</li><li>added integration with <strong>InfluxDB</strong>: Metrics are already displayed in the charts of the monitoring reports. Like integrations with <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-graphite" class="external-link" rel="nofollow">Graphite</a> and <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-aws-cloudwatch" class="external-link" rel="nofollow">AWS CloudWatch</a>, you can also publish the same metrics to <a href="https://www.influxdata.com/time-series-platform/" class="external-link" rel="nofollow">InfluxDB</a> for advanced visualizations, if you have an InfluxDB server installed. The parameter is <code>influxdb-url</code>, see <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-influxdb" class="external-link" rel="nofollow">doc</a>. (<a href="https://github.com/javamelody/javamelody/commit/f7c850361bec907aaba39861e473092043e75cc4" class="external-link" rel="nofollow">f7c8503</a>)</li><li>added integration with <strong>Datadog</strong>: Like for InfluxDB, you can also publish the same metrics to <a href="https://www.datadoghq.com/" class="external-link" rel="nofollow">Datadog</a> for advanced visualizations. The parameter is <code>datadog-api-key</code>, see <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-datadog" class="external-link" rel="nofollow">doc</a>. (<a href="https://github.com/javamelody/javamelody/commit/239aa4e4cdf3c2943caff779a2f5492772f1500f" class="external-link" rel="nofollow">239aa4e</a>)</li></ul><p><strong>1.68.0 (Jul 1, 2017)</strong></p><ul><li>improved (Brazilian) Portuguese translation (PR <a href="https://github.com/javamelody/javamelody/pull/642" class="external-link" rel="nofollow">#642</a>, thanks to <em>Sandro Giacomozzi</em>).</li><li>added a <strong>monitoring script</strong> to display stats of builds and build steps having a mean time greater than the severe threshold. See <a href="https://wiki.jenkins.io/display/JENKINS/Monitoring+Scripts#MonitoringScripts-DisplaysomeMBeanattributevalue" rel="nofollow">the script</a>.</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/638" class="external-link" rel="nofollow">#638</a>: When using <a href="https://github.com/javamelody/javamelody/wiki/ScriptsAndAlerts" class="external-link" rel="nofollow">scripts and alerts</a> to monitor an application, ClassNotFoundException in Jenkins if the monitored webapp is using Ehcache or Quartz jobs.</li><li>Internal classes moved: Many internal classes, which were not public and all in the <code>net.bull.javamelody</code> package, are now moved to <code>net.bull.javamelody.internal.*</code> packages.</li><li>added: In the list of threads, add an action to send an interrupt signal to a thread. The thread can test Thread.currentThread().isInterrupted() to stop itself. (<a href="https://github.com/javamelody/javamelody/commit/7977f2b98020aebbc254d1e19138782bed882d73" class="external-link" rel="nofollow">7977f2b</a>)</li><li>added: PDF link in the threads page (<a href="https://github.com/javamelody/javamelody/commit/b356132e06047fdae09fd63f5212464e7da9efe9" class="external-link" rel="nofollow">b356132</a>)</li><li>added integration with <strong>Graphite</strong>: Metrics are already displayed in the charts of the monitoring reports. As an extra, you can also publish the same metrics to <a href="https://graphiteapp.org/" class="external-link" rel="nofollow">Graphite</a> for advanced visualizations, if you have a Graphite server installed. Metrics will be sent once per minute (default value of the resolution-seconds parameter) and Graphite will allow custom visualizations in itself or in <a href="http://grafana.org/" class="external-link" rel="nofollow">Grafana</a>. The names of metrics in Graphite are like <code>javamelody.appContext.hostName.metricName</code>, so you will be able to aggregate a metric using wildcards.<br/>To enable sending the metrics, add a parameter <code>graphite-address</code> with hostname:port of the Graphite server, in system properties. For example <code>-Djavamelody.graphite-address=11.22.33.44:2003</code> in your jenkins.xml file. (<a href="https://github.com/javamelody/javamelody/commit/ce947870ed120589c49b2e080ea7be17f8ef07b0" class="external-link" rel="nofollow">ce94787</a>)</li><li>added integration with <strong>AWS CloudWatch</strong>: Like for Graphite, you can also publish the same metrics to <a href="https://aws.amazon.com/cloudwatch/" class="external-link" rel="nofollow">AWS CloudWatch</a> for custom visualizations and mail or autoscaling alarms, if you have AWS EC2 server instance(s) with <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-cloudwatch-new.html" class="external-link" rel="nofollow">detailed monitoring</a> in AWS CloudWatch. Metrics will be sent once per minute (default value of the resolution-seconds parameter) and CloudWatch will allow <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html" class="external-link" rel="nofollow">custom visualizations and mail or auto-scaling alarms</a>. The names of metrics in CloudWatch are like <code>javamelody.metricName</code>. Metrics also include <code>application</code> and <code>hostname</code> as dimensions, so you will be able to filter metrics based on those dimensions. Note that there is a <a href="https://aws.amazon.com/cloudwatch/pricing/" class="external-link" rel="nofollow">pricing</a> for CloudWatch metrics (it is supposed that about 25 custom metrics should mean about $10 per month per EC2 instance). (<a href="https://github.com/javamelody/javamelody/commit/e65d6054acec4b1126a212b9ec4605c020c7186a" class="external-link" rel="nofollow">e65d605</a>)<br/>To enable sending the metrics:<ol><li>add a parameter <code>cloudwatch-namespace</code> with the CloudWatch namespace, in system properties. For example <code>-Djavamelody.cloudwatch-namespace=MyCompany/MyAppDomain</code> in your jenkins.xml file (the namespaces starting with <code>AWS/</code> are reserved for AWS products). And restart.</li><li>Download this <a href="https://github.com/javamelody/aws-cloudwatch-library/releases/download/1.11.136/aws-cloudwatch-library.hpi" class="external-link" rel="nofollow">aws-cloudwatch-library plugin</a> and install it with the Advanced tab of the Plugin manager in Jenkins.</li><li>You also need to provide AWS credentials and AWS region as AWS as environnement variables or system properties or credentials or config files or Amazon services, see <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#sending-metrics-to-aws-cloudwatch" class="external-link" rel="nofollow">doc</a>.</li></ol></li></ul><p><strong>1.67.0 (May 12, 2017)</strong></p><ul><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-44241" class="external-link" rel="nofollow">JENKINS-44241</a>: <strong><a href="https://en.wikipedia.org/wiki/Real_user_monitoring" class="external-link" rel="nofollow">Real User Monitoring (RUM)</a></strong> in v1.66.0 does not work when enabled, for URLs ending with '/'.</li></ul><p><strong>1.66.0 (May 12, 2017)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/617" class="external-link" rel="nofollow">#617</a>: Charts of http/sql stats can not be viewed after restarting the application (with help from <em>goldyliang</em>).</li><li>added: Display the number of http sessions and sessions mean size before the list of sessions, when there are more than 20 (PR <a href="https://github.com/javamelody/javamelody/pull/629" class="external-link" rel="nofollow">#629</a>, thanks to <em>Aleksandr Mashchenko</em>).</li><li>improved: When displaying Java sources from stack-traces, locate more sources by reading Maven pom.xml of Jenkins and of the other dependencies.</li><li>added: Display <strong>webapp dependencies</strong> in a new page, accessed by a link in the System informations details, and include detailed name, website url, Maven <a href="http://groupIdartifactIdversion" class="external-link" rel="nofollow">groupId:artifactId:version</a> and license of each dependency, based on Maven pom.xml files. (<a href="https://github.com/javamelody/javamelody/commit/e7607c19087d6b592c92c38b50b5e2fd1d9fd306" class="external-link" rel="nofollow">e7607c1</a>)</li><li>added: The version of Jenkins is displayed at the top of the report and a drop-down list of versions next to &quot;Customized&quot; period allows to display the report for the period of each version deployed, to compare between them for example. (<a href="https://github.com/javamelody/javamelody/commit/d61e65f82c936e5dc986e4f850d4a5998b9caa2d" class="external-link" rel="nofollow">d61e65f</a>, based on an idea by <em>dhartford</em>).</li><li>added: <strong><a href="https://en.wikipedia.org/wiki/Real_user_monitoring" class="external-link" rel="nofollow">Real User Monitoring (RUM)</a></strong>. It allows to measure the experience from the end user perspective, by monitoring times in the browser for each html page until it is displayed and ready to be used (<a href="https://github.com/javamelody/javamelody/commit/b85652a182d05517ad8151f4101d584ecc007517" class="external-link" rel="nofollow">b85652a</a>).</li><li>The Real User Monitoring works by injecting on the fly a <a href="https://soasta.github.io/boomerang/doc/" class="external-link" rel="nofollow">Boomerang</a> javascript at the end of html pages, just before the <code>&lt;/body&gt;</code> end tag, which sends data back to the monitoring in your server. Then in the detailed monitoring report of http requests for html pages, times and percentages are displayed for Network, Server execution, DOM processing and Page rendering, to compare which ones contribute to a good or bad end user experience. The Real User Monitoring does not add a noticeable overhead on the server, but the javascript adds a simple http(s) call for each html page, which may add a small overhead on the client browser.</li><li>This Real User Monitoring is <strong>not enabled by default</strong>. To enable it, add the system property &quot;-Djavamelody.rum-enabled=true&quot; in your jenkins.xml file.</li></ul><p><strong>1.65.1 (Mar 13, 2017)</strong></p><ul><li>added: configuration to list Jenkins maven public repository next to ~/.m2/repository and Maven central, to be able to display Jenkins and plugins sources from stack-traces.</li></ul><p><strong>1.65.0 (Mar 12, 2017)</strong></p><ul><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-42112" class="external-link" rel="nofollow">JENKINS-42112</a>, HTTP user session is reported as &quot;anonymous&quot; when using anything but AbstractPasswordBasedSecurityRealm (like Google login plugin or Cloudbees Operations Center).</li><li>fix compatibility with Java 9. (PR <a href="https://github.com/javamelody/javamelody/pull/609" class="external-link" rel="nofollow">#609</a> for issue <a href="https://github.com/javamelody/javamelody/issues/556" class="external-link" rel="nofollow">#556</a>, thanks to <em>James Pether Sörling</em>)</li><li>improved: make easier the selection of the stack-trace text in the tooltips of the threads list (<a href="https://github.com/javamelody/javamelody/commit/736cf0ed88f81e8e4c0ef92b6151cfe62119bc17" class="external-link" rel="nofollow">736cf0e</a>)</li><li>added: pdf report in the detail page of a request. (<a href="https://github.com/javamelody/javamelody/commit/28e24742c6a2a9838ce1aaf34acb152b031e6497" class="external-link" rel="nofollow">28e2474</a>)</li><li>added: links to view java source from errors and threads stack-traces. (<a href="https://github.com/javamelody/javamelody/commit/e5263bf08e36ab7be35c639ba7e2899d4c0ced5d" class="external-link" rel="nofollow">e5263bf</a>)</li></ul><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/41877877/106496033.png" data-image-src="attachments/41877877/106496033.png" data-unresolved-comment-count="0" data-linked-resource-id="106496033" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="java_source.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span></p><ul><li>Source from the JDK and source from artifacts built by Maven and available in Maven central can be viewed. So if your server uses a JRE and not a JDK, source from the JDK are not available. And note that many artifacts available in Maven central were not built by Maven, for example Tomcat libraries, so sources of those artifacts can't be located.</li><li>added: if the javamelody parameter -Djavamelody.jmx-expose-enabled=true is set (in the jenkins.xml file), then javamelody mbeans are available with aggregated statistics data about requests. The javamelody mbeans can be read with the MBeans screen in 'System actions' of the monitoring report (<a href="http://jenkinsserver:8080/monitoring?part=mbeans" class="external-link" rel="nofollow">http://jenkinsserver:8080/monitoring?part=mbeans</a>) or using JMX with the JConsole of the JDK. (PR <a href="https://github.com/javamelody/javamelody/pull/591" class="external-link" rel="nofollow">#591</a> thanks to <em>Alexey Pushkin</em>)</li></ul><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/41877877/106496034.png" data-image-src="attachments/41877877/106496034.png" data-unresolved-comment-count="0" data-linked-resource-id="106496034" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="javamelody-mbeans.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span></p><ul><li>doc added: <a href="https://github.com/javamelody/javamelody/wiki/Parameters" class="external-link" rel="nofollow">Summary of javamelody parameters</a> to extend the <a href="https://github.com/javamelody/javamelody/wiki/UserGuide" class="external-link" rel="nofollow">javamelody user's guide</a>.</li></ul><p><strong><span style="text-decoration: line-through;">1.64.0</span></strong></p><p><strong>1.63.0 (Jan 16, 2017)</strong></p><ul><li>added: check for updated version of javamelody. If a new version is available, a message is now displayed at the top of the report to notify about the new version. For that, javamelody pings the server javamelody.org. And to better understand javamelody users, anonymous data such as java version and OS is sent to that server at the same time. An example of the data sent is: <code>uniqueId=&quot;3d117c04b914c78ddbaf14818c404c8e88c6e56f&quot;, serverInfo=&quot;jetty/9.2.z-SNAPSHOT&quot;, javamelodyVersion=&quot;1.63.0&quot;, applicationType=&quot;Jenkins&quot;, javaVersion=&quot;Java(TM) SE Runtime Environment, 1.8.0_111-b14&quot;, jvmVersion=&quot;Java HotSpot(TM) 64-Bit Server VM, 25.111-b14, mixed mode&quot;, maxMemory=&quot;1024&quot;, availableProcessors=&quot;4&quot;, os=&quot;Windows 7, Service Pack 1, amd64/64&quot;, databases=&quot;&quot;, countersUsed=&quot;http|error|log&quot;, parametersUsed=&quot;log&quot;, featuresUsed=&quot;pdf&quot;, locale=&quot;fr_FR&quot;, usersMean=1, collectorApplications=-1</code>.</li><li>Usage stats based on the anonymous data will be publicly available at <a href="http://javamelody.org/usage/stats" class="external-link" rel="nofollow">http://javamelody.org/usage/stats</a> for applications using JavaMelody v1.63 or later (including Jenkins using the Monitoring plugin) and able to contact the server.</li><li>You may disable the update check with the javamelody parameter &quot;update-check-disabled=true&quot; in system properties. If you want to, add the system property &quot;-Djavamelody.update-check-disabled=true&quot; in the jenkins.xml file.</li><li>The online demo of javamelody is finally back. To see it, you can play a bit with <a href="http://javamelody.org/demo/" class="external-link" rel="nofollow">this app</a> (written by Benjamin Durand some years ago) to be sure to have some data in http and sql statistics, then open the <a href="http://javamelody.org/demo/monitoring" class="external-link" rel="nofollow">monitoring page</a> to explore the reports.</li></ul><p><strong>1.62.0 (Oct 1, 2016)</strong></p><ul><li>fix XSS (reported by <em>Omar El Mandour</em>)</li></ul><p><strong>1.61.0 (Sep 12, 2016)</strong></p><ul><li>fix XSS (reported by <em>Dallas Kaman, Praetorian Group</em>)</li></ul><p><strong>1.60.0 (Jun 14, 2016)</strong></p><ul><li>Fix XSS in graph page (<a href="https://github.com/javamelody/javamelody/pull/555" class="external-link" rel="nofollow">PR 555</a>, thanks to <em>Tim Helmstedt</em>)</li><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-34794" class="external-link" rel="nofollow">JENKINS-34794</a> Jenkins sometimes doesn't start because of transient NPE (thanks to <em>Félix Belzunce Arcos</em>)</li><li>improved: <a href="https://issues.jenkins-ci.org/browse/JENKINS-34736" class="external-link" rel="nofollow">JENKINS-34736</a> Migrate to 2.9 parent pom (thanks to <em>Armando Fernández</em>)</li><li>added system property &quot;csrf-protection-enabled&quot; to enable protection against <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)" class="external-link" rel="nofollow">CSRF</a> on actions such as run GC, invalidate sessions, kill thread by id ... (Not enabled by default since an attacker would need to know about javamelody in Jenkins and about its URLs and would need to force an administrator to access the monitoring and even in this case, the attacker certainly can't make Jenkins unvailable and can't steal data or anything.) To enable this protection, add the system property &quot;-Djavamelody.csrf-protection-enabled=true&quot; in the jenkins.xml file.</li><li>Limit error messages to 1000 characters and error stack-traces to 50000 characters, to avoid high memory consumption when log messages are very long (<a href="https://github.com/javamelody/javamelody/pull/550" class="external-link" rel="nofollow">PR 550</a>, thanks to <em>Zdenek Henek</em>)</li></ul><p><strong>1.59.0 (Feb 25, 2016)</strong></p><ul><li>fix username in the list of http sessions (<a href="https://github.com/jenkinsci/monitoring-plugin/commit/d1111261b03f7762e903724599fbf84eaa3a2d48" class="external-link" rel="nofollow">d111126</a>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/533" class="external-link" rel="nofollow">issue 533</a>: IllegalArgumentException during metrics update (<a href="https://issues.jenkins-ci.org/browse/JENKINS-33050" class="external-link" rel="nofollow">JENKINS-33050</a>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/532" class="external-link" rel="nofollow">issue 532</a>: do not flush a closed output stream.</li><li>improved: wrap very long http queries without whitespace, in order to fit into the screen and to avoid horizontal scrollbar (<a href="https://github.com/javamelody/javamelody/commit/3a88a75a9554b6496ff6b224716c6ed840bd88b1" class="external-link" rel="nofollow">3a88a75</a>)</li><li>added: display the client's browser and OS in the list of http sessions (<a href="https://github.com/javamelody/javamelody/commit/6d89f428a7a92018089953bb1697ff25b0f66fc1" class="external-link" rel="nofollow">6d89f42</a>)</li><li>added: Support Log4J 2 since v2.4.1 like Log4J (<a href="https://github.com/javamelody/javamelody/commit/068139d70dd65ff7574c5ec3cb15045af2f33d9f" class="external-link" rel="nofollow">068139d</a>)</li><li>added: Show used memory in dialog after manual GC (<a href="https://github.com/javamelody/javamelody/issues/522" class="external-link" rel="nofollow">issue 522</a>)</li></ul><p><strong>1.58.0 (Nov 26, 2015)</strong></p><ul><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-23442" class="external-link" rel="nofollow">JENKINS-23442</a>, ClassCircularityError: java/util/logging/LogRecord (<a href="https://github.com/jenkinsci/monitoring-plugin/commit/0ad60da0038048ca69672022e54434cb3c5c87a3" class="external-link" rel="nofollow">0ad60da</a>)</li><li><strong>Upgraded mininum Jenkins</strong> version to 1.580.1</li><li>replace use of deprecated Jenkins api</li><li>fix from <a href="https://github.com/javamelody/javamelody/pull/505" class="external-link" rel="nofollow">PR 505</a> and PR <a href="https://github.com/javamelody/javamelody/pull/507" class="external-link" rel="nofollow">507</a>: German translations (thanks to <em>mawulf</em>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/492" class="external-link" rel="nofollow">issue 492</a>: incompatibility of the release v1.57.0 (isAsyncStarted) with servlet api 2.5 (when using mvn hpi:run in development).</li><li>added: 2 new graphs are displayed in &quot;Other charts&quot;, below the main charts: &quot;% System CPU&quot; and &quot;Used buffered memory&quot; (<a href="https://github.com/javamelody/javamelody/commit/5029404eeb24e7b5c657453d06e9fc603fa5eb0d" class="external-link" rel="nofollow">5029404</a>).<ul><li><strong>% System CPU</strong> is the CPU usage for the whole system (not just the JVM), between 0 and 100%.</li><li><strong>Used buffered memory</strong> is the memory used, either by <em>direct buffers</em> allocated outside of the garbage-collected heap, using <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#allocateDirect%28int%29" class="external-link" rel="nofollow">ByteBuffer.allocateDirect</a>, or by <em>mapped buffers</em> created by mapping a region of a file into memory, using <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#map%28java.nio.channels.FileChannel.MapMode,%20long,%20long%29" class="external-link" rel="nofollow">FileChannel.map</a>.</li></ul></li></ul><p><strong>1.57.0 (Aug 31, 2015)</strong></p><ul><li>fix: check if async before flushing the response (<a href="https://github.com/javamelody/javamelody/commit/ee87b4b0be7fb11fd0d81a27923732d674b932d7" class="external-link" rel="nofollow">ee87b4b</a> thanks to <em>Mark Thomas</em>)</li><li>fix: used/max file descriptor counts are not displayed in oracle java 8 (<a href="https://github.com/javamelody/javamelody/commit/c04ef7925977f17566581b81909bb62780b947e9" class="external-link" rel="nofollow">c04ef79</a> thanks to <em>Colin Ingarfield</em>)</li><li>Jenkins plugin: scripts examples updated to get data from slaves in <a href="Monitoring-Scripts.html">Jenkins Monitoring Scripts</a>, below the scripts for Jenkins master.</li><li>improved: An <a href="https://github.com/javamelody/javamelody/blob/master/javamelody-core/src/main/resources/net/bull/javamelody/resource/help/api.html" class="external-link" rel="nofollow">api page</a> is now available in the monitoring with links to the <a href="https://github.com/javamelody/javamelody/wiki/ExternalAPI" class="external-link" rel="nofollow">ExternalAPI</a>. The path of the page in your Jenkins is &quot;monitoring?resource=help/api.html&quot;.</li><li>added: it's now easy to write scripts to get monitoring data from a monitored webapp and to send alerts based on thresholds, using Jenkins for Continuous Monitoring. See the <a href="https://github.com/javamelody/javamelody/wiki/ScriptsAndAlerts" class="external-link" rel="nofollow">documentation</a>.</li></ul><p><strong>JavaMelody migration to Github</strong></p><ul><li>The JavaMelody project is migrated from GoogleCode (<a href="https://code.google.com/p/javamelody" class="external-link" rel="nofollow">https://code.google.com/p/javamelody</a>) to GitHub. The new project home page is: <a href="https://github.com/javamelody/javamelody/wiki" class="external-link" rel="nofollow">https://github.com/javamelody/javamelody/wiki</a></li><li>The monitoring plugin for Jenkins does not move and is at <a href="https://github.com/jenkinsci/monitoring-plugin" class="external-link" rel="nofollow">https://github.com/jenkinsci/monitoring-plugin</a></li></ul><p><strong>1.56.0 (May 2, 2015)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/477" class="external-link" rel="nofollow">issue 477</a>: In the processes list, CPU and Command are sometimes in the wrong column</li><li>added: MULTILINE &amp; DOTALL flags for transform-patterns regexps (<a href="https://github.com/javamelody/javamelody/issues/474" class="external-link" rel="nofollow">issue 474</a>, thanks to <em>Michal Bergmann</em>).</li></ul><p><strong>1.55.0 (Jan 30, 2015)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/453" class="external-link" rel="nofollow">issue 453</a>: Chinese translation for heap dump (thanks to <em>chuxuebao</em>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/436" class="external-link" rel="nofollow">issue 436</a>: implement Servlet 3.1 new methods (JavaEE 7), in FilterServletOutputStream and others</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/455" class="external-link" rel="nofollow">issue 455</a>: HTTP-401 / WWW-Authenticate wrongly reported as HTTP error</li></ul><p><strong>1.54.0 (Now 30, 2014)</strong></p><ul><li>fix: Monitoring reports of a slave didn't work if its name contains a space.</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/440" class="external-link" rel="nofollow">issue 440</a>: Not able to start Desktop version.</li></ul><p><strong>1.53.1 (Oct 3, 2014)</strong></p><ul><li>fix: in v1.52.0 with Tomcat, graphs of bytes received/sent and of Tomcat active threads were not displayed anymore in &quot;Other charts&quot; (<a href="https://code.google.com/p/javamelody/source/detail?r=3908" class="external-link" rel="nofollow">revision 3908</a>).</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/439" class="external-link" rel="nofollow">issue 439</a>: Display Linux version in &quot;System informations&quot;, and not &quot;Linux unknown&quot;</li><li>improved: Portuguese translation (<a href="https://code.google.com/p/javamelody/source/detail?r=3885" class="external-link" rel="nofollow">revision 3885</a>, thanks to <em>Fernando Boaglio</em>)</li><li>added: new system property &quot;javamelody.sampling-included-packages&quot; for a white list in <a href="https://github.com/javamelody/javamelody/wiki/UserGuideAdvanced#enable-hotspots-detection" class="external-link" rel="nofollow">cpu hotspots</a>, instead of using the &quot;javamelody.sampling-excluded-packages&quot; system property (<a href="https://github.com/javamelody/javamelody/issues/424" class="external-link" rel="nofollow">issue 424</a>, thanks to <em>alf.hogemark</em>)</li></ul><p><strong>1.53.0 (Oct 1, 2014)</strong></p><ul><li>fix security issues. See <a href="https://wiki.jenkins-ci.org/display/SECURITY/Jenkins+Security+Advisory+2014-10-01" class="external-link" rel="nofollow">Jenkins security advisory</a>.</li></ul><p><strong>1.52.1 (Aug 6, 2014)</strong></p><ul><li>fix: for Maven type jobs on recent Jenkins versions, builds of Maven modules are displayed as always running in the /monitoring/nodes page</li><li>fix: the logout action in the menu did not work in the /monitoring/nodes page</li></ul><p><strong>1.52.0 (Aug 3, 2014)</strong></p><ul><li><strong>Upgraded mininum Jenkins</strong> version to 1.509.3</li><li>added: display of <strong>build steps</strong> and their durations, in the detail of each build statistics in the &quot;/monitoring/nodes&quot; page. Example: <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/41877877/72974396.png" data-image-src="attachments/41877877/72974396.png" data-unresolved-comment-count="0" data-linked-resource-id="72974396" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="example_buildsteps.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span></li></ul><ul><li>added: The system property &quot;javamelody.nodes-monitoring-disabled&quot; can be used to disable the periodic monitoring of slaves. Either at startup, for example &quot;-Djavamelody.nodes-monitoring-disabled=true&quot; in the jenkins.xml file, or even at runtime. <strong>Disabling periodic monitoring of slaves</strong> can help against issues, if there are Jenkins slaves and if the communication with slaves is too unstable in the Jenkins remoting.</li><li>improved: reduce the number of RRD files created in some conditions, by not creating a RRD file of mean times if a request is called only once (<a href="https://code.google.com/p/javamelody/source/detail?r=3836" class="external-link" rel="nofollow">revision 3836</a>). Otherwise, obsolete RRD files are automatically deleted after 3 months like before.</li><li>added: links &quot;View in a new page&quot; below the tables of threads and of current requests (<a href="https://code.google.com/p/javamelody/source/detail?r=3839" class="external-link" rel="nofollow">revision 3839</a>). For example when Jenkins is under load, the new pages make it easy to refresh at will the details of threads or of the current requests to see if states change or not, without refreshing all the main page.</li><li>added: logout action in the menu on the right of the main report (<a href="https://code.google.com/p/javamelody/source/detail?r=3859" class="external-link" rel="nofollow">revision 3859</a>)</li><li>fixed <a href="https://issues.jenkins-ci.org/browse/JENKINS-21357" class="external-link" rel="nofollow">JENKINS-21357</a> Node monitoring action: Use the specific computer's sidepanel instead of Jenkins default page. But the actions on the left sidepanel may be broken because of <a href="https://issues.jenkins-ci.org/browse/JENKINS-23963" class="external-link" rel="nofollow">JENKINS-23963</a>.</li></ul><p><strong>1.51.0 (Jun 5, 2014)</strong></p><ul><li>fix: when using java 8, cpu graph was not displayed</li><li>Drop Java 5 support (<a href="https://code.google.com/p/javamelody/source/detail?r=3795" class="external-link" rel="nofollow">revision 3795</a>)</li><li>Optimized desktop UI startup time, by downloading desktop app and caching locally (<a href="https://code.google.com/p/javamelody/source/detail?r=3762" class="external-link" rel="nofollow">revision 3762</a>)</li><li>improved: in a graph detail, a checkbox can now hide maximum values in the graph, so that average values are better displayed when much lower than the maximum (<a href="https://github.com/javamelody/javamelody/issues/368" class="external-link" rel="nofollow">issue 368</a>)</li><li>added: PID in the heap dump file name (<a href="https://code.google.com/p/javamelody/source/detail?r=3773" class="external-link" rel="nofollow">revision 3773</a>)</li></ul><p><strong>1.50.0 (Mar 27, 2014)</strong></p><ul><li>Fix icons and links on some Jenkins servers in the new Monitoring page of individual nodes (<a href="https://issues.jenkins-ci.org/browse/JENKINS-20935" class="external-link" rel="nofollow">JENKINS-20935</a>)</li><li>fix issue <a href="https://github.com/javamelody/javamelody/issues/370" class="external-link" rel="nofollow">issue 370</a>: work around ConcurrentModificationException during Tomcat startup (which is a <a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=56082" class="external-link" rel="nofollow">Tomcat bug</a>)</li><li>fix issue <a href="https://github.com/javamelody/javamelody/issues/386" class="external-link" rel="nofollow">issue 386</a>: IllegalArgumentException: No enum const class ..., in Turkish</li><li>improved: In the US, depending on the browser's language or on the javamelody parameter &quot;locale&quot;, the paper size is now Letter in the US, instead of A4 like in the other countries. (<a href="https://code.google.com/p/javamelody/source/detail?r=3679" class="external-link" rel="nofollow">revision 3679</a>, thanks to <em>Dennis</em>)</li><li>improved css styles: font finally fixed to Arial/Helvetica (<a href="https://code.google.com/p/javamelody/source/detail?r=3718" class="external-link" rel="nofollow">revision 3718</a>).</li><li>added: <strong>Menu</strong>. A floating button is available on the right of the main report to drag a menu in or out. The menu displays the list of chapters in the report and allows to jump easily between them (<a href="https://code.google.com/p/javamelody/source/detail?r=3705" class="external-link" rel="nofollow">revision 3705</a>).</li><li>added: <strong>Custom reports</strong>. Links to custom reports can be included in the floating menu described above.<br/>For that, add a system property named &quot;javamelody.custom-reports&quot;. In the value of this system property, put the list of names of the custom reports separated with commas. Then for each custom report, add a system property with the same name and its path as value. By default, the following properties are already defined:<br/>-Djavamelody.custom-reports=JenkinsInfo,AboutMonitoring<br/>-Djavamelody.JenkinsInfo=/systemInfo<br/>-Djavamelody.AboutMonitoring=<a href="https://wiki.jenkins-ci.org/display/JENKINS/Monitoring" class="external-link" rel="nofollow">https://wiki.jenkins-ci.org/display/JENKINS/Monitoring</a></li></ul><p><strong>1.49.0 (Jan 12, 2014)</strong></p><ul><li>added: For each individual node (each slave in <a href="http://yourhost/computer" class="external-link" rel="nofollow">http://yourhost/computer</a>), reports and actions are available from the &quot;Monitoring&quot; page in the contextual menu or in the detail of the node:<ul><li>Threads, process list, MBeans of that node only</li><li>Heap histogram of that node</li><li>Actions for GC, heap dump</li><li>(<a href="https://issues.jenkins-ci.org/browse/JENKINS-20935" class="external-link" rel="nofollow">JENKINS-20935</a>, with help from Oleg Nenashev)</li></ul></li><li>improved: When I call the &quot;Invalidate http sessions&quot; action, invalidate all sessions except mine (I can still invalidate my session individually after that)</li><li>improved: In the list of http sessions, a bullet shows which one is my own session, if I have a session</li><li>improved css styles with the come back of shadows in Firefox and with hovers for images, ~<sub>see</sub> <sub><a href="https://code.google.com/p/javamelody/wiki/Demo" class="external-link" rel="nofollow">JavaMelody Demo</a></sub>~ (<a href="https://code.google.com/p/javamelody/source/detail?r=3614" class="external-link" rel="nofollow">revision 3614</a>)</li></ul><p><strong>1.48.0 (Nov 20, 2013)</strong></p><ul><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-20532" class="external-link" rel="nofollow">JENKINS-20352</a>: HTTP session count is high, since Jenkins v1.535 (<a href="https://code.google.com/p/javamelody/source/detail?r=3569" class="external-link" rel="nofollow">revision 3569</a>)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/354" class="external-link" rel="nofollow">issue 354</a>: With the java update 1.7_u45, the Desktop app does not start</li></ul><p><strong>1.47.0 (Sep 29, 2013)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/339" class="external-link" rel="nofollow">issue 339</a>: &quot;One day&quot; memory leak</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/346" class="external-link" rel="nofollow">issue 346</a>: XSS through X-Forwarded-For header spoofing</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/232" class="external-link" rel="nofollow">issue 232</a>: Use the path of -XX:HeapDumpPath=/tmp if defined, for the directory of heap dump files (otherwise use the temp directory of the server as before)</li><li>added: detection of cpu hotspots can be enabled (<a href="https://github.com/javamelody/javamelody/issues/149" class="external-link" rel="nofollow">issue 149</a>, with some ideas from Cédric Lime).<ul><li>In the monitoring reports, the new Hotspots screen displays CPU hotspots in executed methods for all the JVM. Like javamelody, the overhead of hotspots is low: it is based on sampling of stack-traces of threads, without instrumentation. And like javamelody, it is made to be always active if enabled. (It is currently not enabled by default. It may be enabled by default in the future.) Two parameters can be defined as system properties in the jenkins.xml file:</li><li>&quot;javamelody.sampling-seconds&quot; to enable the sampling and to define its period. A period of 10 seconds can be recommended to have the lowest overhead, but then a few hours may be needed to have significant results for a webapp under real use. If you don't mind having a bit more overhead or want a result faster in test, you can use a value of 1 or 0.1 in second for this parameter.</li><li>&quot;javamelody.sampling-excluded-packages&quot; to change the list of the excluded packages (&quot;java,sun,com.sun,javax,org.apache,org.hibernate,oracle,org.postgresql,org.eclipse&quot; by default)</li></ul></li></ul><p><strong>1.46.0 (Aug 4, 2013)</strong></p><ul><li>fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-17757" class="external-link" rel="nofollow">JENKINS-17757</a> IllegalStateException: Timer already cancelled from NodesCollector.scheduleCollectNow</li><li>use a timeout for the monitoring of slaves, when a slave is online but does not respond</li><li>fix NPE when manually purging the obsolete monitoring files of slaves</li></ul><p><strong>1.45.0 (Jun 6, 2013)</strong></p><ul><li>added: button to kill a thread from the current requests (issue <a href="https://github.com/javamelody/javamelody/issues/302" class="external-link" rel="nofollow">issue 302</a>)</li><li>added: button to donate in the html reports, to better inform users of this possibility</li></ul><p><strong>1.44.0 (Mar 30, 2013)</strong></p><ul><li>fix: it is currently useless to display the sql hits for the current requests</li><li>fix: better aggregation of http requests in the statistics, for URLs /adjuncts/... and /$stapler/bound/... (also reduces the disk space used to store data)</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/289" class="external-link" rel="nofollow">issue 289</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-15529" class="external-link" rel="nofollow">JENKINS-15529</a>: NoClassDefFoundError: com/sun/management/OperatingSystemMXBean, in JBoss AS 7 without configuration of modules</li><li>page added: Some <a href="Monitoring-Scripts.html">Monitoring Scripts</a> can be executed using the Jenkins Script Console.</li></ul><p><strong>1.43.0 (Jan 27, 2013)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/270" class="external-link" rel="nofollow">issue 270</a>: French Canadians can't choose a customized period</li><li>fix: in the current requests, use the chosen period to display the statistics of mean times, besides the elapsed times</li><li>added: PDF report of the current requests</li><li>added: optional parameter &quot;locale&quot; to fix the locale of the reports, whatever the language in the browser (<a href="https://github.com/javamelody/javamelody/issues/271" class="external-link" rel="nofollow">issue 271</a>, thanks to <em>xiukongtiao</em>). You can add, for example, the system property -Djavamelody.locale=en_US</li></ul><p><strong>1.42.0 (Dec 2, 2012)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/262" class="external-link" rel="nofollow">issue 262</a> NullPointerException in MonitoringFilter.doFilter(), when the webapp is undeployed and after a timeout</li><li>added: New alternative User Interface for the monitoring reports with a <strong>Rich Desktop Application</strong>. Highlights :<ul><li>All reports and data like in the web UI</li><li>Exports to PDF, XML and JSON formats, even if the monitored application does not have the dependencies to do the same in the web UI</li><li>Tabs to view different reports</li><li>Columns of tables may be sorted, resized and moved</li><li>Exports with right-click for all tabular data to CSV, PDF, RTF, HTML, XML, JSON formats</li><li>Shortcuts, such as F5</li><li>Started in one-click with the &quot;Desktop&quot; link at the top of the web UI. The required libraries are downloaded automatically from ~<sub>googlecode</sub>~ github on the first launch.</li><li>Uses JavaWebStart and requires <a href="http://java.com" class="external-link" rel="nofollow">JRE 1.7</a> on the client</li><li>This new UI may be an alternative to the web UI for advanced users or for exports</li></ul></li></ul><p><strong>1.41.0 (Sep 30, 2012)</strong></p><ul><li>fix <a href="https://github.com/javamelody/javamelody/issues/252" class="external-link" rel="nofollow">issue 252</a> Add XSS protection</li><li>fix <a href="https://github.com/javamelody/javamelody/issues/255" class="external-link" rel="nofollow">issue 255</a> exception while collecting data java.io.FileNotFoundException: Could not open ....rrd existent</li></ul><p><strong>1.40.0 (Aug 26, 2012)</strong></p><ul><li>fix <a href="http://issues.jenkins-ci.org/browse/JENKINS-14050" class="external-link" rel="nofollow">issue 14050</a>, also for the monitoring reports of Nodes.</li><li>added in the external API: XML and JSON exports of MBeans, and of JNDI tree given a JNDI context path. Documentation is <a href="https://github.com/javamelody/javamelody/wiki/ExternalAPI#xml" class="external-link" rel="nofollow">here</a>. For example: <a href="http://demo.javamelody.cloudbees.net/monitoring?format=xml&amp;part=mbeans" class="external-link" rel="nofollow">MBeans</a> and <a href="http://demo.javamelody.cloudbees.net/monitoring?format=json&amp;part=jndi&amp;path=comp" class="external-link" rel="nofollow">JNDI</a>.</li></ul><p><strong>1.39.0 (Jun 21, 2012)</strong></p><ul><li>fix <a href="http://issues.jenkins-ci.org/browse/JENKINS-14050" class="external-link" rel="nofollow">issue 14050</a>, also when security is enabled in Jenkins: Unreadable HTML response for the monitoring reports. Compression of the monitoring reports is now disabled in the plugin and the reports will be compressed by Jenkins starting with v1.470.</li></ul><p><strong>1.38.0 (Jun 17, 2012)</strong></p><ul><li>fix <a href="http://issues.jenkins-ci.org/browse/JENKINS-14050" class="external-link" rel="nofollow">issue 14050</a>, but only when security is not enabled in Jenkins: Unreadable HTML response for the monitoring reports</li></ul><p><strong>1.37.0 (Apr 29, 2012)</strong></p><ul><li>fix issue 207: Incompatibility with servlet api 2.4 (Tomcat 5.5) in Monitoring plugin 1.36.0</li><li>added: Reduce the possibility of storage overload by deleting automatically the obsolete RRD files (which were not updated for the last 3 months), and which were for requests which do not exist anymore. Note: the size of existing RRD files is fixed for ever and old .ser.gz files are already automatically deleted after a year.</li><li>added: Display the disk usage of the storage at the bottom of the report</li></ul><p><strong>1.36.0 (Mar 30, 2012)</strong> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/41877877/61112347.png" data-image-src="attachments/41877877/61112347.png" data-unresolved-comment-count="0" data-linked-resource-id="61112347" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Button-Built-on-CB-1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="41877877" data-linked-resource-container-version="290"></span></p><ul><li><a href="https://github.com/javamelody/javamelody/wiki" class="external-link" rel="nofollow">JavaMelody</a> is used inside the Monitoring plugin. Thanks to <a href="http://www.cloudbees.com" class="external-link" rel="nofollow">CloudBees</a> Jenkins CI, <a href="https://javamelody.ci.cloudbees.com/job/javamelody/" class="external-link" rel="nofollow">nightly build</a>, <a href="https://javamelody.ci.cloudbees.com/job/javamelody/site/apidocs/index.html" class="external-link" rel="nofollow">javadoc</a> and <a href="https://javamelody.ci.cloudbees.com/job/javamelody/site/xref/index.html" class="external-link" rel="nofollow">sources</a> of JavaMelody are available.<br/>~<sub>And there is a public demo of JavaMelody. It is based on the latest source in trunk and is continuously deployed. It is currently not a demo in Jenkins, but instead in an application with GWT, services and SQL.</sub>~<br/>~<sub>First, you can play with this quick and dirty</sub> <sub><a href="http://demo.javamelody.cloudbees.net/" class="external-link" rel="nofollow">GWT application</a></sub> <sub>to have some data (thanks Benjamin)</sub>~<br/>~<sub>Then you can view the charts and the statistics in the</sub> <sub><a href="http://demo.javamelody.cloudbees.net/monitoring" class="external-link" rel="nofollow">monitoring reports</a></sub> <sub>(no password)</sub>~</li></ul><ul><li>Other notes:<ul><li>fix blocking issue 194: The jrobin v1.5.9 artifacts are now available in the Maven central repository as you can see <a href="http://search.maven.org/" class="external-link" rel="nofollow">here</a>. The external (and currently unreachable) repository in the javamelody pom is now useless and removed.</li><li>fix issue 201: Unable to render MBeans tree when some JMX-retrieval exception occurs<br/>added: if there are deadlocked threads in the JVM, print a warning message with the names of the deadlocked threads at the top of threads dump, like in the html and pdf reports (revision 2678)</li><li>This version requires a Servlet 2.5 container (fixed in 1.37.0)</li></ul></li></ul><p><strong>1.35.0 (Feb 28, 2012)</strong></p><ul><li>fix issue 178: Since v1.32, &quot;Nb of http sessions&quot; is 0 and &quot;View http sessions&quot; is always empty.</li><li>added: graphic of &quot;Build queue length&quot; in the monitoring of nodes, next to the graphic of &quot;Running builds&quot; (done in Jenkins Hackathon, with help from Kohsuke Kawaguchi)</li><li>added: optional parameter (-Djavamelody.dns-lookups-disabled=true) to allow disabling of dns lookups with InetAddress.getLocalHost() to prevent long hangs on startup/shutdown in some particular environments (issue 181, thanks to r6squeegee)</li></ul><p><strong>1.34.0 (Jan 28, 2012)</strong></p><ul><li>Minor bugfixes such as fonts in the PDF reports for Chinese people, when the first PDF report was made for non Chinese people</li></ul><p><strong>1.33.0 (Nov 29, 2011)</strong></p><ul><li>fix <a href="http://issues.jenkins-ci.org/browse/JENKINS-11293" class="external-link" rel="nofollow">issue 11293</a> Monitoring plugin not installed because of NoClassDefFoundError: org.slf4j.ILoggerFactory on IBM J9 JVM (<a href="https://svn.jenkins-ci.org/trunk/hudson/plugins/monitoring/pom.xml" class="external-link" rel="nofollow">rev 40073</a>)</li></ul><p><strong>1.32.1 (Oct 14, 2011)</strong></p><ul><li>fix issue 151: a Java 1.6 dependency was introduced in 1.32.0 (NoSuchFieldError: ROOT)</li></ul><p><strong>1.32.0 (Oct 13, 2011)</strong></p><ul><li>fix issue 141: exception while collecting data java.io.IOException: Read failed, file xyz not mapped for I/O (after out of disk space)</li><li>added: Chinese translation, and fix display of Chinese characters in the JRobin graphics and in the PDF reports (issue 150)</li><li>added: Action &quot;Generate a heap dump&quot; added for IBM JDK like for Oracle JDK, patch by David Karlsen in the javamelody users' group</li><li>added: Add link &quot;Dump threads as text&quot; below the list of threads</li><li>added: Provide an url (monitoring?action=mail_test) to test sending a pdf report by mail (issue 145).</li></ul><p><strong>1.31.0 (Aug 14, 2011)</strong></p><ul><li>fix issue 128: Clean the shutdown process</li><li>To display the username in the list of http sessions, look at ACEGI_SECURITY_LAST_USERNAME if getRemoteUser() was null.</li></ul><p><strong>1.30.0 (Jul 15, 2011)</strong></p><ul><li>fix issue 116: MBeans overview does not work with java 1.5</li><li>fix issue 117: Sorting of numbers is based on String comparison in German</li><li>fix issue 122: Average number of requests per minutes seems to be wrong, with a single day in a custom period</li><li>fix issue 124: Start date removed from the text at the top of the monitoring page, except if the &quot;All&quot; period is selected.</li></ul><p><strong>1.29.0</strong></p><ul><li>fix issue 106: a few HTTP hits are lost in the statistics for the first hit(s) on new requests (no impact on statistics once requests are known)</li></ul><p><strong>1.28.0</strong></p><ul><li>fix issue 99: NullPointerException when displaying the list of process on AIX</li></ul><p><strong>1.27.0</strong></p><ul><li>added: pdf report of MBeans</li></ul><p><strong>1.26.0</strong></p><ul><li>fix <a href="http://issues.jenkins-ci.org/browse/JENKINS-8344" class="external-link" rel="nofollow">issue 8344</a> (ClassNotFoundException: net.bull.javamelody.SessionListener)</li><li>added: <strong>Portuguese Brazil translation</strong>, including the online help, thanks to <em>Luiz Gonzaga da Mata</em> and <em>Renan Oliveira da Cunha</em>. This translation is the default for all Portuguese people. The first language in the browser settings should be Portuguese (pt) or Portuguese/Brazil (pt-br) to use it. The <a href="https://github.com/javamelody/javamelody/blob/master/javamelody-core/src/site/resources/Ajuda_on-line_do_monitoring.pdf" class="external-link" rel="nofollow">online help in Portuguese Brazil</a> is also available.</li><li>added: in the nodes report, chart of the number of the running builds by period</li></ul><p><strong>1.25.0</strong></p><ul><li>fix some issues in the monitoring of Jenkins nodes when the operating systems of the nodes are heterogeneous</li><li>fix issue 80: Memory histogram should be supported on Mac OS X</li><li>added: if JRockit, display the JRockit specific MBeans</li><li>added: pdf reports of http sessions and of heap histogram</li></ul><p><strong>1.24.0</strong></p><ul><li>fix issue 74: &quot;View OS Processes&quot; does not work on MAC OS X Server</li></ul><ul><li>added: In the system actions, new view &quot;MBeans&quot; with the values and the descriptions of the attributes. (MBeans contain configuration and low-level data on the application server and on the JVM). The values are viewable but not writable and operations can not be performed.</li></ul><ul><li>added: Monitoring of the <strong>Jenkins nodes</strong> (slaves in general) similar to the monitoring of the Jenkins master. <br class="atl-forced-newline"/><br class="atl-forced-newline"/>If the monitoring of the Jenkins master is available at <a href="http://localhost:8080/monitoring" class="external-link" rel="nofollow">http://localhost:8080/monitoring</a> then the monitoring of the Jenkins nodes is available at <a href="http://localhost:8080/monitoring/nodes" class="external-link" rel="nofollow">http://localhost:8080/monitoring/nodes</a>. <br class="atl-forced-newline"/><br class="atl-forced-newline"/>The monitoring of the Jenkins nodes includes:<ul><li>Aggregated &quot;used memory&quot; chart, aggregated &quot;% cpu&quot; chart (between 0 and 100) for day, week, month, year or a custom period.</li><li>Chart of the build times over time for the selected period</li><li>Other aggregated charts: % GC, threads count, loaded classes count, system load average, open file descriptors count and more for the selected period</li><li>Statistics of the build times for the selected period</li><li>Running builds with time elapsed</li><li>Threads informations for each node including name, state, stack-trace and an action to kill any thread</li><li>Heap histogram aggregated for all nodes</li><li>Current system informations for each node</li><li>MBeans for each node</li><li>Last values in charts and MBeans values. For example, the following URLs can be used: 1 and 2 (the plugin-authentication-disabled parameter could be used)</li><li>Process informations for each node</li><li>Actions to execute the GC or to generate a heap dump on each node</li></ul></li></ul><ul><li>Due to the current infrastructure changes for the <a href="https://maven2-repository.dev.java.net/" class="external-link" rel="nofollow">maven2-repository in java.net</a>, the &quot;Monitoring&quot; plugin 1.24.0 was not in the plugin manager.</li></ul><p><strong>1.23.0</strong></p><ul><li>fix <a href="http://code.google.com/p/javamelody/issues/detail?id=66" class="external-link" rel="nofollow">issue 66</a>: Since tomcat 6.0.21 and when tomcat based authentication is used, session count is false and there is a possible memory leak for invalidated http sessions in v1.22.0. This is because of the changes for tomcat enhancement <a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=45255" class="external-link" rel="nofollow">45255</a>. To tomcat experts: Isn't an http session supposed to die first before being able to born a second time?</li></ul><p><strong>1.22.0</strong></p><ul><li>fix: Maximum values in statistics could be incorrect</li><li>added major feature: graphic of the number of sessions and details on http sessions with the link in &quot;System informations&quot; (this is emulated without httpsessionlistener, because httpsessionlistener can't be used in Jenkins plugins)</li><li>added: If Jenkins security is enabled, the system property -Djavamelody.plugin-authentication-disabled=true can be added to a Jenkins server in order to disable authentication of the monitoring page in the Monitoring plugin and to be able to add the server to a javamelody centralized collect server. (A system property like -Djavamelody.allowed-addr-pattern=127\.0\.0\.1 can also be added with the ip address of the collect server)</li></ul><p><strong>1.21.0</strong></p><ul><li>fix to display the list of http sessions when Tomcat throws an exception &quot;Session already invalidated&quot;</li><li>fix to display the list of process when using Windows in Germany</li><li>added: If Tomcat or JBoss, new graphics in &quot;Other charts&quot; for the number of active http and ajp threads in the server, the number of bytes received per minute and the number of bytes sent per minute by the server.</li></ul><p><strong>1.20.0</strong></p><ul><li>added: German translation thanks to Ewald Arnold. We would like to have <a href="http://groups.google.fr/group/javamelody/browse_thread/thread/5656e63513436b64" class="external-link" rel="nofollow">feedback here</a>.</li><li>fix: In the html display of the current requests, put back the complete http request with query parameters and values, like it was displayed before v1.17.0</li></ul><p><strong>1.19.0</strong></p><ul><li>fix NumberFormatException requesting process information.</li><li>fix (removed) jndi link in Winstone.</li><li>added debugging logs.</li></ul><p><strong>1.18.0</strong></p><ul><li>other minor bugs fixed.</li></ul><p><strong>1.17.0</strong></p><ul><li>some minor bugs fixed.</li></ul><p><strong>1.15.1</strong></p><ul><li>change to <strong>reduce disk usage</strong>: Some common http requests are now aggregated in statistics, for example on build numbers.</li></ul><p>The <code>javamelody.http-transform-pattern</code> parameter has now the default value of</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>/\d+/|/site/.+|avadoc/.+|/ws/.+|obertura/.+|estReport/.+|iolations/file/.+|/user/.+|/static/\w+/</pre>
</div></div><p>and all matches in http URLs will be replaced by &quot;$&quot;. Note that it is possible on each Jenkins server to change the value of this parameter with a system property <code>-Djavamelody.http-transform-pattern=xxx</code> in the java command line.</p><p><strong>1.15.0</strong></p><ul><li>change to reduce disk usage: Graphics in http errors and in errors logs are no longer displayed</li></ul><p><strong>1.14.0</strong></p><ul><li>fix: There was an InternalError on ubuntu or debian using the tomcat package with jsvc</li></ul><p><strong>1.13.0</strong></p><ul><li>added: remember the last selected period (with a persistent cookie in the browser)</li><li>added: UI option to display graphs and statistics for <strong>custom periods</strong>, via fields of start and end dates of period to display</li></ul><p><strong>1.12.0</strong></p><ul><li>added: <strong>New charts</strong> &quot;Threads count&quot;, &quot;Loaded classes count&quot;, &quot;Used non heap memory&quot;, &quot;Used physical memory&quot;, &quot;Used swap space&quot; (displayed with the new link &quot;Other charts&quot;)</li><li>added: Button to kill a java thread</li><li>added: parameters can now be specified in environment variables like in system properties or webapp context</li><li>added: new parameter &quot;monitoring-path&quot; to change the url &quot;/monitoring&quot; of the report to &quot;/admin/monitoring&quot; for example</li><li>added: new parameter &quot;mail-periods&quot; to change the period of mail reports from weekly to daily or monthly or a combination of the 3</li><li>added: display the version of JavaMelody at the bottom of the html and pdf reports</li><li>added: display of &quot;ajax GET&quot; or &quot;ajax POST&quot; in http requests names for ajax requests</li></ul><p><strong>1.10.0</strong></p><ul><li>English: For people outside US, UK and France, default language is now the default locale of the server or English.</li></ul><p><strong>1.9.0</strong></p><ul><li>Fix: The &quot;Monitoring&quot; link in &quot;/manage&quot; page did not work when Jenkins was in a servlet context (not in the root context of the server).</li><li>JavaMelody fix: someone had an exception in report on Solaris 10 (getPID)</li></ul><p><strong>1.8.2</strong></p><ul><li>Removed jdbc graphs as there is no database in Jenkins,</li><li>Removed sessions graph, values and links as the javamelody SessionListener can't be registered without modifying web.xml</li><li>Added a link in &quot;/manage&quot; page</li><li>Added checkPermission to check authentication if configured</li></ul><p><strong>1.8.1</strong></p><ul><li>Initial</li></ul><h3 id="Monitoring-Translations">Translations</h3><p>Translations for other languages such as Spanish are welcomed.</p><p>To contribute in your own language, join the translation project at <a href="https://poeditor.com/join/project/QIaCp4bThS" rel="nofollow" class="external-link">https://poeditor.com/join/project/QIaCp4bThS</a>.</p><p>or see in English: <a href="https://github.com/javamelody/javamelody/blob/master/javamelody-core/src/main/resources/net/bull/javamelody/resource/translations.properties" class="external-link" rel="nofollow">https://github.com/javamelody/javamelody/blob/master/javamelody-core/src/main/resources/net/bull/javamelody/resource/translations.properties</a><br/>the same in French: <a href="https://github.com/javamelody/javamelody/blob/master/javamelody-core/src/main/resources/net/bull/javamelody/resource/translations_fr.properties" class="external-link" rel="nofollow">https://github.com/javamelody/javamelody/blob/master/javamelody-core/src/main/resources/net/bull/javamelody/resource/translations_fr.properties</a></p><p><br/></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/41975841.png">http.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/41975840.png">http.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/41975842.png">systemmonitor48.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/41975843.png">systemmonitor.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/41975844.png">graphs.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/44564483.png">graphics.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/44564484.png">statistics.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/44564486.png">system_infos_and_threads.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/44564485.png">system_infos_and_threads.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/61112347.png">Button-Built-on-CB-1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/72974396.png">example_buildsteps.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/106496033.png">java_source.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/41877877/106496034.png">javamelody-mbeans.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:34</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
