<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Perforce Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Perforce Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (mike@tek42.com)</span>, last modified by <span class='editor'> Unknown User (oleg_nenashev)</span> on Jun 17, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="PerforcePlugin-Summary">Summary</h1><p>Integrates Jenkins with <a href="http://perforce.com" class="external-link" rel="nofollow">Perforce</a> SCM Repositories.<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> Distribution of this plugin has been suspended due to unresolved security vulnerabilities, see below. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The current version of this plugin may not be safe to use. Please review the following warnings before use:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2018-03-26/#SECURITY-536" class="external-link" rel="nofollow">Job-specific credentials can be obtained by users with Job/Extended Read permission</a></li>
	<li><a href="https://jenkins.io/security/advisory/2018-03-26/#SECURITY-373" class="external-link" rel="nofollow">Ineffective credentials encryption</a></li>
</ul>

</div></div>
<span style="color: rgb(255,0,0);"><strong>This plugin is very old and not very well maintained anymore. It's recommended that you use the official plugin from Perforce instead:Â </strong></span><span style="color: rgb(255,0,0);"><strong><a href="P4-Plugin.html">P4 Plugin</a></strong></span></p><p>With this plugin you can use a workspace (aka Clientspec in Perforce speak) that will synchronize files to the Jenkins workspace. At the moment, this plugin supports:</p><ul><li>Polling</li><li>Synchronizing</li><li>Browsing latest changes</li><li>Labeling builds (tagging)</li></ul><p>If polling is enabled, the plugin will automatically sync to the latest revision when new changelists are found. This will also trigger a new build. Also, whenever a new build is triggered manually in Jenkins, the plugin will sync to the latest revision in the Perforce depot.</p><h1 id="PerforcePlugin-Requirements">Requirements</h1><p>The plugin requires that the command line client p4 is installed on the machine running Jenkins.</p><h1 id="PerforcePlugin-Usage">Usage</h1><ol><li>Allow the plugin to communicate with Perforce...<ol><li>Either create a new user or use an existing &quot;daemon&quot; type user<ul><li>Note: This &quot;daemon&quot; user must be logged in prior to configuring or running builds with Jenkins. And you must not specify the P4CLIENT environment variable because this will overwrite anything that Jenkins is trying to do.</li></ul></li><li>Create a workspace (clientspec) for the plugin to use. Name it &quot;jenkins-jobname&quot; or something.</li><li>Ensure that the workspace matches your development settings for your project (e.g., LineEnd, Options, etc.)</li><li>Important Note: If you will be concurrently building multiple projects from Perforce, it would be best to create a Perforce workspace for each project.</li></ol></li><li>Install the plugin. Download it <a href="http://mirrors.jenkins-ci.org/plugins/perforce/" class="external-link" rel="nofollow">here</a>.</li><li>Create a new project, under &quot;Source Code Management,&quot; choose Perforce.<br/><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/2916615/3080249.gif" data-image-src="attachments/2916615/3080249.gif" data-unresolved-comment-count="0" data-linked-resource-id="3080249" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="tutorial-choose-scm.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="2916615" data-linked-resource-container-version="124"></span></li><li>Enter your server specific details along with the information for the user that Jenkins will be using for polling/syncing. If you are familiar with Perforce, this all should be second nature. Remember, click on the question mark icons for context sensitive help.<br/><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/2916615/3080250.gif" data-image-src="attachments/2916615/3080250.gif" data-unresolved-comment-count="0" data-linked-resource-id="3080250" data-linked-resource-version="5" data-linked-resource-type="attachment" data-linked-resource-default-alias="tutorial-perforce-config.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="2916615" data-linked-resource-container-version="124"></span></li><li>Under Build Triggers, check &quot;Poll SCM.&quot;<br/><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/2916615/3080251.gif" data-image-src="attachments/2916615/3080251.gif" data-unresolved-comment-count="0" data-linked-resource-id="3080251" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="tutorial-poll.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="2916615" data-linked-resource-container-version="124"></span></li><li>Save your changes and let Jenkins do its job.</li></ol><h1 id="PerforcePlugin-PostConfiguration">Post Configuration</h1><p>A new option will appear on your project's details page: &quot;Perforce Polling Log.&quot; You can check this to see what Perforce has been up to...<br/><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="attachments/2916615/3080252.gif" data-image-src="attachments/2916615/3080252.gif" data-unresolved-comment-count="0" data-linked-resource-id="3080252" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="tutorial-polling-log.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="2916615" data-linked-resource-container-version="124"></span><br/>Within any build for your project, a new option appears: &quot;Label This Build.&quot; Click on this to see the following screen. Here you can create a Perforce Label allowing your team to sync to this build.<br/><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="attachments/2916615/3473422.png" data-image-src="attachments/2916615/3473422.png" data-unresolved-comment-count="0" data-linked-resource-id="3473422" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="tutorial-label-build.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="2916615" data-linked-resource-container-version="124"></span></p><h1 id="PerforcePlugin-Quirks">Quirks</h1><ul><li>If Jenkins's copy of the project is modified outside of Perforce (say a user deletes the entire project within the workspace directory), the builds following will likely fail. This is because the local copy is out of sync with what is in the depot. Perforce tracks what you have sync'd via the workspace and the way to bring down files that you deleted &quot;accidentally&quot; is to do a &quot;force&quot; sync. If this happens, you can use the option &quot;One Time Force Sync&quot; in the project configuration screen. The next time a build is triggered, p4 sync will be run with the -f option.</li></ul><ul><li>Perforce has specific issues when projects within a depot exist in different local locations that don't map directly to the depot. This is precisely how Jenkins operates. To get around this requirement, we have to do some non-standard things. Every build will grab the Perforce workspace and then modify it to suit the needs of the current Jenkins project. It then syncs the projects files and performs the build. This means that no two projects utilizing the same Perforce workspace should be built at the same time. It is unknown what will happen if you are synchronizing with one build, but another build attempts to modify the same Perforce workspace. It will probably be Not Good(tm). If builds must be performed concurrently, multiple workspaces can be used to get around this.</li></ul><h1 id="PerforcePlugin-AdvancedConfiguration">Advanced Configuration</h1><h2 id="PerforcePlugin-Syncmultiplebuildstothesamechangeset">Sync multiple builds to the same changeset</h2><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/2916615/57409801.png" data-image-src="attachments/2916615/57409801.png" data-unresolved-comment-count="0" data-linked-resource-id="57409801" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Diagram1.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="2916615" data-linked-resource-container-version="124"></span><br/>Say you have a stream of builds that need to run and you need every build to sync to the same changeset. There are a couple of ways to accomplish this. The first is to use a counter. In your job configuration for Job A, you will need to define a P4 Counter (say &quot;projectA-counter&quot;) and check &quot;Update counter to most recent changeset&quot;. Assuming your perforce user has sufficient privileges to create and set counters, this will check out Job A with the latest changeset, and update the counter with that changeset number. Then you can configure the rest of the jobs to use the counter &quot;projectA-counter&quot; and they will automatically sync to that changeset.</p><p>The alternative way is to pass the changeset through the builds as a parameter using the parameterized trigger plugin. In order to do this, you will need to dump the changeset number from the build environment into a properties file so the trigger can read it. A build step with</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">echo p4.changelist=$P4_CHANGELIST &gt; change.properties
</pre>
</div></div><p>will create the properties file that can be loaded with the parameterized trigger plugin. After that it's just a matter of adding the 'p4.changelist' parameter to the downstream job, and using it in the &quot;P4 Label&quot; configuration field of the perforce plugin.</p><p>Note that with both these techniques, the changelog information for the downstream builds will not be available.</p><h1 id="PerforcePlugin-Othernotes">Other notes</h1><ul><li>Please file all bugs/feature requests in the Jenkins bugtracker: <a href="http://issues.jenkins-ci.org/" class="external-link" rel="nofollow">http://issues.jenkins-ci.org/</a></li><li>If you have a question or need troubleshooting, please address the jenkins-user mailing list or the Jenkins irc channel. If you fail to get a response, you may contact rpetti directly via email.</li></ul><h2 id="PerforcePlugin-Version1.3.8&quot;CreateWorkspace&quot;breakage">Version 1.3.8 &quot;Create Workspace&quot; breakage</h2><p><span class="confluence-anchor-link" id="PerforcePlugin-createWorkspaceBreakage"></span><br/>In version 1.3.8 a new option was introduced to allow users the ability to disable automatic creation of clients. Unfortunately, the default for pre-existing jobs was not being correctly set. All existing jobs have this option set to false, which can cause build errors in dynamic environments.</p><p>If this has happened, and you want to set all jobs back to their original behavior, you can run the following groovy script in the jenkins script console:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">hudson.model.Hudson.instance.projects.each{proj -&gt;
  if(proj.scm instanceof hudson.plugins.perforce.PerforceSCM){
    proj.scm.setCreateWorkspace(true);
  }
};
</pre>
</div></div><p>Note that if you went from &lt;=1.3.7 to &gt;=1.3.9, this issue will not affect you.</p><h1 id="PerforcePlugin-VersionHistory">Version History</h1><p>Version 1.3.36 - (Feb 11, 2016)</p><ul><li>Bug fix: p4 login issue when tickets valid on every host is disallowed by the perforce server (<a href="https://issues.jenkins-ci.org/browse/JENKINS-28367">JENKINS-28367</a>)</li></ul><p>Version 1.3.35 - (June 5, 2015)</p><ul><li>Bug fix: failing to report error when the client returns 'Request too large'</li><li>Bug fix: p4 login issue when tickets valid on every host is disallowed by the perforce server (<a href="https://issues.jenkins-ci.org/browse/JENKINS-28367">JENKINS-28367</a>)</li></ul><p>Version 1.3.34 - (Feb 2, 2015)</p><ul><li>Bug fix: Concurrency issue in ChangeSet Buikder's parseDateWithTimezone() method (<a href="https://issues.jenkins-ci.org/browse/JENKINS-26839">JENKINS-26839</a>, since 1.3.31)</li><li>Bug fix: Properly propagate InterruptedException during the hostname calculation</li><li>Improvement: Decrease the log level of &quot;Cannot find the &quot;hostname&quot; method</li></ul><p>Version 1.3.33 - (Dec 30, 2014)</p><ul><li>Bug fix: Escape special symbols in JOB_NAME variable (<a href="https://issues.jenkins-ci.org/browse/JENKINS-26119">JENKINS-26119</a>)</li><li>Bug fix: NullPointerException if global user/password fields are empty (<a href="https://issues.jenkins-ci.org/browse/JENKINS-26076">JENKINS-26076</a>)</li></ul><p>Version 1.3.32 - Skipped due to the release process issues</p><p>Version 1.3.31 - (Dec 10, 2014)</p><ul><li>New feature: Added the support of global credentials (<a href="https://github.com/jenkinsci/perforce-plugin/pull/57" class="external-link" rel="nofollow">PR #57</a>)</li><li>Bug fix: Substitute build environment variables with a high priority to avoid the usage of default values (<a href="https://issues.jenkins-ci.org/browse/JENKINS-25559">JENKINS-25559</a>)</li><li>Bug fix: Don't fail with NPE if an external plugins injects <strong>null</strong> environment variable (<a href="https://issues.jenkins-ci.org/browse/JENKINS-25732">JENKINS-25732</a>)</li><li>Bux fix: Take server timezone offset into account when displaying change date (<a href="https://issues.jenkins-ci.org/browse/JENKINS-24401">JENKINS-24401</a>)</li><li>Minor fixes of possible NPEs in the code</li></ul><p>Version 1.3.30 - Skipped due to the release process issues</p><p>Version 1.3.29 - (Nov 01, 2014)</p><ul><li>Bug fix: Wrong variable substitution order of build parameters: default value is used instead of actual one (<a href="https://issues.jenkins-ci.org/browse/JENKINS-25226">JENKINS-25226</a>)</li><li>Bug fix: No variable substitution in multi-line strings (<a href="https://issues.jenkins-ci.org/browse/JENKINS-25365">JENKINS-25365</a>)</li></ul><p>Version 1.3.28 - (Oct 10, 2014)</p><ul><li>New feature: Support of commit info retrieval by <a href="Email-ext-plugin.html">Email-ext plugin</a> (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11600">JENKINS-11600</a>)</li><li>Enhancement: New variables substitution engine (<a href="https://issues.jenkins-ci.org/browse/JENKINS-23467">JENKINS-23467</a>)<ul><li>Substitution of axes values in <a href="Matrix-Project-Plugin.html">Matrix Project Plugin</a> (<a href="https://issues.jenkins-ci.org/browse/JENKINS-23599">JENKINS-23599</a>)</li><li>Resolution of NODE_NAME variable during polling and workspace cleanup (<a href="https://issues.jenkins-ci.org/browse/JENKINS-20927">JENKINS-20927</a>)</li><li>Resolve environment variables during the workspace cleanup (<a href="https://issues.jenkins-ci.org/browse/JENKINS-19579">JENKINS-19579</a>)</li><li>Explicitly warn users about EXECUTOR_NUMBER usage downsides</li></ul></li><li>Bug fix: Proper variables substitution order in effective client name resolution</li><li>Bug fix: View mask and clean can get stuck in an enabled state (<a href="https://issues.jenkins-ci.org/browse/JENKINS-19649">JENKINS-19649</a>)</li><li><p>Bug fix: Cannot check out folders whose path contains two matching brackets and a dash between them (<a href="https://issues.jenkins-ci.org/browse/JENKINS-21609">JENKINS-21609</a>)</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Warning!</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The version is not available via Jenkins update center. It also contains several major regressions caused by a new variables handling <a href="https://issues.jenkins-ci.org/browse/JENKINS-23467">JENKINS-23467</a>. Use the version at your own risk</p></div></div></li></ul><p>Version 1.3.27 - (Jan 10, 2014)</p><ul><li>Bug fix: refactoring to fix multiple SCM issues (<a href="https://issues.jenkins-ci.org/browse/JENKINS-18583">JENKINS-18583</a>)</li><li>Minor change: Always display at least one change in the changelog when building an older changeset</li><li>Enhancement: Added the ability to build changesets sequentially (<a href="https://issues.jenkins-ci.org/browse/JENKINS-17889">JENKINS-17889</a>)</li><li>Enhancement: Administrators can now globally disable password exposure</li></ul><p>Version 1.3.26 - (Oct 09, 2013)</p><ul><li>Bug fix: properly escape xml in changelogs (<a href="https://issues.jenkins-ci.org/browse/JENKINS-19548">JENKINS-19548</a>)</li><li>Bug fix: support overridable numbered workspace separator for concurrent workspaces (<a href="https://issues.jenkins-ci.org/browse/JENKINS-19519">JENKINS-19519</a>)</li><li>Bug fix: Improved MacroStringHelper in order to avoid substitution errors and improve performance (<a href="https://issues.jenkins-ci.org/browse/JENKINS-19557">JENKINS-19557</a>)</li><li>Major bug fix: fixed issue with new timeout code causing truncated p4 output</li></ul><p>Version 1.3.25 - (Sep 09, 2013)</p><ul><li>Enhancement: Check for correct variables substitution in SCM operations (checkout, poll, workspace cleanup) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-18346">JENKINS-18346</a>)</li><li>Enhancement: View mask for changelog is now a separate option (<a href="https://issues.jenkins-ci.org/browse/JENKINS-9342">JENKINS-9342</a>)</li><li>Enhancement: Regex-based naming policy for Perforce client (<a href="https://issues.jenkins-ci.org/browse/JENKINS-18378">JENKINS-18378</a>)</li><li>Major bug fix: added timeout for perforce operations (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15315">JENKINS-15315</a>)</li><li>Bug fix: fixed typo in charset help path (<a href="https://issues.jenkins-ci.org/browse/JENKINS-18783">JENKINS-18783</a>)</li><li>Bug fix: fixed build issue caused by java version</li></ul><p>Version 1.3.24 - (May 17, 2013)</p><ul><li>fixing disable changelog option (<a href="https://issues.jenkins-ci.org/browse/JENKINS-16120">JENKINS-16120</a>)</li></ul><p>Version 1.3.23 - (May 16, 2013)</p><ul><li>adding a warning if a file still exists after being quick cleaned (<a href="https://issues.jenkins-ci.org/browse/JENKINS-17439">JENKINS-17439</a>)</li><li>removing 'disable sync and changelog' and adding 'disable changelog' (<a href="https://issues.jenkins-ci.org/browse/JENKINS-16120">JENKINS-16120</a>)</li><li>reimplemented changelog deserialization to maintain compatibility with Hudson 3.</li></ul><p>Version 1.3.22 - (Apr 29, 2013)</p><ul><li>making improvements and fixes to exclude paths functionality (<a href="https://issues.jenkins-ci.org/browse/JENKINS-17652">JENKINS-17652</a>)</li></ul><p>Version 1.3.21 - (Apr 12, 2013)</p><ul><li>added more output when getting submitted changenumbers fails</li><li>fixed potential NPE when syncing</li></ul><p>Version 1.3.20 - (Mar 12, 2013)</p><ul><li>added SSL support</li></ul><p>Version 1.3.19 - (Jan 10, 2013)</p><ul><li>fixing issue with ticket parsing when perforce server is using login triggers that generate extra output (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15994">JENKINS-15994</a>)</li></ul><p>Version 1.3.18 - (Nov 28, 2012)</p><ul><li>added P4USER as valid substitution during polling (<a href="https://issues.jenkins-ci.org/browse/JENKINS-14787">JENKINS-14787</a>)</li><li>fixing issue when retrying a login using tickets</li><li>'status' field in job descriptions now optional (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15043">JENKINS-15043</a>)</li><li>added general substitution support for P4USER and P4PORT (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15053">JENKINS-15053</a>)</li><li>allow whitespaces at end of view mappings</li><li>fixed issue with saving configurations when blanking out system root and system drive (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15348">JENKINS-15348</a>)</li><li>only overwrite p4ticket if there's a ticket to save</li><li>fixing P4CLIENT env variable when running concurrent builds (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10125">JENKINS-10125</a>)</li><li>disable form validation on the view map, since it causes issues with large maps (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12806">JENKINS-12806</a>)</li><li>fixed ticket handling problems (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15862">JENKINS-15862</a>)</li><li>use the ticket when running quick clean commands when it's available (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15807">JENKINS-15807</a>)</li><li>prefer the workspace changeset before depot changeset (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15515">JENKINS-15515</a>)</li><li>improved perforce job handling</li><li>export build changenumber from perforcetagaction (<a href="https://issues.jenkins-ci.org/browse/JENKINS-15603">JENKINS-15603</a>)</li></ul><p>Version 1.3.17 - (Aug 12, 2012)</p><ul><li>fixing major regression in polling (<a href="https://issues.jenkins-ci.org/browse/JENKINS-14766">JENKINS-14766</a>)</li></ul><p>Version 1.3.16 - (Aug 7, 2012)</p><ul><li>added ability to use the same changeset as upstream job</li><li>fixed NPE when polling with view from file (<a href="https://issues.jenkins-ci.org/browse/JENKINS-14216">JENKINS-14216</a>)</li><li>update documentation (<a href="https://issues.jenkins-ci.org/browse/JENKINS-14363">JENKINS-14363</a>)</li><li>removed code that was breaking remote (UNC) workspace paths (<a href="https://issues.jenkins-ci.org/browse/JENKINS-14125">JENKINS-14125</a>)</li><li>removed redundant api exports (<a href="https://issues.jenkins-ci.org/browse/JENKINS-14335">JENKINS-14335</a>)</li></ul><p>Version 1.3.15 - (June 8, 2012)</p><ul><li>added 'owner' and 'description' fields to label post build action</li><li>fixed issue with incorrect changeset being used for syncing (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13879">JENKINS-13879</a>)</li><li>fixing issue where the password was being exposed internally in jenkins' config files (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10326">JENKINS-10326</a>)</li><li>added new 'quick' clean feature. this emulates a wipe+force sync, but should be faster in many circumstances</li></ul><p>Version 1.3.14 - (May 14, 2012)</p><ul><li>suppressing client spec parse warnings for blank and quoted lines</li><li>tagging now only requires TAG permission (as opposed to admin privileges) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13736">JENKINS-13736</a>)</li><li>fixed quoted paths issue in view parsing (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7496">JENKINS-7496</a>)</li><li>added 'owner' field to advanced options for client ownership (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13646">JENKINS-13646</a>)</li></ul><p>Version 1.3.13 - (April 19, 2012)</p><ul><li>don't return invalid perforce email addresses in the mailresolver (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13324">JENKINS-13324</a>)</li><li>don't update client view when flushing workspace to 0 on workspace deletion (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13080">JENKINS-13080</a>)</li><li>avoid possible NPE during startup (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13394">JENKINS-13394</a>)</li><li>removed redundant slash from Perfbrowse URL</li><li>fixed issue with excluded files not working for changesets that include files not in the workspace view (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13296">JENKINS-13296</a>)</li><li>updated pom to use new jenkins maven repository</li><li>avoid benign NPE when saving a config on a master with no executors (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13353">JENKINS-13353</a>)</li><li>fixed issue with parameter substitution in counter name field</li><li>added support for displaying integrated changesets</li><li>always put P4TICKET into environment (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13270">JENKINS-13270</a>)</li><li>added limit for number of files per changelist in order to avoid OOM on large changes (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13109">JENKINS-13109</a>)</li></ul><p>Version 1.3.12 - (March 29, 2012)</p><ul><li>fixed NPE that occurs when parsing changes containing a deleted perforce user (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13271">JENKINS-13271</a>)</li></ul><p>Version 1.3.11 - (March 26, 2012)</p><ul><li>added case sensitivity option for exclusion of files from polling (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13147">JENKINS-13147</a>)</li><li>exclude .p4config from wipe on checkout (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13108">JENKINS-13108</a>)</li><li>fixed some issues with the mailresolver (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13103">JENKINS-13103</a>)</li><li>added concurrent build support (Thanks Mikko!) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10125">JENKINS-10125</a>)</li><li>added warning to build log when stripping invalid lines from client spec (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13027">JENKINS-13027</a>)</li><li>wipe before build option no longer flushes the client (since it's just doing a force sync anyways) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13073">JENKINS-13073</a>)</li><li>allow the usage of build parameters during workspace deletion (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13073">JENKINS-13073</a>)</li><li>fixing some log messages for workspace deletion</li><li>build properties now override global ones as expected</li><li>use 'p4' by default if no global p4 installation is defined (<a href="https://issues.jenkins-ci.org/browse/JENKINS-13062">JENKINS-13062</a>)</li></ul><p>Version 1.3.10 - (March 8, 2012)</p><ul><li>added support for parameters in stream names</li><li>added support for controlling 'Disable Sync' and 'Disable Sync and Changelog' options using job parameters</li><li>improved email resolution for mailer plugins to increase speed and prevent potential hangs</li><li>added form validation for '-p' and '-f' perforce flag conflict (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12948">JENKINS-12948</a>)</li><li>added support for multiple tags (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12906">JENKINS-12906</a>)</li><li>fixed node-level tool installation location overrides</li></ul><p>Version 1.3.9 - (Feb 28, 2012)</p><ul><li>fixed incorrect default for &quot;Create Workspace&quot; when upgrading to 1.3.8.</li><li>perforce installations now use the Jenkins ToolInstallation model and are globally and node-level configurable (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11369">JENKINS-11369</a>)</li></ul><p>Version 1.3.8 - (Feb 21, 2012) (<strong>See the</strong> <strong><a href="#PerforcePlugin-createWorkspaceBreakage">note</a></strong> <strong>above if you installed this version</strong>)</p><ul><li>added support for Perfbrowse repository browser (thanks verbitan!)</li><li>fixed some inconsistent string references in help (thanks 4ndrew!)</li><li>api changes for better artifactory plugin support (thanks yossis!)</li><li>added 'Let Jenkins Create Workspace' checkbox (thanks garious!)</li><li>added support for perforce streams (thanks miktap!)</li><li>fixed form validation on exclude fields when using parameters (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12202">JENKINS-12202</a>)</li><li>fixed issue with slow email resolution (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12672">JENKINS-12672</a>)</li><li>added substitution for counter field (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12755">JENKINS-12755</a> thanks Andy!)</li><li>plugin now uses the full build environment for parameter substitution, not just job/global parameters (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12837">JENKINS-12837</a>)</li></ul><p>Version 1.3.7 - (Jan 10, 2012)</p><ul><li>fixed issue where list of changes includes pending ones, which can cause consistency problems</li><li>added substitution support to Files/User exclusion fields (<a href="https://issues.jenkins-ci.org/browse/JENKINS-12202">JENKINS-12202</a>)</li></ul><p>Version 1.3.6 - (Dec 12, 2011)</p><ul><li>added global env variables to substitution support (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11893">JENKINS-11893</a>)</li><li>fixed potential NPE when polling (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11878">JENKINS-11878</a>)</li><li>fixed issue with spaces in client name (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11840">JENKINS-11840</a>)</li><li>added parameter substitution support to password field (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11786">JENKINS-11786</a>)</li></ul><p>Version 1.3.5 - (Nov 17, 2011)</p><ul><li>fixed issue with labeling not working when using a client spec from a file in perforce</li><li>fixed parameter substitution when using client spec from a file</li><li>only use the label field for syncing if the parameters in it actually resolve to something non-empty (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11677">JENKINS-11677</a>)</li><li>fixed typo in log output (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11740">JENKINS-11740</a>)</li></ul><p>Version 1.3.4 - (Nov 3, 2011)</p><ul><li>perform parameter substitution on clientSpec path when using a file from perforce for the client spec (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11423">JENKINS-11423</a>)</li><li>fixed support for date and revision changelog information in email-ext (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11600">JENKINS-11600</a>)</li></ul><p>Version 1.3.3 - (Sep 29, 2011)</p><ul><li>added support for promoted builds plugin to perforce label publisher/notifier</li><li>don't set P4_CHANGELIST when no changelist is (yet) available. Should solve some consistency issues with envinject.</li></ul><p>Version 1.3.2 - (Sep 21, 2011)</p><ul><li>correctly handle $ in filenames (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11070">JENKINS-11070</a>)</li></ul><p>Version 1.3.1 - (Sep 8, 2011)</p><ul><li>add the possibility to use a textual ClientSpec file from the depot to setup the workspace view</li><li>make all matrixruns use the same changeset as the parent (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10592">JENKINS-10592</a>)</li><li>fixing minor issue with label changeset retreival</li><li>reimplementation of 'where' mapping for changelog information (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10732">JENKINS-10732</a>)</li></ul><p>Version 1.3.0 - (July 27, 2011)</p><ul><li>fixing possible cast exception with new polling method (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10411">JENKINS-10411</a>)</li><li>updated to new polling api to fix issue with polls queuing up additional builds when one is already syncing (this increased the minimum jenkins/hudson version from 1.339 to 1.346)</li></ul><p>Version 1.2.9 - (July 15, 2011)</p><ul><li>minor tweak to docs explaining that 'sync -p' can't work at the same time as 'sync -f' due to a weird limitation in perforce (<a href="https://issues.jenkins-ci.org/browse/JENKINS-9819">JENKINS-9819</a>)</li><li>added nodename substitution for client workspace names on slave machines, with the disclaimer that it may not work with all slave names (<a href="https://issues.jenkins-ci.org/browse/JENKINS-10334">JENKINS-10334</a>)</li><li>removing tek42 depot from pom, since it's down indefinitely</li><li>fixed issue with 'p4 where' parsing (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7618">JENKINS-7618</a>)</li><li>minor tek42 api bugs</li></ul><p>Version 1.2.8 - (July 4, 2011)</p><ul><li>fixed maven incremental builds integration (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7618">JENKINS-7618</a>)</li><li>changed FishEye links to use changelist number instead of revision number for file diffs (for reals this time) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7747">JENKINS-7747</a>)</li></ul><p>Version 1.2.7 - (Jun 20, 2011)</p><ul><li>check to see if the user exists before attempting to get it's email address (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6079">JENKINS-6079</a>)</li><li>added option to set the owner of a label when manually tagging a build (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8354">JENKINS-8354</a>)</li><li>labels will now have their owner set to the configured perforce user by default (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8354">JENKINS-8354</a>)</li><li>added support for 'p4 sync -p' (<a href="https://issues.jenkins-ci.org/browse/JENKINS-9819">JENKINS-9819</a>)</li><li>fixed issue with JOB_NAME substitutions including incompatible characters for client names (<a href="https://issues.jenkins-ci.org/browse/JENKINS-9906">JENKINS-9906</a>)</li><li>fixed '500' error when saving a user config (caused by missing field)</li></ul><p>Version 1.2.6 - (Jun 3, 2011)</p><ul><li>fixed issue with email ext plugin not displaying changelists (courtesy of 8nevil8 from Oracle)</li></ul><p>Version 1.2.5 - (Apr 22, 2011)</p><ul><li>fixed bad javascript on configuration page that could result in the config page not loading</li></ul><p>Version 1.2.4 - (Mar 24, 2011)</p><ul><li>added &quot;Poll only on Master&quot; option for distributed build environments (<a href="https://issues.jenkins-ci.org/browse/JENKINS-9067">JENKINS-9067</a>)</li><li>fixed NPE when wiping out workspace using the jenkins UI (<a href="https://issues.jenkins-ci.org/browse/JENKINS-9022">JENKINS-9022</a>)</li><li>refactored the way user IDs are stored in order to support email retreival for oddly formatted user names (ie. domain\user) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8987">JENKINS-8987</a>)</li><li>refactored polling to use configured nodes without needing online workspaces. It will now fall back to polling on the master if none are available (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8173">JENKINS-8173</a>)</li><li>changed hostname retrieval to use the more reliable function provided by jenkins</li></ul><p>Version 1.2.3 - (Mar 1, 2011)</p><ul><li>strip quotes from View Mask entries to prevent issues on the command line (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8731">JENKINS-8731</a>)</li><li>add error logging and detection for file-specific sync errors (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8840">JENKINS-8840</a>)</li><li>add ability to clean .repository for every build (by popular demand) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7182">JENKINS-7182</a>) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8211">JENKINS-8211</a>)</li></ul><p>Version 1.2.2 - (Feb 21, 2011)</p><ul><li>fixed major problem with client name substitution on slave machines (sorry)</li></ul><p>Version 1.2.1 - (Feb 18, 2011)</p><ul><li>fixed major problem with client name substitution on slave machines</li></ul><p>Version 1.2.0 - (Feb 11, 2011)</p><ul><li>be more aggressive with closing pipes</li><li>adding Disable Syncing Only option (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8260">JENKINS-8260</a>)</li><li>added exclude users and exclude files polling options</li><li>fixed potential issue where &quot;Enter Password:&quot; could be used as the perforce ticket in certain circumstances</li><li>changed branding to consider Hudson-&gt;Jenkins rename</li><li>allow changeset number to decrease between builds (in case of forced builds, or p4 server rebuild)</li><li>added log filtering for p4 sync, which should prevent out of memory issues during large syncs (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2142">JENKINS-2142</a>)</li></ul><p>Version 1.1.14 - (Jan 6, 2011)</p><ul><li>adding p4 response output when some more obscure parsing errors occur (<a href="https://issues.jenkins-ci.org/browse/JENKINS-8409">JENKINS-8409</a>)</li><li>don't launch a new build when polling when the client-workspace is 'new'. this should avoid continuous building when using the broken remoting api in hudson (for hudson versions &gt;= 1.378)</li><li>first release from github!</li></ul><p>Version 1.1.13 - (Dec 7, 2010)</p><ul><li>added another partial fix for intermittent connection issues in hudson &gt;=1.378 (thanks Kohsuke!) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7664">JENKINS-7664</a>)</li></ul><p>Version 1.1.12 - (Nov 18, 2010)</p><ul><li>added a partial fix for intermittent connection issues in hudson &gt;=1.378 (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7664">JENKINS-7664</a>)</li></ul><p>Version 1.1.11 - (Oct 29, 2010)</p><ul><li>skip Maven private .repository directory when wiping out the workspace. More appropriate fix for this should be coming eventually. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7182">JENKINS-7182</a>)</li><li>use changelist number instead of revision number when loading links to fisheye for file diffs (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7747">JENKINS-7747</a>)</li><li>make P4PASSWD environment variable (if enabled) always contain the password, instead of defaulting to the p4 ticket when it's available. Also added P4TICKET environment variable for those who need the ticket instead. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7757">JENKINS-7757</a>)</li></ul><p>Version 1.1.10 - (Oct 6, 2010)</p><ul><li>fixed issue with changeset parsing when comments contained certain reserved phrases (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7679">JENKINS-7679</a>)</li><li>changed polling logic to fall back to another available node when the last one used to build is unavailable. only applies to workspaces names that are constant across slaves (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7665">JENKINS-7665</a>)</li><li>fixed parsing issue when labelling using client specs from perforce, ie. when hudson is not set to manage the workspace. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7642">JENKINS-7642</a>)</li><li>removed noisy logging from requiresWorkspaceForPolling function (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7622">JENKINS-7622</a>)</li></ul><p>Version 1.1.9 - (Sep 29, 2010)</p><ul><li>fixed problem where polling will not work on slaves when using client name substitutions (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7610">JENKINS-7610</a>)</li><li>fixed empty dropdown menu for line endings option when creating new jobs (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7606">JENKINS-7606</a>)</li><li>added better error messages when user fails to create a workspace for hudson when hudson isn't set to manage it on it's own (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7555">JENKINS-7555</a>)</li><li>fixing NPE when labelling a build that isn't configured to let hudson manage the client workspace (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7558">JENKINS-7558</a>)</li></ul><p>Version 1.1.8 - (Sep 22, 2010)</p><ul><li>adding support for client mappings of the form //depot/... &quot;//workspace/...&quot; in order to allow spaces in the workspace path when they don't exist in the depot path. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7496">JENKINS-7496</a>)</li></ul><p>Version 1.1.7 - (Sep 16, 2010)</p><ul><li>work around to prevent the job history plugin from recording a change in the perforce configuration when none has been made (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6994">JENKINS-6994</a>)</li><li>adding automatic labeling functionality (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7301">JENKINS-7301</a>)</li></ul><p>Version 1.1.6 - (Sep 7, 2010)</p><ul><li>adding parameter substitution support for p4Client (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7011">JENKINS-7011</a>)</li><li>trim whitespace from all config fields (<a href="https://issues.jenkins-ci.org/browse/JENKINS-7290">JENKINS-7290</a>)</li></ul><p>Version 1.1.5 - (Aug 23, 2010)</p><ul><li>making changeLogFilename transient so it doesn't pollute the config.xml with unneeded parameters (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6994">JENKINS-6994</a>)</li><li>perform a force sync or clean workspace when P4FORCESYNC or P4CLEANWORKSPACE parameters are set to true respectively (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6526">JENKINS-6526</a>)</li></ul><p>Version 1.1.4 - (July 2, 2010)</p><ul><li>Fixed an issue with file and diff links when using fisheye. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6911">JENKINS-6911</a>)</li><li>Added changeNumber and changeTime to the xml api output for builds. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6836">JENKINS-6836</a>)</li><li>Reverting hack to prevent polling from running when a job has just been copied, but not yet configured. This is handled by hudson core now. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5975">JENKINS-5975</a>)</li></ul><p>Version 1.1.3 - (Jun 14, 2010)</p><ul><li>Fixed an NPE during polling. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6762">JENKINS-6762</a>)</li></ul><p>Version 1.1.2 - (Jun 11, 2010)</p><ul><li>Added support for parameter substitution in view spec during polling. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6696">JENKINS-6696</a>)</li><li>Fixed a case when using view masks for polling that may cause builds to run continuously. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6576">JENKINS-6576</a>)</li><li>Adding support for parameter substitution in the view mask.</li></ul><p>Version 1.1.1 - (Jun 2, 2010)</p><ul><li>Added IMPORT as a valid perforce change during changelog parsing. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6686">JENKINS-6686</a>)</li></ul><p>Version 1.1.0 - (May 21, 2010)</p><ul><li>Fixed issue with polling and distributed builds. Thanks martinfr62! (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6575">JENKINS-6575</a>)</li><li>Added parameter substitutions on base client name. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6519">JENKINS-6519</a>)</li><li>Made the plugin always clear the Host: field in the client spec for shared clients. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6412">JENKINS-6412</a>)</li><li>Limit number of changesets pulled on the first run of a job (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6391">JENKINS-6391</a>)</li><li>Prevent builds from getting triggered by polling when the job has never run before (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5975">JENKINS-5975</a>)</li><li>Updated documentation (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6304">JENKINS-6304</a>)</li></ul><p>Version 1.0.29 - (Apr 19, 2010)</p><ul><li>Fixed potential problem where a job with client updating disabled will always force sync if the client workspace root is different.</li><li>Added some logging in the event the remote call for determining the slave hostname fails. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6257">JENKINS-6257</a>)</li><li>Added option to poll and/or sync a subset of depot paths in a job (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2926">JENKINS-2926</a>)</li><li>Added options for P4CHARSET and P4COMMANDCHARSET (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6284">JENKINS-6284</a>)</li></ul><p>Version 1.0.28 - (Apr 9, 2010)</p><ul><li>Fixed issue with LineEnd option getting set to 'null'. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6173">JENKINS-6173</a>)</li><li>Added code to trigger force-sync when job workspace root is changed in the project configuration. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6219">JENKINS-6219</a>)</li></ul><p>Version 1.0.27 - (Apr 5, 2010)</p><ul><li>Added line endings option to select the LineEnd field used by the client workspace. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6074">JENKINS-6074</a>)</li><li>Added some processing to the client root to avoid things like double slashes.</li><li>Added error handling to perforcemailresolver to avoid error when running the build for the first time. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6079">JENKINS-6079</a>)</li><li>Made force syncing optional (but highly recommended) for matrix builds.</li></ul><p>Version 1.0.26 - (Mar 25, 2010)</p><ul><li>Fixed build issue with unix slaves that don't have hostnames properly defined.</li><li>Fixed problem with workspace paths that contain single-character path elements (<a href="https://issues.jenkins-ci.org/browse/JENKINS-6064">JENKINS-6064</a>).</li><li>Adding support for changeset links to p4web.</li></ul><p>Version 1.0.25 - (Mar 20, 2010)</p><ul><li>Changed polling code so that it won't trigger a build if the job has never been run before. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5975">JENKINS-5975</a>).</li><li>Adding code to clear the P4CONFIG environment variable before executing any operations on the node. This should alleviate issues with config files interfering with the hudson perforce config. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4595">JENKINS-4595</a>)</li><li>Removed &quot;do not rename workspace&quot; option and replaced it with a formatted string to allow for more robust customization of the client workspace name on slaves.</li><li>Added the environment variable HUDSON_CHANGELOG_FILE that contains the location of the changelog xml, so builds with custom sync logic can modify it.</li><li>Added advanced option to disable syncing (for builds that need custom syncing logic in scripts)</li><li>Added advanced option for disabling client updating entirely (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5841">JENKINS-5841</a>).</li></ul><p>Version 1.0.24 - (Mar 12, 2010)</p><ul><li>Changed the automatically generated client name for slaves to use the hashcode of the slave name instead of the hostname, so that hosts running multiple slaves can sync correctly (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5917">JENKINS-5917</a>).</li><li>Fixed an issue where polling wouldn't work correctly if the client spec was recently changed (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5915">JENKINS-5915</a>).</li><li>Made matrix/multiconfiguration builds always force sync in order to overcome client workspace consistency issues.</li><li>Improved the readability of the online configuration help.</li><li>Added option to clean the entire workspace and resync before every build (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5182">JENKINS-5182</a>).</li><li>Fixed possible issue during build tagging when depot view contains spaces.</li><li>Fixed possible NPE that can occur during build tagging.</li></ul><p>Version 1.0.23 - (Mar 5, 2010)</p><ul><li>Adding support for parameters to the View and Label configuration fields. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5690">JENKINS-5690</a>) Users can now use ${PARAMNAME} to substitute values into the View and Label fields. If substitutions are present, however, polling will be disabled.</li><li>Fixed form validation false negatives when using certain browsers. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5849">JENKINS-5849</a>).</li><li>Added support for &quot;Wipe Out Workspace&quot; and added new &quot;Always Force Sync&quot; option. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5182">JENKINS-5182</a>).</li><li>Reverted form validation change (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5342">JENKINS-5342</a>). A better solution is in the works.</li><li>Added logger to PerforceMailResolver</li></ul><p>Version 1.0.22 - (Feb 27, 2010)</p><ul><li>Adding error reporting when 'Request too large' problems occur during changeset population and syncing.</li><li>Changed form validation to recognise depot-only view lines as being invalid to avoid confusion (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5343">JENKINS-5343</a>).</li><li>Applying fix provided by avolanis to resolve issue when using counters in downstream builds that are triggered by polling.</li></ul><p>Version 1.0.21 - (Feb 19, 2010)</p><ul><li>Adding additional logging for the email resolver to help troubleshoot issues some are having.</li><li>Added a retry to the email resolver commands.</li><li>Fixed an issue with the email resolver when running a linux slave on a windows master and vice versa (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5403">JENKINS-5403</a>)</li></ul><p>Version 1.0.20 - (Feb 16, 2010)</p><ul><li>Fixing major regression in change polling. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5644">JENKINS-5644</a>) This reverts the change put in place for (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5545">JENKINS-5545</a>).</li></ul><p>Version 1.0.19 - (Feb 13, 2010)</p><ul><li>Fixed issue with p4 executable config parameter not being used properly for all perforce operations (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5506">JENKINS-5506</a>)</li><li>Changed requiresWorkspaceForPolling to allow polling to take place during a build (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5545">JENKINS-5545</a>)</li><li>Removed deprecated call to AbstractProject.getWorkspace</li><li>Added sanity check to cause perforce commands to fail immediately if the executable path doesn't point to an executable (used to cause hang on windows)</li><li>Added code that tries to clean-up pipes after a failure described above.</li><li>Added extra checking and robustness to perforcemailresolver to try and address issues people are having with email resolution.</li></ul><p>Version 1.0.18 - (Feb 1, 2010)</p><ul><li>Fixed issue with P4CLIENT environment variable passing in wrong value on slave machines. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5332">JENKINS-5332</a>)</li><li>Adding '@' to revision field in labels during label generation. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5398">JENKINS-5398</a>)</li><li>Added the ability to sync an entire build stream to a single changeset. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4603">JENKINS-4603</a>)</li><li>Added an option to pass the perforce password into the environment as P4PASSWD.</li><li>Fixed a minor login bug in the tek42 perforce api.</li><li>Fixed an issue where the full path to the p4 executable was not being used in the tek42 perforce api.</li></ul><p>Version 1.0.17 - (Jan 20, 2010)</p><ul><li>Fixed minor bug with changelog items not saving correctly (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5217">JENKINS-5217</a>)</li><li>Replaced sun base64 encoder/decoder classes with apache commons codec (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4446">JENKINS-4446</a>)</li><li>Fixed setting of P4CLIENT in the build environment variables (<a href="https://issues.jenkins-ci.org/browse/JENKINS-5317">JENKINS-5317</a>)</li></ul><p>Version 1.0.16 - (Jan 4, 2010)</p><ul><li>added common p4 variables to the build environment: P4PORT, P4USER, P4CLIENT</li><li>Cleaned up view mapping regular expressions, and how they were used to parse and check views.</li><li>Added automatic workspace path inference for the most common 1:1 depot:workspace paths.</li><li>Removed p4 retry loop since Hudson now has global SCM retry support.</li><li>Removed the p4java jar from the deps in the pom since it is not yet used by this version in the trunk.</li><li>(some of these may have been released in 1.0.15)</li></ul><p>Version 1.0.15 - (Nov 19, 2009)</p><ul><li>Reorganized the config controls for the Perforce plugin to gather most of the options into<br/>main groups of Setup, Depot and Project.</li><li>Updated the help as well.</li><li>Included P4Java jar in deps (unused for now)</li><li>Applied the patch provided by jmax01, to add new enum values for MOVE/ADD MOVE/DELETE operations (<a href="https://issues.jenkins-ci.org/browse/JENKINS-4425">JENKINS-4425</a>)</li><li>Removed 'depot' instance variable that was being modified by multiple threads simultaneously, this allows perforce commands to be issued from the correct slave nodes.</li><li>Changed master matrix job to not alter the perforce client root, so that the child matrix job would get the update. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-1022">JENKINS-1022</a>)</li></ul><p>Version 1.0.14 - (July ?, 2009)</p><ul><li>Added support for managing Perforce workspaces with multiple mappings in the view spec (<a href="https://issues.jenkins-ci.org/browse/JENKINS-3745">JENKINS-3745</a>)</li><li>Perforce user's password is now encrypted (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2499">JENKINS-2499</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-3302">JENKINS-3302</a>)</li><li>Added setting of P4_LABEL environment variable when building from a label (instead of setting P4_CHANGELIST)</li><li>Fixed setting of P4_CHANGELIST environment variable (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2678">JENKINS-2678</a>)</li><li>Fixed several NumberFormatException bugs (<a href="https://issues.jenkins-ci.org/browse/JENKINS-1873">JENKINS-1873</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-1939">JENKINS-1939</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-2424">JENKINS-2424</a>)</li><li>Improved handling of the &quot;First Changelist to Track&quot; setting (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2863">JENKINS-2863</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-2864">JENKINS-2864</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-2973">JENKINS-2973</a>,</li><li>Fixed error in syncing with workspace (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2865">JENKINS-2865</a>)</li></ul><p>Version 1.0.13 - (4/6/2009)</p><ul><li>Fixed the configuration persistence issue (<a href="https://issues.jenkins-ci.org/browse/JENKINS-2288">JENKINS-2288</a>)</li></ul><p>Version 1.0.12 - (5/15/2008)</p><ul><li>Fixed issue: 1163, Sync'ing on Hudson Slaves is now supported. Thanks go to Victor (vicsz).</li><li>Fixed issue: 1681, Labeling builds on JVMs earlier than 1.6 were failing.</li></ul><p>Version 1.0.11 - (4/22/2008)</p><ul><li>Fixed issue: 1313, Sync'ing to Perforce labels is now supported.</li><li>Added enhancement: 1374, Hudson user's email address is retrieved from Perforce user account if it exists.</li></ul><p>Version 1.0.10 - (1/26/2008)</p><ul><li>Fix issues: 1070, 1072, 1073/1100, 1092, 1093<ul><li>Now supports changelists with purged files.</li><li>The current changelist number is available as an enviroment variable: P4_CHANGELIST. Thanks go to Eike and gerhard6.</li><li>Fixed changelist parsing with certain versions of Perforce, thanks go to Kiril.</li><li>Fixed il8n parsing of changelists, thanks go to gerhard6.</li></ul></li><li>Using the latest P4Java version, 0.7.5.</li></ul><p>Version 1.0.4 - (11/13/2007)</p><ul><li>Support for polling/sync'ing with multiple views in a single workspace</li><li>Uses new P4Java version that supports Perforce security level 3</li><li>Fixed issue when prior build does not have any changes</li></ul><p>Version 1.0.3 - (10/26/2007)</p><ul><li>Fixed issue where the last sync'd changelist would be lost on a restart of Hudson. This resulted in the next build after a restart being marked as containing all prior changes.</li><li>Fixed issue with improper XML encoding of changelist history.</li><li>Fixed issue with invalid characters in XML of changelist history.</li><li>Fixed issue where a manual build would always be marked as failed if there were no new changes present.</li><li>Changed validation to allow project paths that start with something other than //depot/</li><li>Fixed problem with changelist icons not showing up on unix systems.</li><li>Fixed NPE on first build of a new project</li><li>Added ability to specify first change to record history from</li><li>Added ability to use workspace with custom views specified by end user.</li></ul><p>Version 1.0 - (10/09/2007)</p><ul><li>Support for repository browsing with P4Web and Fisheye</li><li>Support for tagging of builds (Referred to as Labels in Perforce, so that is what is used in the plugin)</li><li>Support for doing a force sync to head (allowing Hudson to bring down all project files)</li><li>Perforce security level 3 is supported on unix systems. Windows currently requires a workaround.</li><li>Fixed bug on unix systems where workspace root was incorrect.</li><li>Validation of Perforce settings is now done on configuration page.</li><li>The Perforce workspace (clientspec) descriptions are no longer lost after a build.</li></ul><p>Version 0.9 - (10/04/2007)</p><ul><li>Production ready release. Includes support for displaying change history. Perforce specific details, such as Jobs, are included in reporting.</li></ul><p>Version 0.5 - (9/29/2007)</p><ul><li>Initial release. Includes support for polling and synchronizing. Repository browsing and latest changes still to come.Â </li></ul><h1 id="PerforcePlugin-Disclaimer">Disclaimer</h1><p><strong>As mentioned above, do NOT use the wiki comments to ask for support!</strong> If you have a question, you should ask the mailing list or the irc channel. You should also check the list of open issues on the issue tracker. Failing that, you can contact rpetti directly for assistance.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3080249.gif">tutorial-choose-scm.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3080253.gif">tutorial-perforce-config.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3080251.gif">tutorial-poll.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3080252.gif">tutorial-polling-log.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3080254.gif">tutorial-perforce-config.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/42631294.gif">tutorial-perforce-config.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3473422.png">tutorial-label-build.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/38371341.bmp">perforce_plugin_err.bmp</a> (image/bmp)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/42631379.gif">tutorial-perforce-config.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/42631352.jpg">exclude.JPG</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/3080250.gif">tutorial-perforce-config.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/44564497.png">p4ws.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/57409801.png">Diagram1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/58196059.jpg">jenkins_p4_config.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2916615/63275069.png">perforce.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:37</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
