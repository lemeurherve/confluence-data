<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Typetalk Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Typetalk Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (ikikko)</span>, last modified by <span class='editor'> Unknown User (is2ei)</span> on Sep 26, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Typetalk <a href="https://plugins.jenkins.io/typetalk" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
<p>This is a Jenkins plugin which works with <a href="https://www.typetalk.com/" class="external-link" rel="nofollow">Typetalk</a>. Typetalk is a chat tool provided by <a href="http://nulab-inc.com/" class="external-link" rel="nofollow">Nulab</a>.</p><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631022897997 {padding: 0px;}
div.rbtoc1631022897997 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631022897997 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631022897997'>
<ul class='toc-indentation'>
<li><a href='#TypetalkPlugin-Feature'>Feature</a>
<ul class='toc-indentation'>
<li><a href='#TypetalkPlugin-SendnotificationtoTypetalk'>Send notification to Typetalk</a></li>
<li><a href='#TypetalkPlugin-OperateJenkinsfromTypetalk'>Operate Jenkins from Typetalk</a></li>
</ul>
</li>
<li><a href='#TypetalkPlugin-Configuration'>Configuration</a>
<ul class='toc-indentation'>
<li><a href='#TypetalkPlugin-Globalconfiguration'>Global configuration</a></li>
<li><a href='#TypetalkPlugin-Jobconfiguration'>Job configuration</a></li>
</ul>
</li>
<li><a href='#TypetalkPlugin-History'>History</a>
<ul class='toc-indentation'>
<li><a href='#TypetalkPlugin-Version1.3.0(Dec29,2017)'>Version 1.3.0 (Dec 29, 2017)</a></li>
<li><a href='#TypetalkPlugin-Version1.2.0(Mar14,2017)'>Version 1.2.0 (Mar 14, 2017)</a></li>
<li><a href='#TypetalkPlugin-Version1.1.0(Feb25,2015)'>Version 1.1.0 (Feb 25, 2015)</a></li>
<li><a href='#TypetalkPlugin-Version1.0.0(May12,2014)'>Version 1.0.0 (May 12, 2014)</a></li>
<li><a href='#TypetalkPlugin-Version0.9.1(Feb3,2014)'>Version 0.9.1 (Feb 3, 2014)</a></li>
</ul>
</li>
</ul>
</div></p><hr/><h1 id="TypetalkPlugin-Feature">Feature</h1><h2 id="TypetalkPlugin-SendnotificationtoTypetalk">Send notification to Typetalk</h2><p>You can send notification to Typetalk when the following build events occur</p><ul><li>when build starts / ends</li><li>when build fails</li></ul><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/72614013.png" data-image-src="attachments/71435781/72614013.png" data-unresolved-comment-count="0" data-linked-resource-id="72614013" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="post_typetalk.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><h2 id="TypetalkPlugin-OperateJenkinsfromTypetalk">Operate Jenkins from Typetalk</h2><p>You can operate Jenkins by mentioning to a bot in Typetalk and this enables you to do ChatOps. If you can understand Japanese, Refer to <a href="http://nulab-inc.com/ja/blog/typetalk/chatops-without-programming" class="external-link" rel="nofollow">this blog entry</a> for more details.</p><p>This plugin provides some features, like build/list projects.</p><h3 id="TypetalkPlugin-Buildproject">Build project</h3><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/76054609.gif" data-image-src="attachments/71435781/76054609.gif" data-unresolved-comment-count="0" data-linked-resource-id="76054609" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="chatops-build_en.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><h3 id="TypetalkPlugin-Listprojects">List projects</h3><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/76054610.gif" data-image-src="attachments/71435781/76054610.gif" data-unresolved-comment-count="0" data-linked-resource-id="76054610" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="chatops-list_en.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><h3 id="TypetalkPlugin-Showhelpmessages">Show help messages</h3><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/76054611.gif" data-image-src="attachments/71435781/76054611.gif" data-unresolved-comment-count="0" data-linked-resource-id="76054611" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="chatops-help_en.gif" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><hr/><h1 id="TypetalkPlugin-Configuration">Configuration</h1><h2 id="TypetalkPlugin-Globalconfiguration">Global configuration</h2><p>At first, you must add credential to access Typetalk in the global configuration page.</p><p>How to configure credentials:</p><ol><li><a href="https://typetalk.in/my/develop/applications/register" class="external-link" rel="nofollow">Register a new application</a> via the Typetalk Developer Application Page. Choose 'Client Credentials' in 'Grant Type'. Other items are optional.</li><li>Input the 'Client ID' and 'Client Secret' displayed on the registration page. Input any value in 'Name'.</li></ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/71696516.png" data-image-src="attachments/71435781/71696516.png" data-unresolved-comment-count="0" data-linked-resource-id="71696516" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="global_configuration.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><h2 id="TypetalkPlugin-Jobconfiguration">Job configuration</h2><h3 id="TypetalkPlugin-BuildEnvironment">Build Environment</h3><p>In this section, you can configure notifications about starting/ending build.<br/> You can also change notification message as you like.</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/72614010.png" data-image-src="attachments/71435781/72614010.png" data-unresolved-comment-count="0" data-linked-resource-id="72614010" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="build_environment.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><h3 id="TypetalkPlugin-Post-buildActions">Post-build Actions</h3><p>In this section, you can configure notifications about build results.<br/> The notifications are sent when the build doesn't succeed and recovers.</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/71435781/72614012.png" data-image-src="attachments/71435781/72614012.png" data-unresolved-comment-count="0" data-linked-resource-id="72614012" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="post_build_actions.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71435781" data-linked-resource-container-version="20"></span></p><h3 id="TypetalkPlugin-Pipelinestep">Pipeline step</h3><p>You can use typetalk step in your pipeline as well as a classic style job.</p><p>When you want to notify a build result, you can use 'typetalkSend' step with 'catchError'.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: groovy; gutter: false; theme: Confluence" data-theme="Confluence">node {
    catchError {
        sh &#39;might fail&#39;
    }
    typetalkSend name: &#39;ikikko test&#39;, topicId: 9260
}</pre>
</div></div><p>You can also notify an event which starts and/or ends with 'withTypetalk' step.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: groovy; gutter: false; theme: Confluence" data-theme="Confluence">withTypetalk(name: &#39;ikikko test&#39;, notifyEnd: true, notifyEndMessage: &#39;&#39;, notifyStart: true, notifyStartMessage: &#39;&#39;, topicId: 9260) {
    // some block
}</pre>
</div></div><p><span style="color: rgb(210,73,57);font-size: 20.0px;">Notification URL</span></p><p>In order to operate Jenkins from Typetalk, you should set a certain endpoint to Typetalk bot in a topic.</p><h3 id="TypetalkPlugin-BotforallJenkinsprojects">Bot for all Jenkins projects</h3><p>This plugin provides the following endpoint to receive message from Typetalk. You have to set it to a webhook URL of Typetalk bot. See <a href="http://developer.nulab-inc.com/docs/typetalk/webhook" class="external-link" rel="nofollow">the official document</a> for more.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>http://&lt;Jenkins URL&gt;/typetalk/notify
</pre>
</div></div><p>Then, you can operate Jenkins by mentioning to the bot as follows:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>@jenkins+ build &lt;project&gt; (&lt;key=value&gt;)
@jenkins+ list (&lt;regexp filter&gt;)
@jenkins+ help (&lt;sub command&gt;)
</pre>
</div></div><p>In this case, @jenkins+ is your bot name here.</p><h3 id="TypetalkPlugin-BotforasingleJenkinsproject">Bot for a single Jenkins project</h3><p>By adding project name as a parameter of webhook URL,</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>http://&lt;Jenkins URL&gt;/typetalk/notify?project=&lt;project&gt;
</pre>
</div></div><p>then you can omit the name when mentioning to Typetalk bot like this.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>@jenkins-project+
@jenkins-project+ build (&lt;key=value&gt;)
</pre>
</div></div><hr/><h1 id="TypetalkPlugin-History">History</h1><h2 id="TypetalkPlugin-Version1.3.0(Dec29,2017)">Version 1.3.0 (Dec 29, 2017)</h2><ul><li>Fix POST to /typetalk/notify with CSRF protection</li></ul><h2 id="TypetalkPlugin-Version1.2.0(Mar14,2017)">Version 1.2.0 (Mar 14, 2017)</h2><ul><li>Support pipeline</li></ul><h2 id="TypetalkPlugin-Version1.1.0(Feb25,2015)">Version 1.1.0 (Feb 25, 2015)</h2><ul><li>Add &quot;operation from Typetalk&quot; features</li></ul><h2 id="TypetalkPlugin-Version1.0.0(May12,2014)">Version 1.0.0 (May 12, 2014)</h2><ul><li><p>v1 release</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>'Notify When Success' in Post-build Actions section is removed.<br/> If you use it, please 'Notify end' in Build Environment section instead of it.</p></div></div></li></ul><h2 id="TypetalkPlugin-Version0.9.1(Feb3,2014)">Version 0.9.1 (Feb 3, 2014)</h2><ul><li>Initial release ( not finished i18n )</li></ul>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/72614011.png">global_configuration.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/71696517.png">job_configuration.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/72614014.png">build_environment.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/71696516.png">global_configuration.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/72614012.png">post_build_actions.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/72614013.png">post_typetalk.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/72614010.png">build_environment.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054780.gif">chatops-build_en.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054783.gif">chatops-list_en.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054782.gif">chatops-help_en.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054781.gif">chatops-build_en.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054609.gif">chatops-build_en.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054611.gif">chatops-help_en.gif</a> (image/gif)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/71435781/76054610.gif">chatops-list_en.gif</a> (image/gif)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:54</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
