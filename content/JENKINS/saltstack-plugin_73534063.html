<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : saltstack-plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : saltstack-plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (mchugh19)</span>, last modified on Sep 05, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> No information for the plugin 'saltstack-plugin' is available. It may have been removed from distribution. </p></td>
</tr>
</tbody></table>

<p>
<p>This plugin sends a SaltStack API message as a build step</p>
<br class="atl-forced-newline"/></p>

<p><span style="color: rgb(210,73,57);"><strong>Screenshot</strong></span> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource confluence-content-image-border" src="https://raw.githubusercontent.com/jenkinsci/saltstack-plugin/master/docs/jenkins-config.png" data-image-src="https://raw.githubusercontent.com/jenkinsci/saltstack-plugin/master/docs/jenkins-config.png"></span></p>

<h1 id="saltstack-plugin-Basicusage">Basic usage</h1>


<h5 id="saltstack-plugin-Components">Components</h5>

<p>Installing this plugin contributes following:</p>
<ul>
	<li><strong>Send a message to Salt API</strong> - Build step</li>
</ul>


<h5 id="saltstack-plugin-Configuration">Configuration</h5>

<p>Simply fill out the connection details</p>

<h5 id="saltstack-plugin-Building">Building</h5>

<p>The <strong>Build debian package</strong> step has a main configuration parameter &quot;Path to 'debian' catalog&quot; that should point to a catalog that contains <strong>debian</strong> catalog.</p>

<p>For example, if checkout has structure like <strong>$WORKSPACE/myproject/util/debian/</strong> you should use <strong>myproject/util</strong> as a configuration value.</p>

<p>By default, the build step will install all the requirements on its own, use <strong>pbuilder-satisfy-depends</strong> to install build-deps of a package and then use <strong>debuild</strong> to actually build package.</p>

<p>The package <strong>.deb</strong> will be added as a build artifact and badge with a version per backage built will be applied to the build:</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="plugins/servlet/confluence/placeholder/unknown-attachment" title="DPB_BH.png"></span></p>

<h5 id="saltstack-plugin-Publishing">Publishing</h5>

<p>The <strong>Publish debian packages</strong> post-build step uses <strong>debrealease</strong> to publish package and according .changes to the selected repository. The <strong>dupload.conf</strong> will be automatically generated with configured GPG account data and used keys.</p>

<h5 id="saltstack-plugin-Automaticversionmanipulation">Automatic version manipulation</h5>

<p>Plugin is capable of automatically starting new package version upon build, recording recent changes and commiting it back to SCM.</p>

<p>However, the only supported SCM so far is Subversion due to the absence of commit capabilities in Jenkins SCM core classes.</p>

<p>To use it, check the &quot;Generate changelog&quot; box on the build step and &quot;Commit changes back to repository&quot; on the post-build step.</p>

<p>Upon build, it will:</p>
<ul>
	<li>start a new version, increasing last numeric component of version by 1 – i.e. version <strong>1.2.8</strong> will become <strong>1.2.9</strong>;</li>
	<li>if SCM is SVN, append revision number to the version number in form of '1.2.r12345', where 12345 is the revision;</li>
	<li>record all the changes – from SVN revision history, starting from last recorded revision, or from Jenkins build history – to <strong>debian/changelog</strong> of a new version via <strong>dch</strong>;</li>
</ul>


<p>To better handle failed builds, use 'Checkout fresh copy' SVN option (or similar for other SCM).</p>

<h1 id="saltstack-plugin-Knownissues">Known issues</h1>

<p>None at this time</p>

<h1 id="saltstack-plugin-Changelog">Changelog</h1>


<h4 id="saltstack-plugin-Version1.0(Sep4,2014)">Version 1.0 (Sep 4, 2014)</h4>

<ul>
	<li>Initial Version</li>
</ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:44</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
