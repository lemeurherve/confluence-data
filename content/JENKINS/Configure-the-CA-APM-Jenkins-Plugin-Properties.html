<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Configure the CA APM Jenkins Plugin Properties</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                    <li>
                                <span><a href="DX-APM-Jenkins-Plugin.html">DX APM Jenkins Plugin</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Configure the CA APM Jenkins Plugin Properties
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (pramodanarase)</span>, last modified on Apr 05, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><br/></p><p>Configure the following required inputs to run the plugin. The sample configuration file is at the <code>&lt;Downloaded_Plugin_Package&gt;\properties</code> directory.</p><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631020917882 {padding: 0px;}
div.rbtoc1631020917882 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631020917882 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631020917882'>
<ul class='toc-indentation'>
<li><a href='#ConfiguretheCAAPMJenkinsPluginProperties-ConfigureAPMRESTAPI'>Configure APM REST API</a></li>
<li><a href='#ConfiguretheCAAPMJenkinsPluginProperties-ConfigureAPMConnection'>Configure APM Connection</a></li>
<li><a href='#ConfiguretheCAAPMJenkinsPluginProperties-ConfigureStrategiesInformation'>Configure Strategies Information</a></li>
<li><a href='#ConfiguretheCAAPMJenkinsPluginProperties-CommonConfiguration'>Common Configuration</a></li>
</ul>
</div></p><h2 id="ConfiguretheCAAPMJenkinsPluginProperties-ConfigureAPMRESTAPI">Configure APM REST API</h2><p>Set value of introscope.public.restapi.enabled property to true In <code>IntroscopeEnterpriseManager.properties</code> file that is located in the <code>&lt;EM_HOME&gt;\config</code> folder.</p><h2 id="ConfiguretheCAAPMJenkinsPluginProperties-ConfigureAPMConnection">Configure APM Connection</h2><p>The APM Connection property lets you fetch performance metrics from CA APM. Modify the CA APM connection configuration section in the <code>performance-comparator.properties</code> file.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">############################
#em configuration
############################
#url of enterprise manager. e.g.http://dafth03-i19470.ca.com:8081/
em.url=
#security token generated through the securitytoken feature of em., e.g 386deb23-404f-4e75-807d-06e2195310c0
em.authtoken=
#timezone of enterprise manager. e.g.UTC 
em.timezone=
#webview port of em. e.g. 8080
em.webview.port=</pre>
</div></div><p><br/></p><p>Depending on the environment (on-prem or SaaS) in which your Enterprise Manager is hosted, the port number can be different. The authtoken is the system token (no public tokens) generated by the APM administrator.</p><h2 id="ConfiguretheCAAPMJenkinsPluginProperties-ConfigureStrategiesInformation">Configure Strategies Information</h2><p>Configuring the strategies lets you do the following tasks:</p><ul><li>List the strategies with which the two builds are compared</li><li>Map the properties that are associated with each strategy with respective output handlers</li><li>List the Output handlers</li><li>Configure Email(outlook/gmail)</li></ul><p>The following code shows the sample of Strategies section of the configuration file:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">########################################################
#default metric comparison strategies : 
#    MeanLatency: compares metric values of current build with the corresponding value of benchmark build
#    StaticThreshold: compares metric values of current build with the threshold value configured for threshold property
########################################################
#list of metrics, e.g. cpu,concurrentinvocations,errorperinterval,gcheap
metric.list=cpu,concurrentinvocations

#MeanLatency Comparison-Strategy
#threshold value, e.g.,2. the build will fail,if the build.fail property value is set true and if the metric&#39;s avg value difference 
#between current and benchmark build cross this value
cpu.threshold=1
#agent name of the application,  e.g., .* means any agent
cpu.agentspecifier=.*
#metric path , it will be specific to agent, application. e.g, .*CPU.*Processor 0:Utilization % \\(aggregate\\)
cpu.metricspecifier=.*CPU.*Processor 0:Utilization % \\(aggregate\\)
#comparator class name excluding the &quot;ComparisonStrategy&quot;, e.g., MeanLatency for MeanLatencyComparisonStrategy
cpu.comparator=MeanLatency
#list of output handlers for this strategy. available output handlers : plaintextemail,jsonfilestore,chartoutputhtml,histogramoutputhtml
cpu.outputhandlers=plaintextemail,jsonfilestore,chartoutputhtml,histogramoutputhtml

#StaticThreshold Comparison-Strategy
#threshold value,e.g., 1.  it will be compared with the average value of metric for current  build
concurrentinvocations.threshold=1
#agent name of the application, e.g., .*
concurrentinvocations.agentspecifier=.*
#metric path , it will be specific to agent, application. e.g., .*Business Segment.*Health:Concurrent Invocations
concurrentinvocations.metricspecifier=.*Business Segment.*Health:Concurrent Invocations
#comparator class name excluding the &quot;ComparisonStrategy&quot;, e.g., StaticThreshold for StaticThresholdComparisonStrategy
concurrentinvocations.comparator=StaticThreshold
#list of output handlers for this strategy. available output handlers : plaintextemail,jsonfilestore,chartoutputhtml,histogramoutputhtml
concurrentinvocations.outputhandlers=plaintextemail,jsonfilestore,chartoutputhtml,histogramoutputhtml

###############################################
#default list of outputhandlers
#      plaintextemail: mail will be generated with the report of each metric
#      jsonfilestore : metric values in jsonformat
#      chartoutput : graph representation, 
#      histogramoutputhtml: buildtobuild comparison
#output file for outputhandlers, except plaintextemail, will be in current build directory, inside jenkins workspace folder
###############################################
outputhandlers.list=plaintextemail,jsonfilestore,chartoutputhtml,histogramoutputhtml

#Email Configuration for outlook/gmail
#Valid values for email.mode gmail or outlook
email.mode=
#smtp host for outlook: mail and for gmail: smtp.gmail.com
email.smtp.host=
#flag to authenticate or not valid values : true or false
email.smtp.auth=
#email id of sender e.g, noreply_apm_jenkins@def.com
email.sender.id=
#email password. For gmail password is mandatory field.
email.password=
# to list of email recepients, allows multiple email ids separated by comma (,) . e,g, xyz@ca.com
email.recepients.to=
# cc list of email recepients, allows multiple email ids separated by comma (,) 
email.recepients.cc=
# bcc list of email recepients, allows multiple email ids separated by comma (,) 
email.recepients.bcc=
#gmail specific socket port
email.gmailsocketport=465
#gmail specific smtp port
email.gmailsmtpport=587</pre>
</div></div><h2 id="ConfiguretheCAAPMJenkinsPluginProperties-CommonConfiguration"><br/>Common Configuration</h2><p>You can set the logging level. Specify the directories where the extensions, JARs, and output are available. The files are generated by the plug-in.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">#name of the application for which you run this plugin e.g. Inventory
application.name=

#########################
#Optional properties
#########################
#benchmark build number for comparison, if blank, value will be previous successful build number
build.benchmarkbuildnumber=
#number of builds for buildtobuild chart, max value is 10
histogram.builds=
#flag to make the build fail/pass if the difference of metric average values of current and benchmark build cross 
#the configured threshold value. e.g., true/false, default is true.
build.fail=
#flag to publish the build results to enterprise manager. e.g., true/false, default is false.
build.result.publishtoem= 

#Number of metric values, for each metric, to fetch from EM. Default value is 10
metric.clamp=
#Log level SEVERE &gt; WARNING &gt; INFO &gt; CONFIG &gt; FINE &gt; FINER &gt; FINEST &gt; OFF. 
#Logs can be found at current build directory, inside jenkins workspace folder. default is INFO
logging.level=

#path of jar file for customized strategies.if this folder is empty, extended strategies (in-case) defined in properties won&#39;t be able to execute
#e.g., C:\\APM\\AutomicJenkins\\Jenkins\\Jenkins Server\\extensions\\
extensions.directory=</pre>
</div></div><p><br/></p><p><strong>Note:</strong><span style="color: rgb(51,51,51);"> </span></p><pre>build.jenkins.loadrunnerstage.duration  property value true reads load generator test start/end time durations from jenkins job. If  the load generator configuration in the properties file is not required</pre><p><br/></p><p><br/></p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:21</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
