<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : PeriodicBackup Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : PeriodicBackup Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (dienomight)</span>, last modified by <span class='editor'> Unknown User (oleg_nenashev)</span> on Feb 22, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Periodic Backup <a href="https://plugins.jenkins.io/periodicbackup" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2017-07-10/" class="external-link" rel="nofollow">Missing permission checks and CSRF vulnerability in Periodic Backup Plugin</a></li>
</ul>

</div></div>



<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>This plugin is up for adoption.</strong> Want to help improve this plugin? <a href="/display/JENKINS/Adopt+a+Plugin" title="Adopt a Plugin">Click here to learn more</a>!</p></div></div></p><h2 id="PeriodicBackupPlugin-Description">Description</h2><p>This plugin was created as alternative to existing <a href="Backup-Plugin.html">Backup Plugin</a> that would work periodically.<br/> The main idea was to create a backup plugin that provides an <strong>easy</strong> way to be <strong>extended</strong> with new functionality in the future without the need of hacking around the code.<br/> The plugin defines three extension points (basically plugins inside the plugin):</p><ul><li>FileManager - defines what files should be included in the backup and what will be the restore policy of the files. Example: ConfigOnly - will choose only the configuration XML files from HUDSON_HOME, all the configuration files of each job and the XML of every user if you are using an internal database for access control.</li><li>Storage - specifies method of archiving and unarchiving backups. Example: ZipStorage - will compress backup files into a zip archive.</li><li>Location - specifies localization of the backups. Example: LocalDirectory - will store the backup files inside the specified path.</li></ul><h2 id="PeriodicBackupPlugin-Usage">Usage</h2><ol><li>After installing the plugin and restarting Jenkins, new icon will appear in the <strong>Manage Jenkins</strong> section.<br/> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/57182889/57409737.jpg" data-image-src="attachments/57182889/57409737.jpg" data-unresolved-comment-count="0" data-linked-resource-id="57409737" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="managejenkins.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="57182889" data-linked-resource-container-version="12"></span></li><li>After pressing <strong>Periodic Backup Manager</strong> in the side panel choose <strong>configure</strong> to set up the plugin.<br/> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/57182889/57409739.jpg" data-image-src="attachments/57182889/57409739.jpg" data-unresolved-comment-count="0" data-linked-resource-id="57409739" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="sidepanel.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="57182889" data-linked-resource-container-version="12"></span></li><li>In the configuration page set all the required parameters which are:<ul><li><strong>Temporary Directory</strong> - path to the directory for creating archives during backup, storing archives during restore, and unpacking their content. It is vital for PeriodicBackup that this directory is writable, empty, and outside of the Jenkins home directory.</li><li><strong>Backup schedule (cron)</strong> - schedule following the syntax of cron (with minor differences). Validate cron button may be useful to check if the syntax of the input is correct. More about cron can be found here: <a href="http://adminschoice.com/crontab-quick-reference" class="external-link" rel="nofollow">http://adminschoice.com/crontab-quick-reference</a></li><li><strong>Maximum backups in location</strong> - A number of existing old backups exceeding this value in each location will be deleted after backup.</li><li><strong>Store no older than (days)</strong> - Backups older then number of days specified here will be deleted after backup.</li><li><strong>File Management Strategy</strong> - choose a suitable FileManager and fill in required fields (if any)</li><li><strong>Storage Strategy</strong> - add a suitable Storage(s) and fill in required fields (if any)</li><li><p><strong>Backup Location</strong> - add a suitable Location(s) and fill in required fields (if any)</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Temporary Directory</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Please be aware the using a path <span style="text-decoration: underline;">inside</span> <strong>Temporary Directory</strong> (for example for location like LocalDirectory) will lead to a very bad things (like loss of data).</p></div></div></li></ul></li><li>After setting up all values correctly and pressing <strong>Save</strong> button, configuration will be persisted and user will be redirected to the main page of the plugin. Any backup available for restore will be listed here, and one can navigate here via <strong>Restore</strong> link from the <strong>sidepanel</strong>. The backup will be performed according to the cron schedule or when <strong>Backup Now!</strong> is pressed from the <strong>sidepanel</strong>. A message will be shown on the top of the page as on the picture below.<br/> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/57182889/57409746.jpg" data-image-src="attachments/57182889/57409746.jpg" data-unresolved-comment-count="0" data-linked-resource-id="57409746" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="creatingbackup.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="57182889" data-linked-resource-container-version="12"></span></li><li><p>When the backup is successfully created it will be listed on the web page as on the picture below.<br/> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/57182889/57409747.jpg" data-image-src="attachments/57182889/57409747.jpg" data-unresolved-comment-count="0" data-linked-resource-id="57409747" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newbackup.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="57182889" data-linked-resource-container-version="12"></span><br/> To restore the backup it has to be chosen from the list and the &quot;restore selected backup&quot; button has to be pressed.</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Backup not showed/&quot;Creating backup...&quot;/&quot;Restoring backup...&quot; message does not disappear</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Sometimes the backup will not be shown on the web page just after performing the backup. Also the &quot;Creating backup...&quot;/&quot;Restoring backup...&quot; messages may not disappear from the page when they should. In that case page has to be refreshed or the link to <strong>Restore</strong> has to be pressed in order to show the new backup. This will be fixed in future by a widget informing about the current status of the backup/restore process</p></div></div></li></ol><h2 id="PeriodicBackupPlugin-ChangeLog">Change Log</h2><h4 id="PeriodicBackupPlugin-Version1.5(July10,2017)">Version 1.5 (July 10, 2017)</h4><ul><li><a href="https://jenkins.io/security/advisory/2017-07-10/" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h4 id="PeriodicBackupPlugin-Version1.4(Jun22,2017)">Version 1.4 (Jun 22, 2017)</h4><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-17487" class="external-link" rel="nofollow"><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> JENKINS-17487</a> - Add support of excludes in Full Backup</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-17487" class="external-link" rel="nofollow"><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> </a><a href="https://github.com/jenkinsci/periodicbackup-plugin/pull/10" class="external-link" rel="nofollow">PR #10</a> - Update minimal Jenkins core requirement to 1.609.3</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-25887" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> JENKINS-25887</a> - Do not follow symbolic links when performing Full Backups</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-25887" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> </a><a href="https://issues.jenkins-ci.org/browse/JENKINS-44997" class="external-link" rel="nofollow">JENKINS-44997</a> - Restore the &quot;Restore Backup&quot; button, which was doing nothing in modern Jenkins UIs</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-25887" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> </a><a href="https://github.com/jenkinsci/periodicbackup-plugin/pull/10" class="external-link" rel="nofollow">PR #10</a> - Prevent NullPointerException if an error happens during listing directories</li><li><a href="https://github.com/jenkinsci/periodicbackup-plugin/pull/10" class="external-link" rel="nofollow"><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> PR #10</a> - Internal: Update the release flow, fix generation of the Maven Site, FindBugs cleanup</li></ul><h4 id="PeriodicBackupPlugin-Version1.3(Jan4,2013)">Version 1.3 (Jan 4, 2013)</h4><ul><li>JENKINS-12846: Add support for backing up user XMLs in users folder.</li></ul><h4 id="PeriodicBackupPlugin-Version1.2(Jan3,2013)">Version 1.2 (Jan 3, 2013)</h4><ul><li>JENKINS-13635: TarGzStorage changed to GNU long file mode (long filenames up to 256 chars).</li><li>JENKINS-16223: Update plexus dependencies.</li></ul><h4 id="PeriodicBackupPlugin-Version1.0(Jun3,2011)">Version 1.0 (Jun 3, 2011)</h4><ul><li>Initial release</li></ul>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182889/57409738.jpg">managejenkins.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182889/57409737.jpg">managejenkins.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182889/57409739.jpg">sidepanel.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182889/57409746.jpg">creatingbackup.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182889/57409747.jpg">newbackup.jpg</a> (image/jpeg)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:37</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
