<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Abandoned: Preview for Copy Artifact 2.0</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Copy-Artifact-Plugin.html">Copy Artifact Plugin</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Abandoned: Preview for Copy Artifact 2.0
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (ikedam)</span>, last modified on Oct 29, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This plan is abandoned.</p><p>See <a href="https://groups.google.com/d/msg/jenkinsci-dev/2kbMx_wDSbA/6C0Sr2eVDQAJ" class="external-link" rel="nofollow">https://groups.google.com/d/msg/jenkinsci-dev/2kbMx_wDSbA/6C0Sr2eVDQAJ</a> for more details.</p></div></div><p>Â </p><p>This page explains new features and changes of copyartifact-2.0 I plan.<br/> The work is in progress at <a class="external-link" href="https://github.com/jenkinsci/copyartifact-plugin/pull/71" rel="nofollow">https://github.com/jenkinsci/copyartifact-plugin/pull/71</a> and <a class="external-link" href="https://github.com/ikedam/copyartifact-plugin/tree/feature/JENKINS-24892_CopyArtifact2.0" rel="nofollow">https://github.com/ikedam/copyartifact-plugin/tree/feature/JENKINS-24892_CopyArtifact2.0</a> .</p><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631020740975 {padding: 0px;}
div.rbtoc1631020740975 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631020740975 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631020740975'>
<ul class='toc-indentation'>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Screenshots'>Screenshots</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Purposeofcopyartifact-2.0'>Purpose of copyartifact-2.0</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Problemsincopyartifact-1.x'>Problems in copyartifact-1.x</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Newfeaturesofcopyartifact-2.0'>New features of copyartifact-2.0</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Designofcopyartifact-2.0'>Design of copyartifact-2.0</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Compatibility'>Compatibility</a>
<ul class='toc-indentation'>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Automaticconfigurationmigration'>Automatic configuration migration</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Old-stylebuildselectors'>Old-style build selectors</a></li>
</ul>
</li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Built-inComponentsincopyartifact-2.0'>Built-in Components in copyartifact-2.0</a>
<ul class='toc-indentation'>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-BuildSelector'>Build Selector</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-BuildFilter'>Build Filter</a>
<ul class='toc-indentation'>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-StandardBuildFilter'>Standard Build Filter</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-LogicalBuildFilter'>Logical Build Filter</a></li>
</ul>
</li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-CopyOperation'>Copy Operation</a></li>
</ul>
</li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-IncompatibilitiesandKnownissues'>Incompatibilities and Known issues</a>
<ul class='toc-indentation'>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Incompatibilities'>Incompatibilities</a>
<ul class='toc-indentation'>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Forusers'>For users</a></li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Forpluginsanddevelopers'>For plugins and developers</a></li>
</ul>
</li>
<li><a href='#Abandoned:PreviewforCopyArtifact2.0-Knownissues'>Known issues</a></li>
</ul>
</li>
</ul>
</div></p><h2 id="Abandoned:PreviewforCopyArtifact2.0-Screenshots">Screenshots</h2><ul><li>The configuration page of copyArtifact 1.x (current)<ul><li><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" hspace="20" vspace="20" src="attachments/83362176/83558417.png" data-image-src="attachments/83362176/83558417.png" data-unresolved-comment-count="0" data-linked-resource-id="83558417" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="copyartifact-1.x.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="83362176" data-linked-resource-container-version="8"></span></li></ul></li><li>The configuration page of copyArtifact 2.0 (new)<ul><li><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" hspace="20" vspace="20" src="attachments/83362176/83558418.png" data-image-src="attachments/83362176/83558418.png" data-unresolved-comment-count="0" data-linked-resource-id="83558418" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="copyartifact-2.0.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="83362176" data-linked-resource-container-version="8"></span></li></ul></li></ul><h2 id="Abandoned:PreviewforCopyArtifact2.0-Purposeofcopyartifact-2.0">Purpose of copyartifact-2.0</h2><ul><li>New features breaking compatibilities.<ul><li>There are many issues for copyartifact (<a href="https://issues.jenkins-ci.org/issues/?jql=project%20%3D%20JENKINS%20AND%20status%20in%20%28Open%2C%20%22In%20Progress%22%2C%20Reopened%29%20AND%20component%20%3D%20%27copyartifact-plugin%27" class="external-link" rel="nofollow">JIRA</a>), but it's not easy to fix them without breaking compatibilities.</li></ul></li><li>Easy to extend<ul><li>Introduces more flexible design to make it easy to extend features (that is, extendable without breaking compatibilities)</li></ul></li></ul><h2 id="Abandoned:PreviewforCopyArtifact2.0-Problemsincopyartifact-1.x">Problems in copyartifact-1.x</h2><ul><li>Inconsistent / incomplete permission checks (<a href="https://issues.jenkins-ci.org/browse/JENKINS-28247">JENKINS-28247</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-24888">JENKINS-24888</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-23475">JENKINS-23475</a>)<ul><li>Checks permissions at configuration time when projects are specified without variables.</li><li>Checks permissions at runtime when projects are specified with variables.</li><li>This results following problems:<ul><li>Hard for users to understand the behavior.</li><li>Cannot check permissions for WorkflowJobs.</li><li>Can bypass permission checks using WebAPI / CLI.</li></ul></li><li>Designed like this as legacy Jenkins doesn't provide authorizing mechanisms for builds.</li></ul></li><li>Cannot configure complicated conditions for selecting builds (<a href="https://issues.jenkins-ci.org/browse/JENKINS-28206">JENKINS-28206</a>)<ul><li>Cannot use different selectors together.</li></ul></li><li>Few diagnostic messages (<a href="https://issues.jenkins-ci.org/browse/JENKINS-11336">JENKINS-11336</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-24889">JENKINS-24889</a>)<ul><li>There's no method to invest causes for unexpected behaviors (<a href="https://issues.jenkins-ci.org/browse/JENKINS-16019">JENKINS-16019</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-16139">JENKINS-16139</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-17570">JENKINS-17570</a>).</li></ul></li><li>Doesn't support ArtifactManager (<a href="https://issues.jenkins-ci.org/browse/JENKINS-22637">JENKINS-22637</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-17494">JENKINS-17494</a>)<ul><li>Can copy artifacts only archived with &quot;Archive Artifacts&quot; built in Jenkins core.</li></ul></li><li>Difficult to add new features preserving binary compatibilities.<ul><li>Adding new parameters breaks binary compatibilities.</li><li>There are plugins depending on copyartifact and they gets broken when broken binary compatibilities.</li></ul></li></ul><h2 id="Abandoned:PreviewforCopyArtifact2.0-Newfeaturesofcopyartifact-2.0">New features of copyartifact-2.0</h2><ul><li>Build-filter based configuration (<a href="https://issues.jenkins-ci.org/browse/JENKINS-24890">JENKINS-24890</a>)<ul><li>You can specify additional conditions to builds selected by a build selector.</li><li>You can use multiple filters together.</li><li>This enables you to select a build like this: Latest one that is stable, a downstream of build A, and built with a build parameter P=blahblah...</li></ul></li><li>Fallback build selector (<a href="https://issues.jenkins-ci.org/browse/JENKINS-24886">JENKINS-24886</a>)<ul><li>You can specify to try multiple selectors consequently.</li></ul></li><li>You can select a &quot;Copy Operation&quot; which decides what to do for the selected build.<ul><li>This is introduced as ArtifactManager based on VirtualFile is incompatible with the existing artifact mechanism based on FilePath.</li><li>See <a href="#Abandoned:PreviewforCopyArtifact2.0-CopyOperation">#Copy Operation</a> for details.</li></ul></li><li>More console outputs.<ul><li>Selectors and filters can output console logs.</li><li>You can check &quot;Debug output&quot; to enable diagnostic logs.</li></ul></li></ul><h2 id="Abandoned:PreviewforCopyArtifact2.0-Designofcopyartifact-2.0">Design of copyartifact-2.0</h2><ul><li>Parameter-carrying object (context)<ul><li>Copyartifact-2.0 uses context classes (<a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/CopyArtifactCommonContext.java" class="external-link" rel="nofollow">CopyArtifactCommonContext</a>, <a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/CopyArtifactPickContext.java" class="external-link" rel="nofollow">CopyArtifactPickContext</a>, <a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/CopyArtifactOperationContext.java" class="external-link" rel="nofollow">CopyArtifactOperationContext</a>) to pass parameters to components like build selectors, build filters and copy operations.</li><li>This enables add new parameters in future releases of copyartifact without breaking binary compatibilities.</li></ul></li></ul><h2 id="Abandoned:PreviewforCopyArtifact2.0-Compatibility">Compatibility</h2><h3 id="Abandoned:PreviewforCopyArtifact2.0-Automaticconfigurationmigration">Automatic configuration migration</h3><ul><li>Copyartifact-2.0 tries to interpret and upgrade configurations of copyartifact-1.0 as possible.</li><li><p>Selectors deprecated in copyartifact-2.0 extends <a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/selector/Version1BuildSelector.java" class="external-link" rel="nofollow">Version1BuildSelector</a> and the configuraion will be automatically replaced with a combination of another selector, build filters and copy operations like this:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p>Deprecated selector</p></th><th class="confluenceTh"><p>New selector</p></th><th class="confluenceTh"><p>Filters</p></th><th class="confluenceTh"><p>Copy operation</p></th></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/DownstreamBuildSelector.java" class="external-link" rel="nofollow">DownstreamBuildSelector</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/StatusBuildSelector.java" class="external-link" rel="nofollow">StatusBiuldSelector</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/DownstreamBuildFilter.java" class="external-link" rel="nofollow">DownstreamBuildFilter</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyLegacyArtifactFiles.java" class="external-link" rel="nofollow">CopyLegacyArtifactFiles</a></p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/LastCompletedBuildSelector.java" class="external-link" rel="nofollow">LastCompletedBuildSelector</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/StatusBuildSelector.java" class="external-link" rel="nofollow">StatusBiuldSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyLegacyArtifactFiles.java" class="external-link" rel="nofollow">CopyLegacyArtifactFiles</a></p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/SavedBuildSelector.java" class="external-link" rel="nofollow">SavedBuildSelector</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/StatusBuildSelector.java" class="external-link" rel="nofollow">StatusBiuldSelector</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/SavedBuildFilter.java" class="external-link" rel="nofollow">SavedBuildFilter</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyLegacyArtifactFiles.java" class="external-link" rel="nofollow">CopyLegacyArtifactFiles</a></p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/TriggeredBuildSelector.java" class="external-link" rel="nofollow">TriggeredBuildSelector</a> (without fallback)</p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/selector/TriggeringBuildSelector.java" class="external-link" rel="nofollow">TriggeringBuildSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyLegacyArtifactFiles.java" class="external-link" rel="nofollow">CopyLegacyArtifactFiles</a></p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/TriggeredBuildSelector.java" class="external-link" rel="nofollow">TriggeredBuildSelector</a> (with fallback)</p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/selector/FallbackBuildSelector.java" class="external-link" rel="nofollow">FallbackBuildSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyLegacyArtifactFiles.java" class="external-link" rel="nofollow">CopyLegacyArtifactFiles</a></p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/WorkspaceSelector.java" class="external-link" rel="nofollow">WorkspaceSelector</a></p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/StatusBuildSelector.java" class="external-link" rel="nofollow">StatusBiuldSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyWorkspaceFiles.java" class="external-link" rel="nofollow">CopyWorkspaceFiles</a></p></td></tr></tbody></table></div></li></ul><h3 id="Abandoned:PreviewforCopyArtifact2.0-Old-stylebuildselectors">Old-style build selectors</h3><ul><li>Some plugins provide their own build selectors. Those build selectors are based on the design of copyartifact-1.0.</li><li>Copyartifact-2.0 tries to handle those selectors in the legacy way.</li><li>Though this should work almost all cases as expected, some selectors doesn't work correctly.<ul><li>Especially for a case a selector specifies to copy files from its own source, like WorkspaceSelector. In that case, the plugin should provide its own <a href="#Abandoned:PreviewforCopyArtifact2.0-CopyOperation">Copy Operation</a>.</li></ul></li></ul><h2 id="Abandoned:PreviewforCopyArtifact2.0-Built-inComponentsincopyartifact-2.0">Built-in Components in copyartifact-2.0</h2><h3 id="Abandoned:PreviewforCopyArtifact2.0-BuildSelector">Build Selector</h3><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/BuildSelector.java" class="external-link" rel="nofollow">Build Selector</a></p></th><th class="confluenceTh"><p>New in 2.0</p></th><th class="confluenceTh"><p>Behavior</p></th></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/selector/FallbackBuildSelector.java" class="external-link" rel="nofollow">FallbackBuildSelector</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Tries build selectors (and additional filters) consequently.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/ParameterizedBuildSelector.java" class="external-link" rel="nofollow">ParameterizedBuildSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p>Decides a selector to use at runtime from the build parameter.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/PermalinkBuildSelector.java" class="external-link" rel="nofollow">PermalinkBuildSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p>Specifies a build with a permalink.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/SpecificBuildSelector.java" class="external-link" rel="nofollow">SpecificBuildSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p>Specifies a build with its build number or build name</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/StatusBuildSelector.java" class="external-link" rel="nofollow">StatusBiuldSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p>Selects builds with specific statuses.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/selector/TriggeringBuildSelector.java" class="external-link" rel="nofollow">TriggeringBuildSelector</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p>Selects builds triggering this build (renamed from TriggeredBuildSelector removing its fallbacking behavior.)</p></td></tr></tbody></table></div><h3 id="Abandoned:PreviewforCopyArtifact2.0-BuildFilter">Build Filter</h3><h4 id="Abandoned:PreviewforCopyArtifact2.0-StandardBuildFilter">Standard Build Filter</h4><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/BuildFilter.java" class="external-link" rel="nofollow">Build Filter</a></p></th><th class="confluenceTh"><p>New in 2.0</p></th><th class="confluenceTh"><p>Behavior</p></th></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/DownstreamBuildFilter.java" class="external-link" rel="nofollow">DownstreamBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Accepts builds that are downstream of a specified build.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/NoBuildFilter.java" class="external-link" rel="nofollow">NoBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Accepts any builds. Does nothing and the default filter.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/ParametersBuildFilter.java" class="external-link" rel="nofollow">ParametersBuildFilter</a></p></td><td class="confluenceTd"><p>Â </p></td><td class="confluenceTd"><p>Accepts builds with specified build parameters.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/ParameterizedBuildFilter.java" class="external-link" rel="nofollow">ParameterizedBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Decides a filter to use at runtime from the build parameter.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/SavedBuildFilter.java" class="external-link" rel="nofollow">SavedBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Accepts builds marked &quot;keep forever&quot;. (was SavedBuildSelector)</p></td></tr></tbody></table></div><h4 id="Abandoned:PreviewforCopyArtifact2.0-LogicalBuildFilter">Logical Build Filter</h4><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/BuildFilter.java" class="external-link" rel="nofollow">Build Filter</a></p></th><th class="confluenceTh"><p>New in 2.0</p></th><th class="confluenceTh"><p>Behavior</p></th></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/AndBuildFilter.java" class="external-link" rel="nofollow">AndBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Accepts builds that suffice all of underlying filters.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/NotBuildFilter.java" class="external-link" rel="nofollow">NotBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Reverts the result of another filter.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/filter/AndBuildFilter.java" class="external-link" rel="nofollow">OrBuildFilter</a></p></td><td class="confluenceTd"><p>x</p></td><td class="confluenceTd"><p>Accepts builds that suffice any of underlying filters.</p></td></tr></tbody></table></div><h3 id="Abandoned:PreviewforCopyArtifact2.0-CopyOperation">Copy Operation</h3><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/CopyArtifactOperation.java" class="external-link" rel="nofollow">Copy Operation</a></p></th><th class="confluenceTh"><p>Behavior</p></th></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyArtifactFiles.java" class="external-link" rel="nofollow">Copy artifact files</a></p></td><td class="confluenceTd"><p>copy artifacts from generic ArtifactManager. This doesn't preserver file modes and symbolic links (as VirtualFile doesn't provide that feature). Doesn't support exclude filters.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyLegacyArtifactFiles.java" class="external-link" rel="nofollow">Copy legacy artifact files</a></p></td><td class="confluenceTd"><p>copy artifacts from StandardArtifactManager (works as copyartifact-1.0). This is not exposed in UI. Copy artifact files automatically switches to this internally. Support exclude filters.</p></td></tr><tr><td class="confluenceTd"><p><a href="https://github.com/ikedam/copyartifact-plugin/blob/feature/JENKINS-24892_CopyArtifact2.0/src/main/java/hudson/plugins/copyartifact/operation/CopyWorkspaceFiles.java" class="external-link" rel="nofollow">Copy files from workspace</a></p></td><td class="confluenceTd"><p>copy files from workspace of the selected build (works as WorkspaceSelector in copyartifact-1.0)</p></td></tr></tbody></table></div><h2 id="Abandoned:PreviewforCopyArtifact2.0-IncompatibilitiesandKnownissues">Incompatibilities and Known issues</h2><h3 id="Abandoned:PreviewforCopyArtifact2.0-Incompatibilities">Incompatibilities</h3><h4 id="Abandoned:PreviewforCopyArtifact2.0-Forusers">For users</h4><ul><li>Permission checks are performed only at runtime.<ul><li>Builds may fail if you don't configure appropreate runtime authorizations.</li></ul></li></ul><h4 id="Abandoned:PreviewforCopyArtifact2.0-Forpluginsanddevelopers">For plugins and developers</h4><ul><li>Copier is removed.<ul><li>Use CopyArtifactOperation instead.</li><li>As long as I know, there's no plugins depending on Copier.</li></ul></li><li>BuildSelector#getSourceDirectory is removed.<ul><li>Use CopyArtifactOperation instead.</li><li>As long as I know, there's no plugins depending on BuildSelector#getSourceDirectory.</li></ul></li></ul><h3 id="Abandoned:PreviewforCopyArtifact2.0-Knownissues">Known issues</h3><ul><li>TriggeringBuildSelector may cause performance issues.<ul><li>It tracks and lists all upstream builds to enumerate upstream builds.</li><li>Generator pattern should be useful for this case but I couldn't find common and reliable implementation for that.</li><li>This would be complicated and I plan to fix this after beta releases.</li></ul></li><li>Less compatibility for generic artifact managers (VirtualFile)<ul><li>Doesn't support<ul><li>Exclude filters.</li><li>Symbolic links.</li><li>File modes.</li></ul></li><li>I plan to contribute core to have VirtualFile support these features.</li></ul></li></ul>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/83362176/83558417.png">copyartifact-1.x.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/83362176/83558418.png">copyartifact-2.0.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:19</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
