<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Hosting Plugins</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Extend-Jenkins.html">Extend Jenkins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Hosting Plugins
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (kohsuke)</span>, last modified by <span class='editor'> Unknown User (oleg_nenashev)</span> on Sep 21, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><strong>Largely superseded by <a href="https://jenkins.io/doc/developer/publishing/requesting-hosting/" class="external-link" rel="nofollow">https://jenkins.io/doc/developer/publishing/requesting-hosting/</a></strong></p><p>We encourage plugin developers to host their plugins in the Jenkins community repositories on <a href="https://github.com/jenkinsci" class="external-link" rel="nofollow">GitHub</a>.</p><p>This makes it easier for the community to help you, as well as to have the community benefit from the plugin. In this way, even when you move on to something else, the community can find someone else to <a href="Adopt-a-Plugin.html">pick up the work</a>.</p><p>You can take a quick look at <a href="Governance-Document.html">how we work</a> for more information.</p><h1 id="HostingPlugins-Contents">Contents</h1><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631020162974 {padding: 0px;}
div.rbtoc1631020162974 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631020162974 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631020162974'>
<ul class='toc-indentation'>
<li><a href='#HostingPlugins-Contents'>Contents</a></li>
<li><a href='#HostingPlugins-Prerequisites'>Prerequisites</a></li>
<li><a href='#HostingPlugins-Requesthosting'>Request hosting</a></li>
<li><a href='#HostingPlugins-Importingsourcecode'>Importing source code</a></li>
<li><a href='#HostingPlugins-Hostingthepluginpage'>Hosting the plugin page</a>
<ul class='toc-indentation'>
<li><a href='#HostingPlugins-UsingGitHubasasourceofdocumentation'>Using GitHub as a source of documentation</a></li>
<li><a href='#HostingPlugins-UsingJenkinsWikiassourceofdocumentation'>Using Jenkins Wiki as source of documentation</a></li>
<li><a href='#HostingPlugins-Referencingthedocumentationpagefromtheprojectfile'>Referencing the documentation page from the project file</a></li>
</ul>
</li>
<li><a href='#HostingPlugins-Changelogs'>Changelogs</a></li>
<li><a href='#HostingPlugins-AddingMaintainerInformation'>Adding Maintainer Information</a></li>
<li><a href='#HostingPlugins-Continuouspluginbuilds'>Continuous plugin builds</a>
<ul class='toc-indentation'>
<li><a href='#HostingPlugins-ci.jenkins.io'>ci.jenkins.io</a></li>
<li><a href='#HostingPlugins-jenkins.ci.cloudbees.com(legacy)'>jenkins.ci.cloudbees.com (legacy)</a></li>
</ul>
</li>
<li><a href='#HostingPlugins-Requestuploadpermissions'>Request upload permissions</a></li>
<li><a href='#HostingPlugins-Releasingtojenkins-ci.org'>Releasing to jenkins-ci.org</a>
<ul class='toc-indentation'>
<li><a href='#HostingPlugins-BlacklistingpluginintheUpdateCenter'>Blacklisting plugin in the Update Center</a></li>
<li><a href='#HostingPlugins-Releasingalpha/betaversionsofplugins'>Releasing alpha/beta versions of plugins</a></li>
</ul>
</li>
<li><a href='#HostingPlugins-Workingaroundcommonissues'>Working around common issues</a></li>
<li><a href='#HostingPlugins-Frequentlyaskedquestions'>Frequently asked questions</a></li>
<li><a href='#HostingPlugins-Help!Mypluginisnotshowingupintheupdatecenter'>Help! My plugin is not showing up in the update center</a></li>
</ul>
</div></p><h1 id="HostingPlugins-Prerequisites">Prerequisites</h1><p>In order to host a plugin in the Jenkins Update Centre, meaning that it will be offered to users for install via the Plugin Manager in Jenkins, you must:</p><ul><li>Give your plugin a sensible ID which does not include <code>jenkins</code> or <code>plugin</code><ul><li>e.g. IDs like &quot;<code>jenkins-snapchat-notification-plugin</code>&quot; are redundant (we know it's a Jenkins plugin!); call it simply &quot;<code>snapchat-notification</code>&quot;</li><li>Similarly, &quot;<code>notification-plugin-for-snapchat</code>&quot; is redundant and overly-verbose; again just use &quot;<code>snapchat-notification</code>&quot;<ul><li>This is the <code>&lt;artifactId&gt;</code> tag in <code>pom.xml</code> if you're using <a href="https://jenkins-ci.org/maven-hpi-plugin/" class="external-link" rel="nofollow">Maven</a></li><li>This is the <code>jenkinsPlugin.shortName</code> value in <code>build.gradle</code> if you're using <a href="Gradle-JPI-Plugin.html">Gradle</a></li><li>This is the <code>name</code> field in the <code>.pluginspec</code> file if you're using <a href="Jenkins-plugin-development-in-Ruby.html">Ruby</a></li></ul></li><li>Choose carefully, as you cannot change this ID after your make your first plugin release</li></ul></li></ul><ul><li>Give your plugin a descriptive but short name; this value will be shown to users in the Jenkins Update Centre<br/>This should have each main word capitalised, usually ending with &quot;Plugin&quot;. For example, &quot;Snapchat Notification Plugin&quot;<ul><li>This is the <code>&lt;name&gt;</code> tag in <code>pom.xml</code> if you're using Maven</li><li>This is the <code>jenkinsPlugin.displayName</code> value in <code>build.gradle</code> if you're using Gradle</li><li>This is the <code>display_name</code> in the <code>.pluginspec</code> file if you're using Ruby</li></ul></li></ul><ul><li>You are also encouraged to give your plugin a short one-line description; this will also be shown in the Update Centre.<br/>For example, &quot;Allows users to send build notifications via Snapchat&quot;. Again, there's no need to state that it's a plugin for Jenkins, or other such redundant text.<ul><li>This is the <code>&lt;description&gt;</code> tag in <code>pom.xml</code> if you're using Maven</li><li>This is the top-level <code>description</code> value in <code>build.gradle</code> if you're using Gradle</li><li>This is the <code>description</code> field in the <code>.pluginspec</code> file if you're using Ruby</li></ul></li></ul><ul><li>For Maven projects, set parent of groupId <code>org.jenkins-ci.plugins</code><ul><li>Artifact <code>org.jenkins-ci.plugins:plugin</code> can be used as a parent pom</li><li>The <code>groupId</code> for your project (outside of the parent declaration) should be set to <code>io.jenkins.plugins</code>, unless your company or group has their own <code>groupId</code> specifier</li></ul></li></ul><ul><li>Upload your plugin code to a repository on GitHub<ul><li>This will be forked into the <a href="https://github.com/jenkinsci" class="external-link" rel="nofollow">Jenkins organisation</a>, which will become the canonical source repo</li></ul></li></ul><ul><li>Specify an <a href="http://opensource.org/licenses/" class="external-link" rel="nofollow">open source license</a> for your code (most plugins use MIT)<ul><li>The Jenkins project does not host closed-source plugins</li><li>All of the dependencies of your plugin must also be open source-licensed</li><li>You should specify the license in the plugin metadata (e.g. <code>pom.xml</code>), but ideally also in a <code>LICENSE</code> file in the root of your repository</li></ul></li></ul><ul><li>Have a <a href="User-Account-on-Jenkins.html">jenkins-ci.org account</a><ul><li>This gives you access to upload your plugin, document your plugin on this wiki, and track issues in <a href="https://issues.jenkins-ci.org/" class="external-link" rel="nofollow">JIRA</a>. It's also required to request hosting (see below).</li></ul></li></ul><ul><li>Have at least a small README explaining what the plugin does / is about. The idea is to help other developers and users quickly identify what the plugin does when finding the repo.<br/>Once forked, you will probably want to add a link to the plugin's wiki page too.</li></ul><h1 id="HostingPlugins-Requesthosting">Request hosting</h1><p>Having completed the prerequisites above, <a href="https://issues.jenkins-ci.org/" class="external-link" rel="nofollow">log in to JIRA</a>, and file an issue <a href="https://issues.jenkins-ci.org/browse/HOSTING" class="external-link" rel="nofollow">in the HOSTING project</a>. Provide all information requested there.</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">NOTE</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Though we're not absolutely requiring it, we strive to encourage contributions to existing plugins instead of creating new ones whenever possible.<br/>The goal is solely to try and make it clearer and easier for Jenkins users to find the plugin(s) they need (without having to choose between N [very] similar flavours).</p><p>So, before creating new plugins and requesting hosting, please carefully read <a href="https://wiki.jenkins-ci.org/display/JENKINS/Plugins" class="external-link" rel="nofollow">the plugins list</a> or/and your update center from Jenkins for possibly similar plugins.<br/>And if you still decide to create a new one for some reasons, please provide those reasons in the HOSTING request. That will make the process quicker and easier for everybody.</p></div></div><p>When done with all that, we'll create your plugin repository under <a href="https://github.com/jenkinsci" class="external-link" rel="nofollow">https://github.com/jenkinsci</a>, and we'll also create a JIRA component for you.  Look for a Github email inviting you to join the <a href="https://github.com/jenkinsci" class="external-link" rel="nofollow">Jenkins organization</a>.  Once you accept the invitation, you will be able to push to your new repository. </p><p>Once you have a Jenkins repository, you can start making the following preparations for your first release.</p><h1 id="HostingPlugins-Importingsourcecode">Importing source code</h1><p>In some cases you may get an empty repository, rather than a fork, in which case you can import your source code:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>$ cd path/to/yourplugin
$ git init
$ git add pom.xml src
$ git commit -m &quot;initial import of my plugin&quot;
$ git remote add origin git@github.com:jenkinsci/MYPLUGINNAME.git
$ git push origin master
</pre>
</div></div><p>We also recommend you look around some other plugin's POM file (such as <a href="https://github.com/jenkinsci/bazaar-plugin/blob/master/pom.xml" class="external-link" rel="nofollow">this</a>) to trim off the redundant things.</p><p>For example, <code>&lt;repositories&gt;</code> and <code>&lt;pluginRepositories&gt;</code> can be removed. If you need help, contact the dev list.</p><h4 id="HostingPlugins-DeclareyourrepositoryinyourPOM">Declare your repository in your POM</h4><p>The location of your repository <strong>must</strong> be declared in the POM for plugins hosted in Github, by adding the following fragment:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&lt;scm&gt;
  &lt;connection&gt;scm:git:ssh://github.com/jenkinsci/MYPLUGINNAME.git&lt;/connection&gt;
  &lt;developerConnection&gt;scm:git:ssh://git@github.com/jenkinsci/MYPLUGINNAME.git&lt;/developerConnection&gt;
  &lt;url&gt;https://github.com/jenkinsci/MYPLUGINNAME&lt;/url&gt;
&lt;/scm&gt;
</pre>
</div></div><h1 id="HostingPlugins-Hostingthepluginpage">Hosting the plugin page</h1><p>Plugin pages are hosted on <a href="https://plugins.jenkins.io/" class="external-link" rel="nofollow">https://plugins.jenkins.io/</a>, these pages are being generated automatically using the metadata from the latest plugin release and an external documentation page. External documentation can be retrieved from GitHub or from Jenkins Wiki. It is possible to create no documentation page at all, but we recommend to create one to improve user experience for your plugin.</p><h2 id="HostingPlugins-UsingGitHubasasourceofdocumentation">Using GitHub as a source of documentation</h2><p>Since the introduction of GitHub documentation support in September 2019 (<a href="https://groups.google.com/forum/#!topic/jenkinsci-dev/VSdfVMDIW-A" class="external-link" rel="nofollow">announcement</a>), this is the <strong>recommended way</strong> to host documentation. It allows plugin maintainers to provide the same documentation from GitHub pages and the Jenkins plugin site, and at the same time it allows using the Documentation-as-Code techniques when the documentation is a part of the repository and hence all common practices can be applied (versioning, pull requests and reviews, creating documentation in parallel with features, editing docs from GitHub Web UI).</p><p>The plugin site can pull documentation from the root README pages and from other locations. For new plugins it is recommended to use README pages as a source of documentation, preferably in Markdown or Asciidoc format (TXT is also supported in such case).</p><p>How to publish the plugin documentation from GitHub?</p><ul><li>Create a README page and put the plugin documentation there<ul><li>This page will become a landing page for <a href="https://plugins.jenkins.io/" class="external-link" rel="nofollow">https://plugins.jenkins.io/</a></li><li>More documentation pages can be introduced inside the repository and linked from the README, the plugin site will display both absolute and relative links</li><li>Images from pages will be displayed by the plugin site as well</li></ul></li><li>Modify your project URL to point to the GitHub repository, e.g. <a href="http://github.com/jenkinsci/your-plugin" class="external-link" rel="nofollow">http://github.com/jenkinsci/your-plugin</a><ul><li>See the guidelines for Maven and Gradle below</li></ul></li><li>Release the new plugin version</li></ul><p>Documentation examples:</p><ul><li><a href="https://plugins.jenkins.io/configuration-as-code" class="external-link" rel="nofollow">https://plugins.jenkins.io/configuration-as-code</a></li><li><a href="https://plugins.jenkins.io/gradle" class="external-link" rel="nofollow">https://plugins.jenkins.io/gradle</a></li><li><a href="https://plugins.jenkins.io/mailer" class="external-link" rel="nofollow">https://plugins.jenkins.io/mailer</a></li></ul><h2 id="HostingPlugins-UsingJenkinsWikiassourceofdocumentation">Using Jenkins Wiki as source of documentation</h2><p>Even though for new plugins it is recommended to just use GitHub README files, the Jenkins Wiki can still be used if there are strong reasons to do so.</p><ol><li>Visit the <a href="Plugins.html">Plugins</a> page, hover over the &quot;Add&quot; menu at the top right, and choose &quot;Page&quot;.</li><li>If you're asked to log in, you should use your <a href="User-Account-on-Jenkins.html">jenkins.io account</a> details</li><li>Enter a page name matching your plugin's name, i.e. with each word capitalised, ending with &quot;Plugin&quot; (e.g. &quot;Snapchat Notification Plugin&quot;)</li><li><p>Add a plugin &quot;infobox&quot; with your plugin's ID, e.g.:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>{jenkins-plugin-info:snapchat-notification}</pre>
</div></div></li><li>Under the infobox you are encouraged to include the description from your plugin metadata, or some other brief introduction to help people know what your plugin does.</li><li>Fill out the CAPTCHA and press Save</li></ol><p>These are the bare minimum requirements for a plugin page. </p><p>Please check out some good examples of how you should lay out your page:</p><ul><li><a href="Google-Play-Android-Publisher-Plugin.html">Google Play Android Publisher Plugin</a></li><li><a href="Delivery-Pipeline-Plugin.html">Delivery Pipeline Plugin</a></li></ul><h2 id="HostingPlugins-Referencingthedocumentationpagefromtheprojectfile">Referencing the documentation page from the project file</h2><p>You should link to your plugin's documentation, whether on the wiki or elsewhere, in your plugin's pom.xml, like this:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Confluence" data-theme="Confluence">&lt;project&gt;
  ...
  &lt;url&gt;http://github.com/jenkinsci/your-plugin&lt;/url&gt;
  ...
&lt;/project&gt;
</pre>
</div></div><p>If you're building your plugin with <a href="Gradle-JPI-Plugin.html">Gradle</a>, you set the URL in your <code>build.gradle</code> like so:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">jenkinsPlugin {
  ...
  url = &#39;http://github.com/jenkinsci/your-plugin&#39;
  ...
}
</pre>
</div></div><p>Or if you have a plugin written in <a href="Jenkins-plugin-development-in-Ruby.html">Ruby</a>, you must edit your <code>.pluginspec</code> file like so:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Jenkins::Plugin::Specification.new do |plugin|
  ...
  plugin.url = &#39;http://github.com/jenkinsci/your-plugin&#39;
  ...
end
</pre>
</div></div><p>This ensures that the update center will list your plugin correctly once the new plugin version is released. If this is missing, or does not point to your Jenkins wiki page, your plugin will not be included in the update center.</p><h1 id="HostingPlugins-Changelogs">Changelogs</h1><p>Once you have made your first release, you should add  release notes to a changelog. You have many options how to do it:</p><ul><li>use GitHub Releases (possibly with the help of <a href="https://github.com/jenkinsci/.github/blob/master/.github/release-drafter.adoc" class="external-link" rel="nofollow">Release Drafter</a>), add a link to releases page to your documentation page (recommended)</li><li>create a changelog file (Markdown, Asciidoc) in GitHub and link it from the documentation page</li><li>include the changelog content in the documentation page</li></ul><h1 id="HostingPlugins-AddingMaintainerInformation">Adding Maintainer Information</h1><p>In your POM, make sure to include developer information, such as:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&lt;project&gt;
  ...
  &lt;developers&gt;
    &lt;developer&gt;
      &lt;id&gt;devguy&lt;/id&gt;
      &lt;name&gt;Developer Guy&lt;/name&gt;
      &lt;email&gt;devguy@developerguy.blah&lt;/email&gt;
    &lt;/developer&gt;
  &lt;/developers&gt;
&lt;/project&gt;
</pre>
</div></div><p>The ID is your jenkins-ci.org account. The name is a human readable display name. This ensures that the update center and related tools are able to properly display the maintainer for your plugin.<br/>It's highly advisable to include an email address so that people can contact you (this will be shown in the plugin infobox on the wiki), but it's optional. If pull requests go unmerged for a long time, and there's no way of contacting you, the maintainer, others will be encouraged to take over maintainership.</p><h1 id="HostingPlugins-Continuouspluginbuilds">Continuous plugin builds</h1><h2 id="HostingPlugins-ci.jenkins.io">ci.jenkins.io</h2><p>If you want changes to your plugin to be automatically built and tested on <a href="https://ci.jenkins.io/job/Plugins/" class="external-link" rel="nofollow">ci.jenkins.io</a>, just add a <code>Jenkinsfile</code> to the root of your Git repository, using the <a href="https://github.com/jenkins-infra/pipeline-library/#buildplugin" class="external-link" rel="nofollow"><code>buildPlugin()</code></a> Pipeline step.  </p><p>Once you've done this, your job will appear on <a href="https://ci.jenkins.io/blue/" class="external-link" rel="nofollow">ci.jenkins.io</a> under the Plugins folder, and all subsequent branches and Pull Requests will be built.</p><p>This works automatically for all jenkinsci GitHub repositories that end with <code>-plugin</code>, so if you have another type of project that you want to build, please open a new issue <a href="https://issues.jenkins-ci.org/browse/INFRA" class="external-link" rel="nofollow">in the INFRA project</a>, using the &quot;ci&quot; component, and with a title like &quot;Add build for whatever-module&quot;. Make sure to add the GitHub URL of your <code>Jenkinsfile</code> in the issue description.</p><h2 id="HostingPlugins-jenkins.ci.cloudbees.com(legacy)">jenkins.ci.cloudbees.com (legacy)</h2><p>Previously, plugins were automatically added to <a href="https://jenkins.ci.cloudbees.com/job/plugins/" class="external-link" rel="nofollow">jenkins.ci.cloudbees.com</a>, and built as Maven jobs (clean install -e). All plugin CI broken build results will be mailed to any configured developers in the POM, plus culprits.</p><p>Ruby and Gradle plugins are also supported there, but require asking on the developers <a href="https://jenkins-ci.org/content/mailing-lists" class="external-link" rel="nofollow">mailing list</a> to have someone with the proper access rights update the job for you.</p><h1 id="HostingPlugins-Requestuploadpermissions">Request upload permissions</h1><p>Permissions to upload plugin releases are independent of GitHub push access and maintained in this repository:</p><p><a href="https://github.com/jenkins-infra/repository-permissions-updater" class="external-link" rel="nofollow">https://github.com/jenkins-infra/repository-permissions-updater</a></p><p>File a PR on that repository for your new plugin as described in the README of that repository. Without this, you'll be unable to release your plugin.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>For those permissions to be really enabled, you MUST have logged in at least in once with your Jenkins account into <a href="https://repo.jenkins-ci.org/webapp/#/home" class="external-link" rel="nofollow">https://repo.jenkins-ci.org/webapp/#/home</a>.<br/>If you never did, any modification to the repository above will be ineffective until then.</p></div></div><h1 id="HostingPlugins-Releasingtojenkins-ci.org">Releasing to jenkins-ci.org</h1><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><ul><li>Your plugin must have been forked before you can release. Please also take care of releasing <em>from</em> the repository hosted under the jenkinsci organization so that all tags and commits are actually there. This is important for the users so that we actually have the latest sources there in the future if the plugin happen to become unmaintained.</li><li>Also, please double-check you're allowed to deploy to the path for your plugin. See the previous point about <a href="https://wiki.jenkins-ci.org/display/JENKINS/Hosting+Plugins#HostingPlugins-Requestuploadpermissions" class="external-link" rel="nofollow">Request upload permissions</a> if you're unsure.</li><li><p><strong>Make sure the plugin would pass CI builds (to avoid tagging unreleasable commits)!</strong> This covers running, but may be not limited only to:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">mvn clean package &amp;&amp; mvn checkstyle::check &amp;&amp; mvn findbugs:check</pre>
</div></div><p>Note that depending on your plugin's <code>pom.xml</code> requiring such checks during a build, you may not have to re-run them explicitly.<br/>Consider also cleaning the Javadoc markup, if suggested to by <code>mvn javadoc:test-javadoc</code> although this is usually not a blocker for merging PRs and publishing a plugin release.</p></li><li><strong>Make sure you are running the <code>mvn release:*</code>  steps from your workspace <code>master</code>  branch</strong>, after having merged all expected PRs and fixed all the bugs you need (and having git-pulled the latest upstream code into your local clone).<br/>The <code>mvn release:prepare</code> would already use your Github super powers to bump the version and git-tag a release for the world to know!</li></ul></div></div><p>The easiest way to publish a plugin is to run the maven release plugin with <a href="User-Account-on-Jenkins.html">your jenkins-ci.org account</a>:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>$ mvn release:prepare release:perform -Dusername=... -Dpassword=...</pre>
</div></div><p>If you are using GitHub, make sure that the &quot;origin&quot; remote is pointed to your actual plugin repository.</p><p>This will perform all the usual Maven release activity, and it will also post the plugin to the download section. If you run with the <code>-B</code> option, Maven will automatically use all the default values without prompting.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Do not</strong> split that Maven command into two separate Maven invocations (i. e. <code>mvn release:prepare</code> followed by <code>mvn release:perform</code>): It won't work as you expect and will mess up your release. Always execute the two Maven goals together, in one command.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If you get back an <em>401: Unauthorized</em> or if you encounter any other problem releasing your plugin while providing username and password as environment variable, try to pass username and password for authentication by modifying your settings.xml as described below.</p></div></div><p>However if your plugin is hosted on GitHub and you have different username and/or password for GitHub and jenkins-ci.org use of the command-line arguments for username/password will result in errors. You will have to start an ssh-agent and import your private key so the release plugin can access the GitHub repository (see <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/" class="external-link" rel="nofollow">Adding a new SSH key to your GitHub account</a>), and configure the password for jenkins-ci.org in your <code>~/.m2/settings.xml</code> as described below.</p><p>Instead of listing username/password on the command line, you may also specify these in <code>~/.m2/settings.xml</code> as follows:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>settings.xml</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0
                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;

  &lt;servers&gt;
    &lt;server&gt;
      &lt;id&gt;maven.jenkins-ci.org&lt;/id&gt; &lt;!-- For parent 1.397 or newer; this ID is used for historical reasons and independent of the actual host name --&gt;
      &lt;username&gt;...&lt;/username&gt;
      &lt;password&gt;...&lt;/password&gt;
    &lt;/server&gt;
  &lt;/servers&gt;

&lt;/settings&gt;
</pre>
</div></div><p>You may also follow <a href="http://maven.apache.org/guides/mini/guide-encryption.html" class="external-link" rel="nofollow">these instructions</a> to encrypt the password stored in <code>settings.xml</code>. Once you are done with this run <code>mvn deploy</code> to verify that your credential is correctly recognized by Maven.</p><p>Additionally, note that your settings.xml file may need extra configuration for publishing the plugin. See <a href="https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial#Plugintutorial-SettingUpEnvironment" class="external-link" rel="nofollow">here</a>.</p><p>Also consider <a href="Plugin-Release-Tips.html">these tips</a> before making a plugin release.</p><p>The released plugin should show up in the update center within eight hours.</p><p>You will likely need to add your new release info to the Changelog section of your Jenkins plugin wiki page.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If you are using GitHub with SSH you have to omit the username and password parameter to be able to build and push the release. To be able to copy the artifacts to the jenkins-ci.org maven repository you have to set up the settings.xml as described above.</p></div></div><p>If you are using the Plugin Parent POM version 2.3 or later, the <code>maven-release-plugin</code> is configured so that tests are only executed in the <code>release:prepare</code> phase. If you want them to be executed in the <code>release:perform</code> phase as well, set the <code>release.skipTests</code> property to <code>false</code>.</p><p><br/></p><h2 id="HostingPlugins-BlacklistingpluginintheUpdateCenter">Blacklisting plugin in the Update Center</h2><p>In some cases it might be necessary to blacklist an already release version of a plugin in the Update Center to prevent further installations. Some examples when this might happen are:</p><ul><li>there was a major regression detected in the new plugin version</li><li>there was a binary incompatibility detected causing cross-plugin failures</li></ul><p>The Update Center blacklist is handled by the repository here: <a href="https://github.com/jenkins-infra/backend-update-center2/blob/master/src/main/resources/artifact-ignores.properties" class="external-link" rel="nofollow">https://github.com/jenkins-infra/backend-update-center2/blob/master/src/main/resources/artifact-ignores.properties</a></p><p>To blacklist a version, open a PR specifying a plugin version to be banned, example: <a href="https://github.com/jenkins-infra/backend-update-center2/pull/183" class="external-link" rel="nofollow">https://github.com/jenkins-infra/backend-update-center2/pull/183</a></p><h2 id="HostingPlugins-Releasingalpha/betaversionsofplugins">Releasing alpha/beta versions of plugins</h2><p>See <a href="https://jenkins.io/blog/2013/09/23/experimental-plugins-update-center/" class="external-link" rel="nofollow">this nice blog post by Kohsuke about Experimental Plugins Update Center</a>.</p><h1 id="HostingPlugins-Workingaroundcommonissues">Working around common issues</h1><p>These are some common issues that can occur when releasing a plugin.<br/>If you did release your plugin successfully but are having problems, see also the &quot;Help!&quot; section at the end of this page.</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">The upload to the Maven repository fails with &quot;401 Unauthorized&quot;</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This error means that Maven did not successfully authenticate with Artifactory. This can have multiple reasons:</p><ul><li>You did not specify credentials for the repository in <code>settings.xml</code></li><li>The settings you did specify use an ID not matching the repo ID in your (effective) POM's <code>distributionManagement</code> – it's independent of the actual host name and probably needs to be <code>maven.jenkins-ci.org</code>.</li><li>The credentials are wrong, for example because you changed your password on <a href="https://accounts.jenkins.io" class="external-link" rel="nofollow">https://accounts.jenkins.io</a></li></ul></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">The upload to the Maven repository fails with &quot;403 Forbidden&quot;</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Make sure you're allowed to upload this plugin: Permissions to upload are independent of GitHub repository permissions and are defined in YAML files in <a href="https://github.com/jenkins-infra/repository-permissions-updater" class="external-link" rel="nofollow">https://github.com/jenkins-infra/repository-permissions-updater</a> File a PR to that repository as described in its README to request access.</p><p>Another possible reason is that the release you're trying to create already exists. We don't grant permission to delete artifacts, which is a prerequisite for being able to replace. Retry with a higher version number. If that still fails, check whether you're trying to upload the same file twice during the same release process.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">The upload to maven.jenkins-ci.org fails with &quot;Connection refused&quot;, &quot;Connection timed out&quot;, or similar</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The Maven repository is now located at repo.jenkins-ci.org. (Note that this host name has nothing to do with the repository ID to use in <code>settings.xml</code>.)</p><p>Either overwrite the repository location in your POM to point to <a href="https://repo.jenkins-ci.org" class="external-link" rel="nofollow">https://repo.jenkins-ci.org</a>, or update to the parent plugins POM 2.5 or newer. With version 2.0, it was made independent of the version of Jenkins your plugin is built against. See the <a href="https://github.com/jenkinsci/maven-hpi-plugin/blob/49fc9860c9cccc8b23a3690c5110b84aeefed12a/hpi-archetype/pom.xml#L6...L29" class="external-link" rel="nofollow">sample POM for new Jenkins plugins</a> as well as <a href="https://issues.jenkins-ci.org/browse/INFRA-588" class="external-link" rel="nofollow">INFRA-588</a>, where a lot of commits adapting plugins to no longer reference maven.jenkins-ci.org are referenced in comments.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">The release process created a &quot;SNAPSHOT&quot; version / Using git version 1.8.5.2 or around</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p> After cd-ing to your plugin git repo folder, run the maven release commands this way, forcing version 2.5 of maven-release-plugin; alternatively, proceed to the next work-around topic right after this one:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>mvn org.apache.maven.plugins:maven-release-plugin:2.5:prepare
mvn org.apache.maven.plugins:maven-release-plugin:2.5:perform
git push (should your git status still be &quot;dirty&quot;)
</pre>
</div></div><p>Please keep this wiki topic at the beginning of hereby work-arounds, for top visibility purposes.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">No prepare commits in git</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p> Should the previous (related) work-around not suit you, update maven-release-plugin to 2.5 version. See: <a href="https://groups.google.com/forum/#!topic/jenkinsci-dev/qkmbl3HrYgk" class="external-link" rel="nofollow">jenkinsci-dev maillist</a></p></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If a release only deploys snapshots consider upgrading the maven-scm-provider-gitexe to 1.9.1 or more (see <a href="http://jira.codehaus.org/browse/SCM-740" class="external-link" rel="nofollow">more details</a>.)</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.5.1&lt;/version&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;
            &lt;artifactId&gt;maven-scm-provider-gitexe&lt;/artifactId&gt;
            &lt;version&gt;1.9.2&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;
</pre>
</div></div><p>or running following command may make your maven-release-plugin work correct (this changes output format of <code>git status</code>).</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>git config --global --add status.displayCommentPrefix true
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If a release fails with the following error, that means the version number for your plugin in <code>pom.xml</code> does not end with <code>-SNAPSHOT</code>. Add this suffix and commit the change, then try again.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>    [INFO] ------------------------------------------------------------------------
    [ERROR] BUILD FAILURE
    [INFO] ------------------------------------------------------------------------
    [INFO] You don&#39;t have a SNAPSHOT project in the reactor projects list.
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If changes to your pom.xml seem to be having no effect, try one of these to clear out any intermediate files and start over:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>mvn -Dresume=false release:prepare release:perform
mvn release:rollback
mvn release:clean
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Releasing failed due to errors relating to Javadoc?</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If you see something like this when releasing, including lots of Javadoc errors you can't actually fix, because they're part of the Messages class...</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:2.8:jar (attach-javadocs) on project &lt;plugin-artifact-id&gt;:
 MavenReportException: Error while creating archive:
... lots of Javadoc errors here ...
</pre>
</div></div><p>..then it's probable that you're building your plugin with Java 8, which has a tool called <a href="http://blog.joda.org/2014/02/turning-off-doclint-in-jdk-8-javadoc.html" class="external-link" rel="nofollow">DocLint enabled by default</a>.</p><p>You need to disable DocLint by adding the following to your <code>pom.xml</code>. Merge into the existing <code>build.plugins</code> section, if there is one.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">My release failed and I want to redo it from scratch</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>When a release fails in the middle, you unfortunately have to manually cancel out some of the side-effects Maven has caused. See <a href="http://hudson.361315.n4.nabble.com/Unable-to-deploy-plugin-to-repo-tc3093159.html#a3093270" class="external-link" rel="nofollow">this e-mail</a> for details. The easiest way out is to forget about the botched release and simply move on to the next release number.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Subversion 1.6 authentication problem</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Subversion 1.6 has a known problem with the <code>--non-interactive</code> switch that Maven uses, in that the presence of this switch prevents Subversion from accessing your authentication credentials. See <a href="http://subversion.tigris.org/ds/viewMessage.do?dsForumId=462&amp;dsMessageId=2359015" class="external-link" rel="nofollow">this thread</a> for more background discussion.<br/>You can verify whether this is the cause of your problem by comparing the behavior between <code>svn ls --non-interactive</code> <code><a href="https://svn.jenkins-ci.org/" class="external-link" rel="nofollow">https://svn.jenkins-ci.org/</a></code> and <code>svn ls</code> <code><a href="https://svn.jenkins-ci.org/" class="external-link" rel="nofollow">https://svn.jenkins-ci.org/</a></code>. Once verified that this is the root cause, <a href="http://blogs.open.collab.net/svn/2009/07/subversion-16-security-improvements.html" class="external-link" rel="nofollow">tell Subversion to store the password in plain text</a></p><p>Additionally you need to check that you are not accessing the subversion repository with the &quot;guest&quot; user. So try <code>svn ls --username YOURNAME</code> <code><a href="https://svn.jenkins-ci.org/" class="external-link" rel="nofollow">https://svn.jenkins-ci.org/</a></code> . If it asks for your credentials then simply give it and retry.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">OutOfMemoryError: Java heap space</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If the release fails because Maven runs out of heap space, you may need to increase its limit by defining the MAVEN_OPTS environment variable. For example, in a bash shell, you could add the following to <code>~/.profile</code>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>~/.profile</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">export MAVEN_OPTS=-Xmx300m
</pre>
</div></div><p>If you are running Maven inside IntelliJ 9.0.1, its setting for Maven &gt; Runner &gt; VM Parameters applies to only the parent Maven process, but it may be a child Maven process that is running out of memory. Furthermore, if you are running IntelliJ on MacOSX 10.6, normal environment variables, i.e., exported from ~/.profile, are not seen by apps launched from Finder. So, to increase the heap limit of child Maven processes in IntelliJ, you can configure MAVEN_OPTS in /etc/launchd.conf instead. Create or edit the file, e.g. <code>sudo vi /etc/launchd.conf</code> and add:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>/etc/launchd.conf on MacOSX</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">setenv MAVEN_OPTS -Xmx300m</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Error deploying artifact: Connection failed: Unable to connect to https://svn.dev.java.net/svn/maven2-repository/trunk/repository/</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If the deployment fails it might be trying to write to a legacy repository. The instructions above and in the <a class="createlink" href="/pages/createpage.action?spaceKey=JENKINS&amp;title=Migrate+to+Jenkins+Infrastructure&amp;linkCreation=true&amp;fromPageId=18612226">migration page</a> should help with setting the correct target repository.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">HTTP 401 when transferring a file to the Jenkins Maven repository</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If, when running <code>mvn release:perform</code>, you get an error message similar to the following one, there are a few possibilities:</p><ul><li>Your password is incorrect</li><li>You haven't added your jenkins-ci.org credentials to your <code>~/.m2/settings.xml</code> file as described above.</li><li>The ID of the repository as specified in POM (which is normally inherited) doesn't match the ID in <code>~/.m2/settings.xml</code>. To verify this, run <code>mvn help:effective-pom</code> and look for the &lt;distributionManagement&gt; element. For example, see <a href="https://gist.github.com/897f6f38a717cd6904ae" class="external-link" rel="nofollow">this</a>. This is because earlier versions of the plugin parent POM had this kind of problems. The easiest solution is bump up the parent POM to 1.409 or later. If you need to keep the parent version as is, then add additional &lt;server&gt; entry in your <code>settings.xml</code> with all the variations of the IDs.</li><li>Your plugin with this version was already released, and you are trying to release another one with the same version (check it <a href="https://repo.jenkins-ci.org/releases/" class="external-link" rel="nofollow">here</a>).</li></ul><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.5:deploy (default-deploy) on project sbt:
Failed to deploy artifacts: Could not transfer artifact org.jvnet.hudson.plugins:sbt:hpi:1.0 from/to
maven.jenkins-ci.org (http://maven.jenkins-ci.org:8081/content/repositories/releases/):
Failed to transfer file:
http://maven.jenkins-ci.org:8081/content/repositories/releases/org/jvnet/hudson/plugins/sbt/1.0/sbt-1.0.hpi.
Return code is: 401 -&gt; [Help 1]
</pre>
</div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Make sure PW encryption is correct:</p><ul><li>Login <a href="https://repo.jenkins-ci.org/webapp/#/login" class="external-link" rel="nofollow">https://repo.jenkins-ci.org/webapp/#/login</a> with jenkins-ci.org account</li><li>Go to <a href="https://repo.jenkins-ci.org/webapp/#/profile" class="external-link" rel="nofollow">https://repo.jenkins-ci.org/webapp/#/profile</a></li><li>Unlock &quot;Current Password&quot;</li><li>Put &quot;Encrypted Password&quot; to your settings.xml</li></ul></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Make sure you use Maven 3</p></div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If <code>release:prepare</code> fails with the following error, you are most likely using &quot;Cygwin&quot; on Windows. There is a failure of path translation somewhere between Maven and the Cygwin Subversion client. The easiest way around this is to install a native Windows Subversion client (eg. <a href="http://sourceforge.net/projects/win32svn/" class="external-link" rel="nofollow">Win32Svn</a>) and re-run from a DOS/CMD window.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[INFO] Checking in modified POMs...
[INFO] Executing: cmd.exe /X /C &quot;svn --non-interactive commit
       --file C:\DOCUME~1\username\LOCALS~1\Temp\maven-scm-1876439793.commit
       --targets C:\DOCUME~1\username\LOCALS~1\Temp\maven-scm-7190199490958000758-targets&quot;
[INFO] Working directory: D:\home\ed\projects\hudson\plugins\lavalamp
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Unable to commit files
Provider message:
The svn command failed.
svn: &#39;/cygdrive/d/home/username/projects/hudson/plugins/lavalamp/D:/home/username&#39; does not exist
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If a release fails with either of the following errors, that means you don't have <code>hudson/plugins/pom.xml</code> installed in your local repository. Run <code>mvn -N install</code> in the <code>plugins</code> directory and retry a release.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[INFO] Executing: mvn deploy
--no-plugin-updates -DperformRelease=true
    [INFO] Scanning for projects...
    Downloading:
http://repo1.maven.org/maven2/org/jvnet/hudson/plugins/plugin/1.NNN/plugin-1.NNN.pom
    [INFO] ------------------------------------------------------------------------
    [ERROR] FATAL ERROR
    [INFO] ------------------------------------------------------------------------
    [INFO] Error building POM (may not be this project&#39;s POM).


    Project ID: null:xxxxxx:hpi:N.N
</pre>
</div></div><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[INFO] Scanning for projects...
       Downloading: http://repo1.maven.org/maven2/org/jvnet/hudson/plugins/plugin/1.212/plugin-1.212.pom
       [INFO] ------------------------------------------------------------------------
       [ERROR] FATAL ERROR
       [INFO] ------------------------------------------------------------------------
       [INFO] Failed to resolve artifact.

    GroupId: org.jvnet.hudson.plugins
       ArtifactId: plugin
       Version: 1.212

    Reason: Unable to download the artifact from any repository

      org.jvnet.hudson.plugins:plugin:pom:1.212

    from the specified remote repositories:
          central (http://repo1.maven.org/maven2)
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Could not find maven-hpi-plugin jar</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If release:prepare fails with an error like the following:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[ERROR] Unresolveable build extension: Plugin org.jenkins-ci.tools:maven-hpi-plugin:1.95 or one of its dependencies could not be resolved:
Could not find artifact org.jenkins-ci.tools:maven-hpi-plugin:jar:1.95 in central (http://repo.maven.apache.org/maven2)
</pre>
</div></div><p>You may need to update your local settings.xml. (A build might work, but not a release:prepare.) See <a href="https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial#Plugintutorial-SettingUpEnvironment" class="external-link" rel="nofollow">here</a>.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Subversion 409 Conflict</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If a <code>release:perform</code> fails with an error like the following, retry <code>mvn release:perform</code> later. We don't know the root cause of this problem, but the problem does seem to disappear after a while.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>[INFO] [INFO] Error deploying artifact: Connection failed: Unable to connect to
  https://svn.dev.java.net/svn/maven2-repository/trunk/repository/
[INFO]
[INFO] svn: The specified baseline is not the latest baseline, so it may not be checked out.
[INFO] svn: CHECKOUT of &#39;/svn/maven2-repository/!svn/bln/1348162&#39;: 409 Conflict (https://svn.dev.java.net)
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [INFO] For more information, run Maven with the -e switch
[INFO] [INFO] ------------------------------------------------------------------------
</pre>
</div></div></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">git push hangs</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Stackoverflow offers suggestions on how to correct this at <a href="http://stackoverflow.com/questions/3243755/maven-error-releasing-code-to-github-hangs-after-push" class="external-link" rel="nofollow">http://stackoverflow.com/questions/3243755/maven-error-releasing-code-to-github-hangs-after-push</a>.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Unable to parse configuration of mojo ... pluginArtifacts</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>While updating a plugin that was not quite touched for years (so some older-style config is a likely suspect), got this error message:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Unable to parse configuration of mojo org.codehaus.mojo:findbugs-maven-plugin:3.0.3:findbugs for parameter pluginArtifacts: 
Cannot assign configuration entry &#39;pluginArtifacts&#39; with value &#39;${plugin.artifacts}&#39; 
of type java.util.Collections.UnmodifiableRandomAccessList to property of type java.util.ArrayList</pre>
</div></div><p>After some discussion on IRC and googling for similar issues on github, the likely verdict was that instead Maven version was a bit too new for one of the components used to make the release (e.g. <a href="https://github.com/fhoeben/hsac-fitnesse-fixtures/issues/238" class="external-link" rel="nofollow">https://github.com/fhoeben/hsac-fitnesse-fixtures/issues/238</a>), so downgrading from 3.6.0 to 3.5.x (downloaded straight from <a href="https://archive.apache.org/dist/maven/maven-3/3.5.4/binaries/" class="external-link" rel="nofollow">https://archive.apache.org/dist/maven/maven-3/3.5.4/binaries/</a>) seems to have worked. Note that the libraries mentioned in that issue were supposedly fixed in a later version to work well with more Maven releases, so this troubleshooting point should be obsolete as soon as your plugin's dependency tree includes that fix (or newer).</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">(Should not be) Skipping Findbugs</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Skipping findbugs is something very much frowned upon, better address cleanly the issues found by it. That said, when making a new release of old plugin codebase that had those reported issues before you came on board, or where the issues can not be fixed by yourself (e.g. are in third party code), turning a blind eye to them may be an interim acceptable option.</p><p>As exemplified in <a href="https://github.com/jenkinsci/SCTMExecutor-plugin/blob/f801eecfbdf2216f8daf9dfe518e55a62527f26e/pom.xml#L20" class="external-link" rel="nofollow">https://github.com/jenkinsci/SCTMExecutor-plugin/blob/f801eecfbdf2216f8daf9dfe518e55a62527f26e/pom.xml#L20</a> one can include a toggle in their <code>pom.xml</code>  section <code>properties</code> :</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">	&lt;properties&gt;
		...
		&lt;findbugs.failOnError&gt;false&lt;/findbugs.failOnError&gt;
		&lt;findbugs.excludeFilterFile&gt;findbugs-exclude.xml&lt;/findbugs.excludeFilterFile&gt;
	&lt;/properties&gt;</pre>
</div></div><p>with the exclude file containing rules for the tool, like:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&lt;FindBugsFilter&gt;
	&lt;Match&gt;
	  &lt;Package name=&quot;~com\.borland\.sctm.*&quot; /&gt;
	&lt;/Match&gt;
&lt;/FindBugsFilter&gt;</pre>
</div></div><p>PS: Unfortunately, the usual local development cycle with <code>mvn clean test package install</code>  does not trigger the findbugs-related targets, so you only discover problems when trying to make a release. You can also execute <code>mvn findbugs:check</code>  explicitly to generate the report.</p><p>PPS: The X11 interface spawned by <code>mvn findbugs:gui</code>  (after the analysis tool has executed and left some notes in your workspace) is quite useful in both pointing to the lines of code with issues, and in detailing what the problem is and some reasonable ways to fix it.</p></div></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">For TortoiseGit users</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>If you use TortoiseGit as a Git client, do followings to have maven to run with TortoiseGit settings.</p><ol><li>Write the username/password of <a href="User-Account-on-Jenkins.html">your jenkins-ci.org account</a> in settings.xml (See above for details).<ul><li>Passing username/password in the command line seems result that SSH client recognizes the username as the hostname, and fails to connect.</li></ul></li><li><p>Add the path of msysgit to PATH environment variable. You can see the path to msysgit in TortoiseGit&gt;Settings&gt;General, &quot;Git.exe Path&quot;</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">set PATH=C:\Program Files\Git\bin</pre>
</div></div></li><li><p>Set the path of TortoisePlink.exe (in the bin directory of TortoiseGit) to GIT_SSH environment variable.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">set GIT_SSH=C:\Program Files\TortoiseGit\bin\TortoisePlink.exe</pre>
</div></div></li><li><p>Start pageant, and load putty key (ppk).</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">pageant path\to\id_rsa.ppk</pre>
</div></div></li><li><p>Run release command without username/password</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">mvn release:prepare release:perform</pre>
</div></div></li></ol></div></div><h1 id="HostingPlugins-Frequentlyaskedquestions">Frequently asked questions</h1><h3 id="HostingPlugins-WhatshouldtheJavapackagenamebe?">What should the Java package name be?</h3><p>Most old plugins use <code>org.jenkinsci.plugins.* but recent ones use io.jenkins.plugins.* </code>, but if you'd like to use your own package name, feel free to do so.</p><h1 id="HostingPlugins-Help!Mypluginisnotshowingupintheupdatecenter">Help! My plugin is not showing up in the update center</h1><ol><li>First, <a href="https://repo.jenkins-ci.org/releases/org/jenkins-ci/plugins/" class="external-link" rel="nofollow">check the release Maven repo</a> and see if your plugin is listed there. If not, your release process failed, and it never left your PC. If the other items on this list don't help to resolve this issue, capture the output from <code>mvn release:prepare release:perform</code> and send it to the dev list.</li><li>If your new version appears in the <a href="https://repo.jenkins-ci.org/snapshots/" class="external-link" rel="nofollow">SNAPSHOT repo</a> (rather than the &quot;release&quot; repo), see the &quot;Working around common issues&quot; section above</li><li>Check if your new version is in <a href="https://updates.jenkins-ci.org/update-center.json" class="external-link" rel="nofollow">https://updates.jenkins-ci.org/update-center.json</a>. This file is updated every 4 hours (plus mirror propagation time), so there's some delay before your new version appears here. So, as a rule of thumbs, <strong>please wait at least 8 hours before starting to worry about any issue</strong>.</li><li>If your plugin appears there but not in your Jenkins update center, visit Manage Plugins / Advanced and click &quot;Check Now&quot; to make Jenkins retrieve the latest <code>update-center.json</code> data.</li><li>(Currently unavailable due to <a href="https://issues.jenkins-ci.org/browse/INFRA-810" class="external-link" rel="nofollow">INFRA-810</a>) Search for your plugin's artifact ID in the <a href="https://ci.jenkins-ci.org/job/Update%20Center/job/infra_update_center_v3/lastSuccessfulBuild/consoleText" class="external-link" rel="nofollow">Update Centre build log</a> to see whether your plugin has been included, or why it has been excluded.<ol><li>Check that your your plugin's wiki page is a child of the <a href="Plugins.html">Plugins</a> page</li><li>Check that you have entered the correct plugin wiki URL in your POM</li></ol></li><li>Check the <a href="https://issues.jenkins-ci.org/browse/INFRA" class="external-link" rel="nofollow">INFRA</a> project for existing issues, or ask on <a href="https://jenkins-ci.org/content/chat" class="external-link" rel="nofollow">IRC</a> or the <a href="https://jenkins-ci.org/content/mailing-lists" class="external-link" rel="nofollow">developers' mailing list</a>; otherwise you can open an INFRA issue</li></ol>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:09</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
