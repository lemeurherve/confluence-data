<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Violation Comments to GitLab Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Violation Comments to GitLab Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (tomasbjerre)</span>, last modified on Sep 14, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Violation Comments to GitLab <a href="https://plugins.jenkins.io/violation-comments-to-gitlab" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2019-09-25/#SECURITY-1577" class="external-link" rel="nofollow">Credentials stored in plain text</a></li>
</ul>

</div></div>
This plugin uses <a href="https://github.com/tomasbjerre/violation-comments-to-gitlab-lib" class="external-link" rel="nofollow">Violation Comments to GitLab Lib</a>. It will find report files from static code analysis and comment GitLab merge requests with the content.<p><a rel="nofollow" href="https://ci.jenkins.io/job/Plugins/job/violation-comments-to-gitlab-plugin" class="external-link"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" alt="Build Status" src="https://camo.githubusercontent.com/b9d321a19cf7824548dcd0425949d9d58db960b7/68747470733a2f2f63692e6a656e6b696e732e696f2f6a6f622f506c7567696e732f6a6f622f76696f6c6174696f6e2d636f6d6d656e74732d746f2d6769746c61622d706c7567696e2f6a6f622f6d61737465722f62616467652f69636f6e" data-image-src="https://camo.githubusercontent.com/b9d321a19cf7824548dcd0425949d9d58db960b7/68747470733a2f2f63692e6a656e6b696e732e696f2f6a6f622f506c7567696e732f6a6f622f76696f6c6174696f6e2d636f6d6d656e74732d746f2d6769746c61622d706c7567696e2f6a6f622f6d61737465722f62616467652f69636f6e"></span></a></p><p style="">This is a Jenkins plugin for<span> </span><a href="https://github.com/tomasbjerre/violation-comments-to-gitlab-lib" style="text-decoration: none;" class="external-link" rel="nofollow">Violation Comments to GitLab Lib</a>. This plugin will find report files from static code analysis and comment GitLab pull requests with the content.</p><p style="">Available in Jenkins<span> </span><a rel="nofollow" style="text-decoration: none;" href="https://wiki.jenkins-ci.org/display/JENKINS/Violation+Comments+to+GitLab+Plugin" class="external-link">here</a>.</p><p style="">Example of supported reports are available<span> </span><a style="text-decoration: none;" href="https://github.com/tomasbjerre/violations-lib/tree/master/src/test/resources" class="external-link" rel="nofollow">here</a>.</p><p style="">There is a complete running example available here:<span> </span><a style="text-decoration: none;" href="https://github.com/tomasbjerre/jenkins-configuration-as-code-sandbox" class="external-link" rel="nofollow">https://github.com/tomasbjerre/jenkins-configuration-as-code-sandbox</a></p><p style="">You can also do this with a<span> </span><a rel="nofollow" href="https://www.npmjs.com/package/violation-comments-to-gitlab-command-line" style="text-decoration: none;" class="external-link">command line tool</a>.</p><p style="">A number of<span> </span><strong>parsers</strong><span> </span>have been implemented. Some<span> </span><strong>parsers</strong><span> </span>can parse output from several<span> </span><strong>reporters</strong>.</p><div class="table-wrap"><table style="" class="confluenceTable"><thead><tr><th class="confluenceTh">Reporter</th><th class="confluenceTh">Parser</th><th class="confluenceTh">Notes</th></tr></thead><tbody><tr><td class="confluenceTd"><a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm" style="text-decoration: none;" rel="nofollow" class="external-link"><em>ARM-GCC</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="http://developer.android.com/tools/help/lint.html" rel="nofollow" style="text-decoration: none;" class="external-link"><em>AndroidLint</em></a></td><td class="confluenceTd"><code>ANDROIDLINT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/willthames/ansible-lint" class="external-link" rel="nofollow"><em>AnsibleLint</em></a></td><td class="confluenceTd"><code>FLAKE8</code></td><td class="confluenceTd">With<span> </span><code>-p</code></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/PyCQA/bandit" class="external-link" rel="nofollow"><em>Bandit</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd">With<span> </span><code>bandit -r examples/ -f custom -o bandit.out --msg-template &quot;{abspath}:{line}: {severity}: {test_id}: {msg}&quot;</code></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://clang-analyzer.llvm.org/" rel="nofollow" class="external-link"><em>CLang</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="http://pmd.sourceforge.net/pmd-4.3.0/cpd.html" class="external-link"><em>CPD</em></a></td><td class="confluenceTd"><code>CPD</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://cppcheck.sourceforge.net/" class="external-link"><em>CPPCheck</em></a></td><td class="confluenceTd"><code>CPPCHECK</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/theandrewdavis/cpplint" class="external-link" rel="nofollow"><em>CPPLint</em></a></td><td class="confluenceTd"><code>CPPLINT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="https://github.com/CSSLint/csslint" style="text-decoration: none;" class="external-link" rel="nofollow"><em>CSSLint</em></a></td><td class="confluenceTd"><code>CSSLINT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="http://checkstyle.sourceforge.net/" rel="nofollow" class="external-link"><em>Checkstyle</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://codeclimate.com/" class="external-link"><em>CodeClimate</em></a></td><td class="confluenceTd"><code>CODECLIMATE</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="http://codenarc.sourceforge.net/" style="text-decoration: none;" rel="nofollow" class="external-link"><em>CodeNarc</em></a></td><td class="confluenceTd"><code>CODENARC</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/arturbosch/detekt" class="external-link" rel="nofollow"><em>Detekt</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd">With<span> </span><code>--output-format xml</code>.</td></tr><tr><td class="confluenceTd"><a href="http://dotnet.github.io/docfx/" rel="nofollow" style="text-decoration: none;" class="external-link"><em>DocFX</em></a></td><td class="confluenceTd"><code>DOCFX</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" href="https://www.stack.nl/~dimitri/doxygen/" style="text-decoration: none;" class="external-link"><em>Doxygen</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://www.puppetcookbook.com/posts/erb-template-validation.html" class="external-link"><em>ERB</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd">With<span> </span><code>erb -P -x -T '-' &quot;${it}&quot; | ruby -c 2&gt;&amp;1 &gt;/dev/null | grep '^-' | sed -E 's/^-([a-zA-Z0-9:]+)/${filename}\1 ERROR:/p' &gt; erbfiles.out</code>.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/sindresorhus/grunt-eslint" class="external-link" rel="nofollow"><em>ESLint</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd">With<span> </span><code>format: 'checkstyle'</code>.</td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="http://findbugs.sourceforge.net/" class="external-link"><em>Findbugs</em></a></td><td class="confluenceTd"><code>FINDBUGS</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="http://flake8.readthedocs.org/en/latest/" rel="nofollow" class="external-link"><em>Flake8</em></a></td><td class="confluenceTd"><code>FLAKE8</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://en.wikipedia.org/wiki/FxCop" class="external-link"><em>FxCop</em></a></td><td class="confluenceTd"><code>FXCOP</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://gcc.gnu.org/" rel="nofollow" class="external-link"><em>GCC</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://www.mono-project.com/docs/tools+libraries/tools/gendarme/" class="external-link"><em>Gendarme</em></a></td><td class="confluenceTd"><code>GENDARME</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="https://github.com/golang/lint" style="text-decoration: none;" class="external-link" rel="nofollow"><em>GoLint</em></a></td><td class="confluenceTd"><code>GOLINT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://golang.org/cmd/vet/" rel="nofollow" class="external-link"><em>GoVet</em></a></td><td class="confluenceTd"><code>GOLINT</code></td><td class="confluenceTd">Same format as GoLint.</td></tr><tr><td class="confluenceTd"><a href="https://github.com/golangci/golangci-lint/" style="text-decoration: none;" class="external-link" rel="nofollow"><em>GolangCI-Lint</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd">With<span> </span><code>--out-format=checkstyle</code>.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/google/error-prone" class="external-link" rel="nofollow"><em>GoogleErrorProne</em></a></td><td class="confluenceTd"><code>GOOGLEERRORPRONE</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://www.iar.com/iar-embedded-workbench/" class="external-link"><em>IAR</em></a></td><td class="confluenceTd"><code>IAR</code></td><td class="confluenceTd">With<span> </span><code>--no_wrap_diagnostics</code></td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="http://fbinfer.com/" class="external-link"><em>Infer</em></a></td><td class="confluenceTd"><code>PMD</code></td><td class="confluenceTd">Facebook Infer. With<span> </span><code>--pmd-xml</code>.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/jCoderZ/fawkez/wiki/JcReport" class="external-link" rel="nofollow"><em>JCReport</em></a></td><td class="confluenceTd"><code>JCREPORT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://jshint.com/" class="external-link"><em>JSHint</em></a></td><td class="confluenceTd"><code>JSLINT</code></td><td class="confluenceTd">With<span> </span><code>--reporter=jslint</code><span> </span>or the CHECKSTYLE parser with<span> </span><code>--reporter=checkstyle</code></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://junit.org/junit4/" rel="nofollow" class="external-link"><em>JUnit</em></a></td><td class="confluenceTd"><code>JUNIT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/shyiko/ktlint" class="external-link" rel="nofollow"><em>KTLint</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="http://www.klocwork.com/products-services/klocwork/static-code-analysis" rel="nofollow" style="text-decoration: none;" class="external-link"><em>Klocwork</em></a></td><td class="confluenceTd"><code>KLOCWORK</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/JetBrains/kotlin" class="external-link" rel="nofollow"><em>KotlinGradle</em></a></td><td class="confluenceTd"><code>KOTLINGRADLE</code></td><td class="confluenceTd">Output from Kotlin Gradle Plugin.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/JetBrains/kotlin" class="external-link" rel="nofollow"><em>KotlinMaven</em></a></td><td class="confluenceTd"><code>KOTLINMAVEN</code></td><td class="confluenceTd">Output from Kotlin Maven Plugin.</td></tr><tr><td class="confluenceTd"><a href="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/blob/master" style="text-decoration: none;" class="external-link" rel="nofollow"><em>Lint</em></a></td><td class="confluenceTd"><code>LINT</code></td><td class="confluenceTd">A common XML format, used by different linters.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://visualstudio.microsoft.com/vs/features/cplusplus/" class="external-link"><em>MSCpp</em></a></td><td class="confluenceTd"><code>MSCPP</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="https://pypi.python.org/pypi/mccabe" class="external-link"><em>Mccabe</em></a></td><td class="confluenceTd"><code>FLAKE8</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://pypi.python.org/pypi/mypy-lang" rel="nofollow" class="external-link"><em>MyPy</em></a></td><td class="confluenceTd"><code>MYPY</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/uber/NullAway" class="external-link" rel="nofollow"><em>NullAway</em></a></td><td class="confluenceTd"><code>GOOGLEERRORPRONE</code></td><td class="confluenceTd">Same format as Google Error Prone.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://www.gimpel.com/html/pcl.htm" class="external-link"><em>PCLint</em></a></td><td class="confluenceTd"><code>PCLINT</code></td><td class="confluenceTd">PC-Lint using the same output format as the Jenkins warnings plugin,<span> </span><a href="https://wiki.jenkins.io/display/JENKINS/PcLint+options" rel="nofollow" style="text-decoration: none;"><em>details here</em></a></td></tr><tr><td class="confluenceTd"><a href="https://github.com/squizlabs/PHP_CodeSniffer" style="text-decoration: none;" class="external-link" rel="nofollow"><em>PHPCS</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd">With<span> </span><code>phpcs api.php --report=checkstyle</code>.</td></tr><tr><td class="confluenceTd"><a href="https://phpmd.org/" rel="nofollow" style="text-decoration: none;" class="external-link"><em>PHPPMD</em></a></td><td class="confluenceTd"><code>PMD</code></td><td class="confluenceTd">With<span> </span><code>phpmd api.php xml ruleset.xml</code>.</td></tr><tr><td class="confluenceTd"><a href="https://pmd.github.io/" rel="nofollow" style="text-decoration: none;" class="external-link"><em>PMD</em></a></td><td class="confluenceTd"><code>PMD</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="https://github.com/PyCQA/pycodestyle" style="text-decoration: none;" class="external-link" rel="nofollow"><em>Pep8</em></a></td><td class="confluenceTd"><code>FLAKE8</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a href="https://github.com/Perl-Critic" style="text-decoration: none;" class="external-link" rel="nofollow"><em>PerlCritic</em></a></td><td class="confluenceTd"><code>PERLCRITIC</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://pitest.org/" class="external-link"><em>PiTest</em></a></td><td class="confluenceTd"><code>PITEST</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://puppet-lint.com/" class="external-link"><em>Puppet-Lint</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd">With<span> </span><code>-log-format %{fullpath}:%{line}:%{column}: %{kind}: %{message}</code></td></tr><tr><td class="confluenceTd"><a rel="nofollow" href="https://pypi.python.org/pypi/pydocstyle" style="text-decoration: none;" class="external-link"><em>PyDocStyle</em></a></td><td class="confluenceTd"><code>PYDOCSTYLE</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" href="https://pypi.python.org/pypi/pyflakes" style="text-decoration: none;" class="external-link"><em>PyFlakes</em></a></td><td class="confluenceTd"><code>FLAKE8</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://www.pylint.org/" rel="nofollow" class="external-link"><em>PyLint</em></a></td><td class="confluenceTd"><code>PYLINT</code></td><td class="confluenceTd">With<span> </span><code>pylint --output-format=parseable</code>.</td></tr><tr><td class="confluenceTd"><a href="https://www.jetbrains.com/resharper/" style="text-decoration: none;" rel="nofollow" class="external-link"><em>ReSharper</em></a></td><td class="confluenceTd"><code>RESHARPER</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" href="http://rubocop.readthedocs.io/en/latest/formatters/" style="text-decoration: none;" class="external-link"><em>RubyCop</em></a></td><td class="confluenceTd"><code>CLANG</code></td><td class="confluenceTd">With<span> </span><code>rubycop -f clang file.rb</code></td></tr><tr><td class="confluenceTd"><a rel="nofollow" href="http://www.scala-sbt.org/" style="text-decoration: none;" class="external-link"><em>SbtScalac</em></a></td><td class="confluenceTd"><code>SBTSCALAC</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="http://www.scalastyle.org/" class="external-link"><em>Scalastyle</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="http://www.harukizaemon.com/simian/" rel="nofollow" class="external-link"><em>Simian</em></a></td><td class="confluenceTd"><code>SIMIAN</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="https://www.sonarqube.org/" class="external-link"><em>Sonar</em></a></td><td class="confluenceTd"><code>SONAR</code></td><td class="confluenceTd">With<span> </span><code>mvn sonar:sonar -Dsonar.analysis.mode=preview -Dsonar.report.export.path=sonar-report.json</code>. Removed in 7.7, see<span> </span><a style="text-decoration: none;" rel="nofollow" href="https://jira.sonarsource.com/browse/SONAR-11670" class="external-link">SONAR-11670</a><span> </span>but can be retrieved with:<span> </span><code>curl --silent '<a href="http://sonar-server/api/issues/search?componentKeys=unique-key&amp;resolved=false" class="external-link" rel="nofollow">http://sonar-server/api/issues/search?componentKeys=unique-key&amp;resolved=false</a>' | jq -f sonar-report-builder.jq &gt; sonar-report.json</code>.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://spotbugs.github.io/" class="external-link"><em>Spotbugs</em></a></td><td class="confluenceTd"><code>FINDBUGS</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://stylecop.codeplex.com/" class="external-link"><em>StyleCop</em></a></td><td class="confluenceTd"><code>STYLECOP</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" href="https://github.com/realm/SwiftLint" class="external-link" rel="nofollow"><em>SwiftLint</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd">With<span> </span><code>--reporter checkstyle</code>.</td></tr><tr><td class="confluenceTd"><a style="text-decoration: none;" rel="nofollow" href="https://palantir.github.io/tslint/usage/cli/" class="external-link"><em>TSLint</em></a></td><td class="confluenceTd"><code>CHECKSTYLE</code></td><td class="confluenceTd">With<span> </span><code>-t checkstyle</code></td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="http://xmlsoft.org/xmllint.html" class="external-link"><em>XMLLint</em></a></td><td class="confluenceTd"><code>XMLLINT</code></td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><a rel="nofollow" style="text-decoration: none;" href="https://yamllint.readthedocs.io/en/stable/index.html" class="external-link"><em>YAMLLint</em></a></td><td class="confluenceTd"><code>YAMLLINT</code></td><td class="confluenceTd">With<span> </span><code>-f parsable</code></td></tr><tr><td class="confluenceTd"><a href="https://pypi.python.org/pypi/zptlint" rel="nofollow" style="text-decoration: none;" class="external-link"><em>ZPTLint</em></a></td><td class="confluenceTd"><code>ZPTLINT</code></td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p style="">Missing a format? Open an issue<span> </span><a style="text-decoration: none;" href="https://github.com/tomasbjerre/violations-lib/issues" class="external-link" rel="nofollow">here</a>!</p><p style="">There is also:</p><ul style=""><li>A<span> </span><a style="text-decoration: none;" href="https://github.com/tomasbjerre/violation-comments-to-gitlab-gradle-plugin" class="external-link" rel="nofollow">Gradle plugin</a>.</li><li>A<span> </span><a style="text-decoration: none;" href="https://github.com/tomasbjerre/violation-comments-to-gitlab-maven-plugin" class="external-link" rel="nofollow">Maven plugin</a>.</li></ul><h2 style="" id="ViolationCommentstoGitLabPlugin-NotifyJenkinsfromGitLab">Notify Jenkins from GitLab</h2><ul style=""><li><p>You may trigger with a<span> </span><a href="https://docs.gitlab.com/ce/user/project/integrations/webhooks.html#merge-request-events" style="text-decoration: none;" rel="nofollow" class="external-link">webhook</a><span> </span>in GitLab. And consume it with<span> </span><a href="https://github.com/jenkinsci/generic-webhook-trigger-plugin" style="text-decoration: none;" class="external-link" rel="nofollow">Generic Webhook Trigger plugin</a><span> </span>to get the variables you need.</p></li><li><p>Or, trigger with<span> </span><a style="text-decoration: none;" href="https://github.com/jenkinsci/gitlab-plugin" class="external-link" rel="nofollow">GitLab plugin</a>.</p></li><li><p>Or, trigger with<span> </span><a href="https://github.com/timols/jenkins-gitlab-merge-request-builder-plugin" style="text-decoration: none;" class="external-link" rel="nofollow">GitLab Merge Request Builder Plugin</a>.</p></li></ul><h2 style="" id="ViolationCommentstoGitLabPlugin-Merge">Merge</h2><p style=""><strong>You must perform the merge before build</strong>. If you don't perform the merge, the reported violations will refer to other lines then those in the pull request. The merge can be done with a shell script like this.</p><pre><span class="pl-c1" style="color: rgb(0,92,197);">echo</span> ---
<span class="pl-c1" style="color: rgb(0,92,197);">echo</span> --- Merging from <span class="pl-smi" style="color: rgb(36,41,46);">$FROM</span> <span class="pl-k" style="color: rgb(215,58,73);">in</span> <span class="pl-smi" style="color: rgb(36,41,46);">$FROMREPO</span> to <span class="pl-smi" style="color: rgb(36,41,46);">$TO</span> <span class="pl-k" style="color: rgb(215,58,73);">in</span> <span class="pl-smi" style="color: rgb(36,41,46);">$TOREPO</span>
<span class="pl-c1" style="color: rgb(0,92,197);">echo</span> ---
git clone <span class="pl-smi" style="color: rgb(36,41,46);">$TOREPO</span>
<span class="pl-c1" style="color: rgb(0,92,197);">cd</span> <span class="pl-k" style="color: rgb(215,58,73);">*</span>
git reset --hard <span class="pl-smi" style="color: rgb(36,41,46);">$TO</span>
git status
git remote add from <span class="pl-smi" style="color: rgb(36,41,46);">$FROMREPO</span>
git fetch from
git merge <span class="pl-smi" style="color: rgb(36,41,46);">$FROM</span>
git --no-pager log --max-count=10 --graph --abbrev-commit

Your build <span class="pl-c1" style="color: rgb(0,92,197);">command</span> here<span class="pl-k" style="color: rgb(215,58,73);">!</span></pre><h1 style="" id="ViolationCommentstoGitLabPlugin-Screenshots">Screenshots</h1><p style="">Comments can be made on the diff with one comment per violation<span> </span><code>createSingleFileComments</code>.</p><p style=""><a href="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/blob/master/sandbox/gitlab-comment-diff.png" style="text-decoration: none;" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" alt="Example comment on diff" src="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/raw/master/sandbox/gitlab-comment-diff.png" data-image-src="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/raw/master/sandbox/gitlab-comment-diff.png"></span></a></p><p style="">Or one big comment can be made,<span> </span><code>createCommentWithAllSingleFileComments</code>.</p><p style=""><a style="text-decoration: none;" href="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/blob/master/sandbox/mergerequest-onecomment.png" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" alt="Example comment" src="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/raw/master/sandbox/mergerequest-onecomment.png" data-image-src="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/raw/master/sandbox/mergerequest-onecomment.png"></span></a></p><h2 style="" id="ViolationCommentstoGitLabPlugin-JobDSLPlugin">Job DSL Plugin</h2><p style="">This plugin can be used with the Job DSL Plugin. Here is an example using<span> </span><a href="https://github.com/jenkinsci/generic-webhook-trigger-plugin" style="text-decoration: none;" class="external-link" rel="nofollow">Generic Webhook Trigger plugin</a>,<span> </span><a rel="nofollow" href="https://wiki.jenkins-ci.org/display/JENKINS/HTTP+Request+Plugin" style="text-decoration: none;" class="external-link">HTTP Request Plugin</a><span> </span>and<span> </span><a rel="nofollow" href="https://wiki.jenkins-ci.org/display/JENKINS/Conditional+BuildStep+Plugin" style="text-decoration: none;" class="external-link">Conditional BuildStep Plugin</a>.</p><pre>job(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>GitLab_MR_Builder<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) {
 concurrentBuild()
 quietPeriod(<span class="pl-c1" style="color: rgb(0,92,197);">0</span>)
 parameters {
  stringParam(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>MERGE_REQUEST_TO_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
  stringParam(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>MERGE_REQUEST_FROM_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
  stringParam(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>MERGE_REQUEST_TO_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
  stringParam(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>MERGE_REQUEST_FROM_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
 }
 scm {
  git {
   remote {
    name(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>origin<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    url(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>$MERGE_REQUEST_TO_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
   }
   remote {
    name(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>upstream<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    url(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>$MERGE_REQUEST_FROM_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
   }
   branch(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>$MERGE_REQUEST_FROM_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
   extensions {
    mergeOptions {
     remote(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>upstream<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
     branch(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>$MERGE_REQUEST_TO_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    }
   }
  }
 }
 triggers {
  genericTrigger {
   genericVariables {
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_TO_URL<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target.git_http_url<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_FROM_URL<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.source.git_http_url<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_TO_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target_branch<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_FROM_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.source_branch<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>PROJECT_ID<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target_project_id<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUST_ID<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.id<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_OBJECT_KIND<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_kind<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_OLD_REV<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.oldrev<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_ACTION<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.action<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
   }
   regexpFilterText(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>MR_OBJECT_KIND <span class="pl-cce">\$</span>MR_ACTION <span class="pl-cce">\$</span>MR_OLD_REV<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
   regexpFilterExpression(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>^merge_request<span class="pl-cce">\\</span>s(update<span class="pl-cce">\\</span>s.{40}<span class="pl-cce">\$</span>|open.*)<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
  }
 }
 steps {
  httpRequest {
   url(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>http://gitlab:880/api/v3/projects/<span class="pl-cce">\$</span>PROJECT_ID/merge_requests/<span class="pl-cce">\$</span>MERGE_REQUST_ID/notes?private_token=AvAkp6HtUvzpesPypXSk<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
   consoleLogResponseBody(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
   httpMode(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>POST<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
   requestBody(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>body=Building... %20<span class="pl-cce">\$</span>BUILD_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
   }
 
  shell(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>./gradlew build<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
 
  conditionalBuilder {
   runCondition {
    statusCondition {
     worstResult(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>SUCCESS<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
     bestResult(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>SUCCESS<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    }
    runner {
     runUnstable()
    }
    conditionalbuilders {
     httpRequest {
      url(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>http://gitlab:880/api/v3/projects/<span class="pl-cce">\$</span>PROJECT_ID/merge_requests/<span class="pl-cce">\$</span>MERGE_REQUST_ID/notes?private_token=AvAkp6HtUvzpesPypXSk<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
      consoleLogResponseBody(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
      httpMode(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>POST<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
      requestBody(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>body=SUCCESS%20<span class="pl-cce">\$</span>BUILD_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
     }
    }
   }
  }
 
  conditionalBuilder {
   runCondition {
    statusCondition {
     worstResult(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>FAILURE<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
     bestResult(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>FAILURE<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    }
    runner {
     runUnstable()
    }
    conditionalbuilders {
     httpRequest {
      url(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>http://gitlab:880/api/v3/projects/<span class="pl-cce">\$</span>PROJECT_ID/merge_requests/<span class="pl-cce">\$</span>MERGE_REQUST_ID/notes?private_token=AvAkp6HtUvzpesPypXSk<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
      consoleLogResponseBody(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
      httpMode(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>POST<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
      requestBody(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>body=FAIL%20<span class="pl-cce">\$</span>BUILD_URL<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
     }
    }
   }
  }
 }
 publishers {
  violationsToGitLabRecorder {
   config {
    gitLabUrl(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>http://gitlab:880/<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    projectId(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>PROJECT_ID<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    mergeRequestIid(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>MERGE_REQUST_IID<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    
    <span class="pl-c" style="color: rgb(106,115,125);">// Only specify proxy if you need it</span>
    proxyUri(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    proxyCredentialsId(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) <span class="pl-c" style="color: rgb(106,115,125);">// A username/password credential</span>
 
    commentOnlyChangedContent(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    commentOnlyChangedFiles(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    createSingleFileComments(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    createCommentWithAllSingleFileComments(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    minSeverity(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>INFO<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>)
    maxNumberOfViolations(<span class="pl-c1" style="color: rgb(0,92,197);">99999</span>)
    
    <span class="pl-c" style="color: rgb(106,115,125);">//You may want this when troubleshooting things</span>
    enableLogging(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    
 
    apiTokenCredentialsId(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>gitlabtoken<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>) <span class="pl-c" style="color: rgb(106,115,125);">// A secret text credential</span>
    apiTokenPrivate(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    authMethodHeader(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    ignoreCertificateErrors(<span class="pl-c1" style="color: rgb(0,92,197);">true</span>)
    
    commentTemplate(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;&quot;&quot;</span></span>
<span class="pl-s" style="color: rgb(3,47,98);">    **Reporter**: {{violation.reporter}}{{#violation.rule}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">    </span>
<span class="pl-s" style="color: rgb(3,47,98);">    **Rule**: {{violation.rule}}{{/violation.rule}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">    **Severity**: {{violation.severity}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">    **File**: {{violation.file}} L{{violation.startLine}}{{#violation.source}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">    </span>
<span class="pl-s" style="color: rgb(3,47,98);">    **Source**: {{violation.source}}{{/violation.source}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">    </span>
<span class="pl-s" style="color: rgb(3,47,98);">    {{violation.message}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">    <span class="pl-pds" style="color: rgb(3,47,98);">&quot;&quot;&quot;</span></span>)
 
    violationConfigs {
     violationConfig {
      parser(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>FINDBUGS<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
      reporter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>Findbugs<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
      pattern(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>.*/findbugs/.*<span class="pl-cce">\\</span>.xml<span class="pl-cce">\$</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     }
     violationConfig {
      parser(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>CHECKSTYLE<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
      reporter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>Checkstyle<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
      pattern(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>.*/checkstyle/.*<span class="pl-cce">\\</span>.xml<span class="pl-cce">\$</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     }
    }
   }
  }
 }
}</pre><h2 style="" id="ViolationCommentstoGitLabPlugin-PipelinePlugin">Pipeline Plugin</h2><p style="">Here is an example pipeline that will merge, run unit tests, run static code analysis and finally report back to GitLab. It requires the<span> </span><a href="https://github.com/jenkinsci/gitlab-plugin" style="text-decoration: none;" class="external-link" rel="nofollow">GitLab Plugin</a>.</p><pre>pipelineJob(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>merge-request-pipeline<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>) {
 concurrentBuild()
 quietPeriod(<span class="pl-c1" style="color: rgb(0,92,197);">0</span>)
 authenticationToken(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>thetoken<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
 triggers {
  genericTrigger {
   genericVariables {
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_TO_URL<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target.git_http_url<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_FROM_URL<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.source.git_http_url<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_TO_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target_branch<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUEST_FROM_BRANCH<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.source_branch<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>PROJECT_ID<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target_project_id<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>PROJECT_PATH<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.target.path_with_namespace<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MERGE_REQUST_IID<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.iid<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_OBJECT_KIND<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_kind<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_OLD_REV<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.oldrev<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_ACTION<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.action<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
    genericVariable {
     key(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>MR_TITLE<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     value(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>.object_attributes.title<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     expressionType(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>JSONPath<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
     regexpFilter(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
    }
   }
   regexpFilterText(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\$</span>MR_OBJECT_KIND <span class="pl-cce">\$</span>MR_ACTION <span class="pl-cce">\$</span>MR_OLD_REV<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
   regexpFilterExpression(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>^merge_request<span class="pl-cce">\\</span>s(update<span class="pl-cce">\\</span>s.{40}<span class="pl-cce">\$</span>|open.*)<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
  }
 }
 
 definition {
  cps {
   script(readFileFromWorkspace(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>merge_request_pipeline.pipeline<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>))
   sandbox()
  }
 }
}</pre><p style="">And the merge_request_pipeline.pipeline contains</p><pre><span class="pl-k" style="color: rgb(215,58,73);">def</span> <span class="pl-en" style="color: rgb(111,66,193);">commentMr</span>(<span class="pl-v" style="color: rgb(227,98,9);">projectId</span>, <span class="pl-v" style="color: rgb(227,98,9);">mergeRequestIid</span>, <span class="pl-v" style="color: rgb(227,98,9);">comment</span>) {
 <span class="pl-k" style="color: rgb(215,58,73);">def</span> body <span class="pl-k" style="color: rgb(215,58,73);">=</span> comment
 .replaceAll(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span> <span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>,<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>%20<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
 .replaceAll(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>/<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>,<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>%2F<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
 <span class="pl-k" style="color: rgb(215,58,73);">def</span> project <span class="pl-k" style="color: rgb(215,58,73);">=</span> projectId
 .replaceAll(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>/<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>,<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>%2F<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
 sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>curl http://gitlab:80/api/v4/projects/<span class="pl-smi" style="color: rgb(36,41,46);">$project</span>/merge_requests/<span class="pl-smi" style="color: rgb(36,41,46);">$mergeRequestIid</span>/notes -H 'PRIVATE-TOKEN: 6xRcmSzPzzEXeS2qqr7R' -X POST -d <span class="pl-cce">\&quot;</span>body=<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span><span class="pl-k" style="color: rgb(215,58,73);">+</span>body<span class="pl-k" style="color: rgb(215,58,73);">+</span><span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-cce">\&quot;</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
}
  
node {
 deleteDir()
 currentBuild<span class="pl-k" style="color: rgb(215,58,73);">.</span>description <span class="pl-k" style="color: rgb(215,58,73);">=</span> <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span><span class="pl-smi" style="color: rgb(36,41,46);">$MR_TITLE</span> from <span class="pl-smi" style="color: rgb(36,41,46);">$MERGE_REQUEST_FROM_BRANCH</span> to <span class="pl-smi" style="color: rgb(36,41,46);">$MERGE_REQUEST_TO_BRANCH</span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  
 commentMr(env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">PROJECT_PATH</span>,env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">MERGE_REQUST_IID</span>,<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>Verifierar <span class="pl-smi" style="color: rgb(36,41,46);">$MERGE_REQUEST_FROM_BRANCH<span class="pl-k" style="color: rgb(215,58,73);">...</span></span> <span class="pl-s1" style="color: rgb(36,41,46);"><span class="pl-pse">${</span>env.BUILD_URL<span class="pl-pse">}</span></span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
  
 stage(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Merge<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) {
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git init<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git fetch --no-tags <span class="pl-smi" style="color: rgb(36,41,46);">$MERGE_REQUEST_TO_URL</span> +refs/heads/*:refs/remotes/origin/* --depth=200<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git checkout origin/<span class="pl-s1" style="color: rgb(36,41,46);"><span class="pl-pse">${</span>env.MERGE_REQUEST_TO_BRANCH<span class="pl-pse">}</span></span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git config user.email 'je@nkins.domain'<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git config user.name 'jenkins'<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git merge origin/<span class="pl-s1" style="color: rgb(36,41,46);"><span class="pl-pse">${</span>env.MERGE_REQUEST_FROM_BRANCH<span class="pl-pse">}</span></span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>git log --graph --abbrev-commit --max-count=10<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
 }
  
 stage(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Compile<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) {
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>./gradlew assemble<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
 }
  
 stage(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Unit test<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) {
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>./gradlew test<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  commentMr(env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">PROJECT_PATH</span>,env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">MERGE_REQUST_IID</span>,<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>Test ok in <span class="pl-smi" style="color: rgb(36,41,46);">$MERGE_REQUEST_FROM_BRANCH</span> =) <span class="pl-s1" style="color: rgb(36,41,46);"><span class="pl-pse">${</span>env.BUILD_URL<span class="pl-pse">}</span></span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
 }
  
 stage(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Regression test<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) {
  sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>echo regtest<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
  commentMr(env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">PROJECT_PATH</span>,env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">MERGE_REQUST_IID</span>,<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>Regression test ok in <span class="pl-smi" style="color: rgb(36,41,46);">$MERGE_REQUEST_FROM_BRANCH</span> =) <span class="pl-s1" style="color: rgb(36,41,46);"><span class="pl-pse">${</span>env.BUILD_URL<span class="pl-pse">}</span></span><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>)
 }
  
 stage(<span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Static code analysis<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>) {
 sh <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span>./gradlew check<span class="pl-pds" style="color: rgb(3,47,98);">&quot;</span></span>
 step([
 $<span class="pl-c1" style="color: rgb(0,92,197);">class</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>ViolationsToGitLabRecorder<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>,
 <span class="pl-c1" style="color: rgb(0,92,197);">config</span>: [
  <span class="pl-c1" style="color: rgb(0,92,197);">gitLabUrl</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>http://gitlab:80/<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">projectId</span>: env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">PROJECT_PATH</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">mergeRequestIid</span>: env<span class="pl-k" style="color: rgb(215,58,73);">.</span><span class="pl-c1" style="color: rgb(0,92,197);">MERGE_REQUST_IID</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">commentOnlyChangedContent</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">commentOnlyChangedFiles</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">createSingleFileComments</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">createCommentWithAllSingleFileComments</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">minSeverity</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>INFO<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">maxNumberOfViolations</span>: <span class="pl-c1" style="color: rgb(0,92,197);">99999</span>,
 
  <span class="pl-c" style="color: rgb(106,115,125);">// You may want this when troubleshooting things</span>
  <span class="pl-c1" style="color: rgb(0,92,197);">enableLogging</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
 
  <span class="pl-c" style="color: rgb(106,115,125);">// Only specify proxy if you need it</span>
  <span class="pl-c1" style="color: rgb(0,92,197);">proxyUri</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">proxyCredentialsId</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span><span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c" style="color: rgb(106,115,125);">// A username/password credential</span>
 
  <span class="pl-c1" style="color: rgb(0,92,197);">apiTokenCredentialsId</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>id<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c" style="color: rgb(106,115,125);">// A secret text credential</span>
  <span class="pl-c1" style="color: rgb(0,92,197);">apiTokenPrivate</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">authMethodHeader</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">ignoreCertificateErrors</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">keepOldComments</span>: <span class="pl-c1" style="color: rgb(0,92,197);">false</span>,
  <span class="pl-c1" style="color: rgb(0,92,197);">shouldSetWip</span>: <span class="pl-c1" style="color: rgb(0,92,197);">true</span>,
 
  <span class="pl-c1" style="color: rgb(0,92,197);">commentTemplate</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">&quot;&quot;&quot;</span></span>
<span class="pl-s" style="color: rgb(3,47,98);"> **Reporter**: {{violation.reporter}}{{#violation.rule}}</span>
<span class="pl-s" style="color: rgb(3,47,98);"> </span>
<span class="pl-s" style="color: rgb(3,47,98);"> **Rule**: {{violation.rule}}{{/violation.rule}}</span>
<span class="pl-s" style="color: rgb(3,47,98);"> **Severity**: {{violation.severity}}</span>
<span class="pl-s" style="color: rgb(3,47,98);"> **File**: {{violation.file}} L{{violation.startLine}}{{#violation.source}}</span>
<span class="pl-s" style="color: rgb(3,47,98);"> </span>
<span class="pl-s" style="color: rgb(3,47,98);"> **Source**: {{violation.source}}{{/violation.source}}</span>
<span class="pl-s" style="color: rgb(3,47,98);"> </span>
<span class="pl-s" style="color: rgb(3,47,98);"> {{violation.message}}</span>
<span class="pl-s" style="color: rgb(3,47,98);">  <span class="pl-pds" style="color: rgb(3,47,98);">&quot;&quot;&quot;</span></span>,
 
  <span class="pl-c1" style="color: rgb(0,92,197);">violationConfigs</span>: [
   [ <span class="pl-c1" style="color: rgb(0,92,197);">pattern</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>.*/checkstyle/.*<span class="pl-cce">\\</span>.xml$<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c1" style="color: rgb(0,92,197);">parser</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>CHECKSTYLE<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c1" style="color: rgb(0,92,197);">reporter</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Checkstyle<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span> ],
   [ <span class="pl-c1" style="color: rgb(0,92,197);">pattern</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>.*/findbugs/.*<span class="pl-cce">\\</span>.xml$<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c1" style="color: rgb(0,92,197);">parser</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>FINDBUGS<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c1" style="color: rgb(0,92,197);">reporter</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>Findbugs<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span> ],
   [ <span class="pl-c1" style="color: rgb(0,92,197);">pattern</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>.*/pmd/.*<span class="pl-cce">\\</span>.xml$<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c1" style="color: rgb(0,92,197);">parser</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>PMD<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span>, <span class="pl-c1" style="color: rgb(0,92,197);">reporter</span>: <span class="pl-s" style="color: rgb(3,47,98);"><span class="pl-pds" style="color: rgb(3,47,98);">'</span>PMD<span class="pl-pds" style="color: rgb(3,47,98);">'</span></span> ],
  ]
 ]
 ])
 }
}</pre><h1 id="ViolationCommentstoGitLabPlugin-Changelog"><span style="color: rgb(210,73,57);">Changelog</span></h1><h1 id="ViolationCommentstoGitLabPlugin-https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/blob/master/CHANGELOG.md"><a style="font-size: 14.0px;" href="https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/blob/master/CHANGELOG.md" class="external-link" rel="nofollow">https://github.com/jenkinsci/violation-comments-to-gitlab-plugin/blob/master/CHANGELOG.md</a></h1>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/106266992/106496054.png">mergerequest-onecomment.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/106266992/106496053.png">Skärmbild från 2017-03-14 19-22-30.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/106266992/106496019.png">mergerequest-onecomment.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/106266992/116064405.png">violation-pipeline.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/106266992/138454990.png">image2018-4-27 17:39:11.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:10</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
