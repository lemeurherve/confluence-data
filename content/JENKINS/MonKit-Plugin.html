<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : MonKit Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : MonKit Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (lars_kruse)</span>, last modified by <span class='editor'> Unknown User (madsnielsen)</span> on Oct 23, 2015
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View MonKit <a href="https://plugins.jenkins.io/monkit-plugin" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
</div>
<div class="columnMacro">

<h4 id="MonKitPlugin-Developedby">Developed by</h4>


<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/57182599/61112494.png" data-image-src="attachments/57182599/61112494.png" data-unresolved-comment-count="0" data-linked-resource-id="61112494" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="praqmalogo.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57182599" data-linked-resource-container-version="37"></span></p>



<h4 id="MonKitPlugin-Sponsoredby">Sponsored by</h4>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" height="33" width="161" src="attachments/57182599/61112495.jpg" data-image-src="attachments/57182599/61112495.jpg" data-unresolved-comment-count="0" data-linked-resource-id="61112495" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="grundfos_logo.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="57182599" data-linked-resource-container-version="37"></span></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.novonordisk.dk/Images/apis.png" data-image-src="http://www.novonordisk.dk/Images/apis.png"></span></p>

</div></div></div></div>

<p>
<p><strong>The MonKit plugin is used to display charts of data delivered in XML compliant with</strong> <strong><a href="http://code.praqma.net/schemas/monkit/1.0.1/monkit.xsd" class="external-link" rel="nofollow">monkit.xsd</a></strong><strong>. Monkit also has a small Java API you can use to produce the XML.</strong></p>

</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>For clients who wish to see the graphs produced by Monkit. Access to google API site is required. Since it uses the graphing engine to create the charts. If you do not have access to the internet from the machine you're browsing the job, you can use version 0.2.4</p></div></div>

<p>The idea of this plugin is, that given any xml complying to the xsd <a href="http://code.praqma.net/schemas/monkit/1.0.1/monkit.xsd" class="external-link" rel="nofollow">http://code.praqma.net/schemas/monkit/1.0.1/monkit.xsd</a> a chart will be produced and displayed in the project.</p>

<p>The basic format is given as a set of categories, which contains a set of observations.</p>

<p>Each category will be displayed as a chart and each observation for a category will be a graph in that chart.</p>

<p>For example:</p>


<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">
&lt;categories&gt;
    &lt;category name=&quot;memory&quot; scale=&quot;mb&quot;&gt;
        &lt;observations&gt;
            &lt;observation name=&quot;Server 1&quot;&gt;100&lt;/observation&gt;
            &lt;observation name=&quot;Server 2&quot;&gt;200&lt;/observation&gt;
        &lt;/observations&gt;
    &lt;/category&gt;
    
    &lt;category name=&quot;disk&quot; scale=&quot;gb&quot;&gt;
        &lt;observations&gt;
            &lt;observation name=&quot;Server 1&quot;&gt;41&lt;/observation&gt;
            &lt;observation name=&quot;Server 2&quot;&gt;58&lt;/observation&gt;
        &lt;/observations&gt;
    &lt;/category&gt;
&lt;/categories&gt;
</pre>
</div></div>

<p>The formation of the xml can be eased with a small tool, MonKit, which is written in java and can be found at github <a href="https://github.com/Praqma/MonKit" class="external-link" rel="nofollow">https://github.com/Praqma/MonKit</a>.</p>

<p>The charts looks like this:</p>

<p> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/57182599/57409734.png" data-image-src="attachments/57182599/57409734.png" data-unresolved-comment-count="0" data-linked-resource-id="57409734" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="disk.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57182599" data-linked-resource-container-version="37"></span></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/57182599/57409735.png" data-image-src="attachments/57182599/57409735.png" data-unresolved-comment-count="0" data-linked-resource-id="57409735" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="memory.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57182599" data-linked-resource-container-version="37"></span></p>


<p>As an additional feature, MonKit plugin can set the build health. This can be configured like this:</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/57182599/61112506.png" data-image-src="attachments/57182599/61112506.png" data-unresolved-comment-count="0" data-linked-resource-id="61112506" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="configure2.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57182599" data-linked-resource-container-version="37"></span></p>


<p>This should be read as, the category &quot;disk&quot; is at full health at 75 or above and unstable at 50 and below. The values between these two numbers are interpolated to a build health percentage.</p>


<h3 id="MonKitPlugin-UsingMonKit">Using MonKit</h3>

<p>This section will describe how to use MonKit as an API.</p>

<p>For now there's only an API for Java.</p>

<h4 id="MonKitPlugin-Java">Java</h4>

<p>MonKit can be included in your Maven project if you include our repository in the distributionManagement section and the dependency in the dependencies section - like this:</p>


<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">
&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;praqma&lt;/id&gt;
    &lt;name&gt;praqma&lt;/name&gt;
    &lt;url&gt;http://code.praqma.net/repo/maven&lt;/url&gt;
  &lt;/repository&gt;
  ...
&lt;/repositories&gt;

...

&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;net.praqma&lt;/groupId&gt;
    &lt;artifactId&gt;monkit&lt;/artifactId&gt;
    &lt;version&gt;0.1.6&lt;/version&gt;
  &lt;/dependency&gt;
  ...
&lt;/dependencies&gt;
</pre>
</div></div>




















<p>The API works as follows:</p>
<ol>
	<li>Create a MonKit instance.</li>
	<li>Add a category</li>
	<li>Add an observation</li>
	<li>Repeat from 2 or 3</li>
	<li>save() it</li>
</ol>


<p>By default MonKit saves the xml file to the current workspace in a file called monkit.xml.</p>

<p>The filename can be given as a File argument to the constructor or save().</p>

<p>Two static methods are available to generate MonKit instances:</p>
<ul>
	<li>fromString(String), where String is a velformed valid MonKit xml String</li>
	<li>fromXML(File), where File points to a velformed valid MonKit xml File</li>
</ul>


<p>To exemplify:</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">
MonKit mk = new MonKit();
mk.addCategory(&quot;category&quot;, &quot;scale&quot;);
mk.add(&quot;name&quot;, &quot;1&quot;, &quot;category&quot;);
mk.save();
</pre>
</div></div>
<p>The previous code will produce a file called monkit.xml in the current working directory.</p>

<p>The following code will produce three MonKit instances, merge them, create a final instance and save it to &quot;myfile.xml&quot; in the current working directory.</p>


<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">
MonKit mk1 = MonKit.fromString(&quot;
&lt;categories&gt;
  &lt;category name=\&quot;category\&quot; scale=\&quot;scale\&quot;&gt;
    &lt;observation name=\&quot;name1\&quot;&gt;7&lt;/observation&gt;
    &lt;observation name=\&quot;name2\&quot;&gt;10&lt;/observation&gt;
  &lt;/category&gt;&lt;category name=\&quot;category2\&quot; scale=\&quot;scale2\&quot;/&gt;
&lt;/categories&gt;
&quot; );
MonKit mk2 = MonKit.fromString(&quot;
&lt;categories&gt;
  &lt;category name=\&quot;category\&quot; scale=\&quot;scale\&quot;&gt;
    &lt;observation name=\&quot;name1\&quot;&gt;8&lt;/observation&gt;
    &lt;observation name=\&quot;name4\&quot;&gt;11&lt;/observation&gt;
  &lt;/category&gt;&lt;category name=\&quot;category2\&quot; scale=\&quot;scale2\&quot;/&gt;
&lt;/categories&gt;
&quot; );
MonKit mk3 = MonKit.fromString(&quot;
&lt;categories&gt;
  &lt;category name=\&quot;category2\&quot; scale=\&quot;scale\&quot;&gt;
    &lt;observation name=\&quot;name44\&quot;&gt;9&lt;/observation&gt;
    &lt;observation name=\&quot;name22222\&quot;&gt;12&lt;/observation&gt;
  &lt;/category&gt;
&lt;/categories&gt;
&quot; );

MonKit mk = MonKit.merge(mk1,mk2,mk3);

mk.save(new File(&quot;myfile.xml&quot;));
</pre>
</div></div>
<p>The Javadoc can be seen at <a href="http://code.praqma.net/docs/monkit/" class="external-link" rel="nofollow">http://code.praqma.net/docs/monkit</a></p>

<h2 id="MonKitPlugin-Changelog">Changelog</h2>


<h5 id="MonKitPlugin-1.0.0(2015,October23)">1.0.0 (2015, October 23)</h5>

<ul>
	<li>Fixed an issue with values in the ui. Use long instead of integer to hold bigger values.</li>
</ul>

                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/57409734.png">disk.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/57409735.png">memory.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/57409736.png">configure.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/61112494.png">praqmalogo.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/61112495.jpg">grundfos_logo.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/61112503.png">dump1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57182599/61112506.png">configure2.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:34</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
