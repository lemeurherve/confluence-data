<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Pipeline Groovy Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Pipeline Groovy Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (jglick)</span>, last modified by <span class='editor'> Unknown User (dnusbaum)</span> on Aug 29, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="sectionColumnWrapper"><div class="sectionMacro"><div class="sectionMacroRow"><div class="columnMacro"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Pipeline: Groovy <a href="https://plugins.jenkins.io/workflow-cps" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2019-03-25/#SECURITY-1353" class="external-link" rel="nofollow">Script Security sandbox bypass</a></li>
	<li><a href="https://jenkins.io/security/advisory/2018-10-29/#SECURITY-1186" class="external-link" rel="nofollow">Script Security sandbox bypass</a></li>
	<li><a href="https://jenkins.io/security/advisory/2017-07-10/" class="external-link" rel="nofollow">Arbitrary code execution due to incomplete sandbox protection</a></li>
	<li><a href="https://jenkins.io/security/advisory/2019-01-08/#SECURITY-1266" class="external-link" rel="nofollow">Script Security sandbox bypass</a></li>
	<li><a href="https://jenkins.io/security/advisory/2019-03-06/#SECURITY-1336%20(2)" class="external-link" rel="nofollow">Script security sandbox bypass</a></li>
	<li><a href="https://jenkins.io/security/advisory/2020-02-12/#SECURITY-1710" class="external-link" rel="nofollow">Sandbox bypass via default method parameter expression</a></li>
</ul>

</div></div>
</div><div class="columnMacro"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631021912397 {padding: 0px;}
div.rbtoc1631021912397 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631021912397 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631021912397'>
<ul class='toc-indentation'>
<li><a href='#PipelineGroovyPlugin-Changelog'>Changelog</a>
<ul class='toc-indentation'>
<li><a href='#PipelineGroovyPlugin-2.74(29Aug2019)'>2.74 (29 Aug 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.73(01Aug2019)'>2.73 (01 Aug 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.72(11Jul2019)'>2.72 (11 Jul 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.71(05Jul2019)'>2.71 (05 Jul 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.70(03Jun2019)'>2.70 (03 Jun 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.69(28May2019)'>2.69 (28 May 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.68(10May2019)'>2.68 (10 May 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.67(19Apr2019)'>2.67 (19 Apr 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.66(11Apr2019)'>2.66 (11 Apr 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.65(25Mar2019)'>2.65 (25 Mar 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.64(06Mar2019)'>2.64 (06 Mar 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.63(01Feb2019)'>2.63 (01 Feb 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.62(14Jan2019)'>2.62 (14 Jan 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.61.1(8Jan2019)'>2.61.1 (8 Jan 2019)</a></li>
<li><a href='#PipelineGroovyPlugin-2.61(30Nov2018)'>2.61 (30 Nov 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.60(29Oct2018)'>2.60 (29 Oct 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.59(17Oct2018)'>2.59 (17 Oct 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.58(12Oct2018)'>2.58 (12 Oct 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.58-beta-1(2018Oct04)'>2.58-beta-1 (2018 Oct 04)</a></li>
<li><a href='#PipelineGroovyPlugin-2.57(Oct2,2018)'>2.57 (Oct 2, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.56(Sep27,2018)'>2.56 (Sep 27, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.55(Sep10,2018)'>2.55 (Sep 10, 2018) </a></li>
<li><a href='#PipelineGroovyPlugin-2.54(Jun25,2018)'>2.54 (Jun 25, 2018) </a></li>
<li><a href='#PipelineGroovyPlugin-2.53(May8,2018)'>2.53 (May 8, 2018) </a></li>
<li><a href='#PipelineGroovyPlugin-2.52(May4,2018)'>2.52 (May 4, 2018) </a></li>
<li><a href='#PipelineGroovyPlugin-2.51(May3,2018)'>2.51 (May 3, 2018) </a></li>
<li><a href='#PipelineGroovyPlugin-2.50(May2,2018)SignificantBugfixes,SuggestedUpgrade'>2.50 (May 2, 2018) Significant Bugfixes, Suggested Upgrade</a></li>
<li><a href='#PipelineGroovyPlugin-2.49(Apr20,2018)'>2.49 (Apr 20, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.48(Apr12,2018)'>2.48 (Apr 12, 2018) </a></li>
<li><a href='#PipelineGroovyPlugin-2.47(Apr8,2018)SignificantBugfixes,SuggestedUpgrade'>2.47 (Apr 8, 2018)  Significant Bugfixes, Suggested Upgrade</a></li>
<li><a href='#PipelineGroovyPlugin-2.46(April5,2018)'>2.46 (April 5, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.45(Feb14,2018)'>2.45 (Feb 14, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.44(Jan31,2018)'>2.44 (Jan 31, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.43(Jan22,2018)'>2.43 (Jan 22, 2018)</a></li>
<li><a href='#PipelineGroovyPlugin-2.42(Nov29,2017)'>2.42 (Nov 29, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.41(Sept28,2017)'>2.41 (Sept 28, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.40(Sept5,2017)'>2.40 (Sept 5, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.39(Aug7,2017)'>2.39 (Aug 7, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.38(Aug1,2017)'>2.38 (Aug 1, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.37(Jul25,2017)'>2.37 (Jul 25, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.36.1(Jul10,2017)'>2.36.1 (Jul 10, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.36(Jun15,2017)'>2.36 (Jun 15, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.35(Jun13,2017)'>2.35 (Jun 13, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.34(Jun03,2017)'>2.34 (Jun 03, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.33(May30,2017)'>2.33 (May 30, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.32(May24,2017)'>2.32 (May 24, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.31(May22,2017)'>2.31 (May 22, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.30(Apr24,2017)'>2.30 (Apr 24, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.29(Mar03,2017)'>2.29 (Mar 03, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.28(Feb23,2017)'>2.28 (Feb 23, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.27(Feb13,2017)'>2.27 (Feb 13, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.26(Feb07,2017)'>2.26 (Feb 07, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.25(Feb01,2017)'>2.25 (Feb 01, 2017)</a></li>
<li><a href='#PipelineGroovyPlugin-2.24(Jan17,2016)'>2.24 (Jan 17, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.23(Nov07,2016)'>2.23 (Nov 07, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.22(Nov01,2016)'>2.22 (Nov 01, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.21(Oct21,2016)'>2.21 (Oct 21, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.20(Oct20,2016)'>2.20 (Oct 20, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.19(Oct11,2016)'>2.19 (Oct 11, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.18(Sep23,2016)'>2.18 (Sep 23, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.17(Sep13,2016)'>2.17 (Sep 13, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.16(Sep13,2016)'>2.16 (Sep 13, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.15(Sep07,2016)'>2.15 (Sep 07, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.14(Sep07,2016)'>2.14 (Sep 07, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.13(Aug25,2016)'>2.13 (Aug 25, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.12(Aug15,2016)'>2.12 (Aug 15, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.11(Aug09,2016)'>2.11 (Aug 09, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.10(Jul28,2016)'>2.10 (Jul 28, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.9(Jul05,2016)'>2.9 (Jul 05, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.8(Jun29,2016)'>2.8 (Jun 29, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.7(Jun27,2016)'>2.7 (Jun 27, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.6(Jun16,2016)'>2.6 (Jun 16, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.5(Jun09,2016)'>2.5 (Jun 09, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.4(May25,2016)'>2.4 (May 25, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.3(May23,2016)'>2.3 (May 23, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.2(May02,2016)'>2.2 (May 02, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.1(Apr06,2016)'>2.1 (Apr 06, 2016)</a></li>
<li><a href='#PipelineGroovyPlugin-2.0(Apr05,2016)'>2.0 (Apr 05, 2016)</a></li>
</ul>
</li>
</ul>
</div></div></div></div></div>Pipeline execution engine based on continuation passing style transformation of Groovy scripts.<p>A component of <a href="Pipeline-Plugin.html">Pipeline Plugin</a>.</p><h2 id="PipelineGroovyPlugin-Changelog">Changelog</h2><h3 id="PipelineGroovyPlugin-2.74(29Aug2019)">2.74 (29 Aug 2019)</h3><ul><li>Fix: Do not attempt to store enums defined in Pipeline scripts that are passed as arguments to Pipeline steps in <span style="color: rgb(23,43,77);"><span><code>ArgumentsActionImpl</code></span></span> <span style="color: rgb(23,43,77);">to avoid leaking Pipeline script class loaders<span>. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/318" class="external-link" rel="nofollow">PR 318</a>)</span></span></li><li>Fix: Do not try to open the listener for a completed build when looking up environment variables through <code>EnvActionImpl</code>. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-59083" class="external-link" rel="nofollow">JENKINS-59083</a>)</li><li>Internal: Add regression tests for SECURITY-1465. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/310" class="external-link" rel="nofollow">PR 310</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.73(01Aug2019)">2.73 (01 Aug 2019)</h3><ul><li>Fix: The generated GDSL file used to support syntax highlighting for Pipeline scripts in IntelliJ IDEA incorrectly reported some step parameter types as <code>Map</code> when they should have been <code>List</code>, and did not support the <code>parallel</code> step. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-30572" class="external-link" rel="nofollow">JENKINS-30572</a>)</li><li>Fix: Do not log CPS method mismatch warnings for some false positives related to metaprogramming. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-58501" class="external-link" rel="nofollow">JENKINS-58501</a>)</li><li>Improvement: Log a warning when named arguments passed to a Pipeline step cannot be bound to any parameter of that step (for example because the argument is spelled incorrectly). Previously, such arguments were silently ignored. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-33217" class="external-link" rel="nofollow">JENKINS-33217</a>)</li><li>Improvement: Integrate the <code>StepListener</code> API added to Pipeline API Plugin version 2.36 (<a href="https://issues.jenkins-ci.org/browse/JENKINS-58084" class="external-link" rel="nofollow">JENKINS-58084</a>)</li><li>Internal: Add additional tests for false positive CPS mismatch warnings (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/309" class="external-link" rel="nofollow">PR 309</a>)</li><li>Internal: Speed up some tests using <code>ClassRule</code>. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/308" class="external-link" rel="nofollow">PR 308</a>)</li><li>Internal: Migrate tests related to snippet generation for the <code>build</code> step to Pipeline Build Step Plugin (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/303" class="external-link" rel="nofollow">PR 303</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.72(11Jul2019)">2.72 (11 Jul 2019)</h3><ul><li>Fix: Prevent a StackOverflowError from being thrown when calling overridden methods using <code>super</code> in some class hierarchies in a Pipeline. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-52395" class="external-link" rel="nofollow">JENKINS-52395</a>)</li><li>Internal: Update tests to fix PCT failures and unignore tests that no longer fail. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/290" class="external-link" rel="nofollow">PR 290</a>, <a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/302" class="external-link" rel="nofollow">PR 302</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.71(05Jul2019)">2.71 (05 Jul 2019)</h3><ul><li><span style="color: rgb(23,43,77);">Fix: Allow script-level initializers (including <code>@Field</code>) in sandboxed Pipelines. Fixes a regression from version 2.64. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-56682" class="external-link" rel="nofollow">JENKINS-56682</a>)</span></li><li><span style="color: rgb(23,43,77);">Improvement: Print detailed warnings to the build log when CPS-transformed code is called in a non-CPS context where possible. The warnings link to <a href="https://jenkins.io/redirect/pipeline-cps-method-mismatches/" class="external-link" rel="nofollow">https://jenkins.io/redirect/pipeline-cps-method-mismatches/</a> which gives additional context and some examples of how to fix common issues. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-31314" class="external-link" rel="nofollow">JENKINS-31314</a>)</span></li><li><span style="color: rgb(23,43,77);">Fix: Catch additional types of exceptions when calling GraphListener methods. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/292" class="external-link" rel="nofollow">PR 292</a>)</span></li><li><span style="color: rgb(23,43,77);">Internal: Build and test on Java 11, light refactoring and simplification, fix flaky test. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/294" class="external-link" rel="nofollow">PR 294</a>, <a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/295" class="external-link" rel="nofollow">PR 295</a>, <a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/296" class="external-link" rel="nofollow">PR 296</a>, <a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/298" class="external-link" rel="nofollow">PR 298</a>)</span></li></ul><h3 id="PipelineGroovyPlugin-2.70(03Jun2019)">2.70 (03 Jun 2019)</h3><ul><li>Improvement: Interpret the <span style="color: rgb(23,43,77);"><code>DynamicContext</code> extension point added in Pipeline Step API Plugin version 2.20. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-41854" class="external-link" rel="nofollow">JENKINS-41854</a>)</span></li></ul><h3 id="PipelineGroovyPlugin-2.69(28May2019)">2.69 (28 May 2019)</h3><ul><li>Fix: Prevent a memory leak that could occur when shared libraries were used inside of a <code>node</code> step. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50223" class="external-link" rel="nofollow">JENKINS-50223</a>)</li><li>Fix: Make an internal collection thread-safe to prevent an <span style="color: rgb(23,43,77);"><code>IOException</code> with the message &quot;cannot find current thread&quot; from being thrown intermittently when using some types of non-blocking steps. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-56890" class="external-link" rel="nofollow">JENKINS-56890</a>)</span></li></ul><h3 id="PipelineGroovyPlugin-2.68(10May2019)">2.68 (10 May 2019)</h3><ul><li>Fix: Improve handling of step arguments that cannot be data-bound. Fixes some cases where a non-fatal <code>NoStaplerConstructorException</code> would be visible in logs. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-54186" class="external-link" rel="nofollow">JENKINS-54186</a>)</li><li>Fix: Simplify stack traces for code inside of Pipeline libraries to avoid issues deserializing those stack traces. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-57085" class="external-link" rel="nofollow">JENKINS-57085</a>)</li><li>Fix: Make the support bundle component that provides Pipeline timing information more robust so that errors in one build do not keep timing information from being added to the support bundle for other builds. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/283" class="external-link" rel="nofollow">PR 283</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.67(19Apr2019)">2.67 (19 Apr 2019)</h3><ul><li>Improvement: Better handling of <code>RejectedAccessException</code>  within <code>try/catch</code>  and <code>catchError</code>  blocks. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-34973" class="external-link" rel="nofollow">JENKINS-34973</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.66(11Apr2019)">2.66 (11 Apr 2019)</h3><ul><li>Fix: <code>parallel</code> and <code>load</code> steps did not clean up internal state correctly after their executions completed, leading to failures upon resuming a Pipeline and various kinds of memory leaks in some cases. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-41791" class="external-link" rel="nofollow">JENKINS-41791</a>)</li><li>Fix: When checking out a Pipeline from SCM, the support for SCM retry count did not retry the checkout attempt for certain kinds of errors when it should have. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/274" class="external-link" rel="nofollow">PR 274</a>)</li><li>Improvement: Avoid logging certain kinds of unhelpful warnings when determining whether a Pipeline should block Jenkins from restarting (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/277" class="external-link" rel="nofollow">PR 277</a>).</li><li>Improvement: Update samples to use the non-deprecated <code>archiveArtifacts</code> step instead of <code>archive</code>. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/273" class="external-link" rel="nofollow">PR 273</a>)</li><li>Improvement: Fix documentation for the <code>params</code> variable explaining how to use it with a default value. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-56688" class="external-link" rel="nofollow">JENKINS-56688</a>)</li><li>Improvement: Add internationalization support and Chinese localization for &quot;<span style="color: rgb(36,41,46);">Pipeline Syntax</span>&quot; links. (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/276" class="external-link" rel="nofollow">PR 276</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.65(25Mar2019)">2.65 (25 Mar 2019)</h3><ul><li><a href="https://jenkins.io/security/advisory/2019-03-25/#SECURITY-1353" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h3 id="PipelineGroovyPlugin-2.64(06Mar2019)">2.64 (06 Mar 2019)</h3><ul><li><a href="https://jenkins.io/security/advisory/2019-03-06/#SECURITY-1336%20(2)" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h3 id="PipelineGroovyPlugin-2.63(01Feb2019)">2.63 (01 Feb 2019)</h3><ul><li>Enhancement: Enable the <code>StepEnvironmentContributor</code> extension point added in version 2.19 of Pipeline Step API Plugin (<a class="external-link" rel="nofollow" href="https://issues.jenkins-ci.org/browse/JENKINS-51170">JENKINS-51170</a>)</li><li>Fix: Notify global <code>GraphListener</code> implementations of <code>FlowStartNodes</code> when a Pipeline build begins (<a href="https://issues.jenkins-ci.org/browse/JENKINS-52189" class="external-link" rel="nofollow">JENKINS-52189</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.62(14Jan2019)">2.62 (14 Jan 2019)</h3><ul><li>Fix: Trim Pipeline script path (e.g. <code>Jenkinsfile</code>) when using a Pipeline script from SCM (<a href="https://issues.jenkins-ci.org/browse/JENKINS-55424" class="external-link" rel="nofollow">JENKINS-55424</a>)</li><li>Add a link to <a href="https://jenkins.io/doc/pipeline/examples/" class="external-link" rel="nofollow">Pipeline Examples</a> from<span style="color: rgb(3,47,98);"> the sidebar of the Pipeline Syntax page.</span></li><li>Add support for <code>GeneralNonBlockingStepExecution</code> utility added to Pipeline Supporting APIs 2.18 (<a rel="nofollow" href="https://issues.jenkins-ci.org/browse/JENKINS-49337" class="external-link">JENKINS-49337</a>)</li><li>Avoid use of deprecated APIs (<a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/256" class="external-link" rel="nofollow">PR 256</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.61.1(8Jan2019)">2.61.1 (8 Jan 2019)</h3><ul><li><a href="https://jenkins.io/security/advisory/2019-01-08/" class="external-link" rel="nofollow">Fix security vulnerability</a></li></ul><h3 id="PipelineGroovyPlugin-2.61(30Nov2018)">2.61 (30 Nov 2018)</h3><ul><li>Fix: Catch errors thrown by <code>GraphListener</code>s during Pipeline execution so that they do not cause the build to fail (<a href="https://issues.jenkins-ci.org/browse/JENKINS-54890" class="external-link" rel="nofollow">JENKINS-54890</a>)</li><li>Improvement: Only construct log messages when the specified logging level is enabled to improve performance in some cases</li></ul><h3 id="PipelineGroovyPlugin-2.60(29Oct2018)">2.60 (29 Oct 2018)</h3><ul><li><a href="https://jenkins.io/security/advisory/2018-10-29/" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h3 id="PipelineGroovyPlugin-2.59(17Oct2018)">2.59 (17 Oct 2018)</h3><ul><li>Improvement: Limit the types of Step arguments stored for visualization (<a href="https://issues.jenkins-ci.org/browse/JENKINS-54032">JENKINS-54032</a>)<ul><li>Solves memory leaks for some plugins that abuse Step arguments by passing Pipeline-internal objects</li><li>Better protects against storing potentially problematic object types, and may reduce their memory use</li><li>Applies filtering to Describable objects passed by legacy syntaxes, so that filtering can be applied to their fields</li></ul></li></ul><h3 id="PipelineGroovyPlugin-2.58(12Oct2018)">2.58 (12 Oct 2018)</h3><ul><li>Internal bug fix important for display of steps in classic UI after update of <a href="Pipeline-Job-Plugin.html">Pipeline Job Plugin</a> to 2.26.</li><li>Minimum Jenkins Core version updated to 1.121.1</li></ul><h3 id="PipelineGroovyPlugin-2.58-beta-1(2018Oct04)">2.58-beta-1 (2018 Oct 04)</h3><ul><li>Internal bug fix important for display of steps in classic UI after update of <a href="Pipeline-Job-Plugin.html">Pipeline Job Plugin</a> to 2.26-beta-1.</li></ul><h3 id="PipelineGroovyPlugin-2.57(Oct2,2018)">2.57 (Oct 2, 2018)</h3><ul><li>Fix: Make compilation errors when using the <code>load</code> step serializable so that the actual compilation error is reported instead of a <code>NotSerializableException </code>(<a href="https://issues.jenkins-ci.org/browse/JENKINS-40109" class="external-link" rel="nofollow">JENKINS-40109</a>).</li><li>Improvement: Add localization support for a message on the global variable reference page. Thanks <a class="confluence-userlink user-mention" data-username="surenpi" href="https://wiki.jenkins.io/display/~surenpi" data-linked-resource-id="135465445" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://wiki.jenkins.io">Unknown User (surenpi)</a>!</li></ul><h3 id="PipelineGroovyPlugin-2.56(Sep27,2018)">2.56 (Sep 27, 2018)</h3><ul><li>Fix: Do not persist Pipeline context variables that are no longer in scope. In particular, this fixes some cases where resuming builds outside of a node block would wait for an agent used previously in the Pipeline to become available (<a href="https://issues.jenkins-ci.org/browse/JENKINS-53709" class="external-link" rel="nofollow">JENKINS-53709</a>)</li><li>Improvement: Chinese localizations have been migrated to the <span style="color: rgb(36,41,46);"><a href="https://github.com/jenkinsci/localization-zh-cn-plugin" class="external-link" rel="nofollow">Localization: Chinese (Simplified) Plugin</a>. Thanks <a href="https://github.com/LinuxSuRen" class="external-link" rel="nofollow">LinuxSuRen</a>!</span></li></ul><h3 id="PipelineGroovyPlugin-2.55(Sep10,2018)">2.55 (Sep 10, 2018) </h3><ul><li>Improvement: Allow steps to be invoked using their full class name to avoid ambiguity, and log a warning when ambiguous steps are invoked (<a href="https://issues.jenkins-ci.org/browse/JENKINS-53333" class="external-link" rel="nofollow">JENKINS-53333</a>)</li><li>Various documentation and localization improvements. Thanks to community contributors <a href="https://github.com/LinuxSuRen" class="external-link" rel="nofollow">LinuxSuRen</a> and <a href="https://github.com/rodrigc" class="external-link" rel="nofollow">rodrigc</a> for those improvements!</li></ul><h3 id="PipelineGroovyPlugin-2.54(Jun25,2018)">2.54 (Jun 25, 2018) </h3><ul><li><strong>Fix: </strong>Do not use com.google.common.io.NullOutputStream</li></ul><h3 id="PipelineGroovyPlugin-2.53(May8,2018)">2.53 (May 8, 2018) </h3><ul><li><strong>Fix: </strong>Fix deadlocks with WorkflowRun#copyLogs() + CPS things (tracked in comments for <a href="https://issues.jenkins-ci.org/browse/JENKINS-51132">JENKINS-51132</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.52(May4,2018)">2.52 (May 4, 2018) </h3><ul><li><strong>Fix: </strong>Fix a critical deadlock with CpsFlowExecution#getCurrentHeads introduced in 2.50 due to <a href="https://github.com/jenkinsci/workflow-cps-plugin/pull/223" class="external-link" rel="nofollow">https://github.com/jenkinsci/workflow-cps-plugin/pull/223</a> (<a href="https://issues.jenkins-ci.org/browse/JENKINS-51132">JENKINS-51132</a>)<ul><li>Thanks to community contributor for correctly identifying it and <a href="https://github.com/laurentgo" class="external-link" rel="nofollow">Laurent Goujon</a> providing a fast fix!</li></ul></li></ul><h3 id="PipelineGroovyPlugin-2.51(May3,2018)">2.51 (May 3, 2018) </h3><ul><li><strong>Fix: </strong>Allow the FlowExecution to still be saved if a Pipeline build (WorkflowJob) is modified and saved before the lazy load of the FlowExecution is done (onLoad not invoked on the execution) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50888">JENKINS-50888</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.50(May2,2018)SignificantBugfixes,SuggestedUpgrade">2.50 (May 2, 2018) Significant Bugfixes, Suggested Upgrade</h3><ul><li><strong>We strongly encourage installing this update due to the issues resolved, and suggest combining with an upgrade to Pipeline Job (workflow-job) plugin v2.21 or later</strong></li><li><strong>Major Fix:</strong> NullPointerException in CPS VM thread for builds with certain data not properly persisted (<a href="https://issues.jenkins-ci.org/browse/JENKINS-49686">JENKINS-49686</a>)</li><li>Fix/Improvement: Pipelines ensure that when part of the information is persisted, all necessary pieces to load that information are <em>also</em> persisted</li><li>Improvement: re-do the persist-at-shutdown behavior to be more robust</li><li>Improvement: even if one Pipeline fails to persist at shutdown, allow other Pipelines to attempt to persist</li><li>Fix: A variety of synchronization consistency problems</li><li>Improvement: Rewrite handling of missing FlowNodeStorage and creation of placeholder nodes to ensure correctness and done state is persisted</li><li>Fix: Pipelines blocking restart of Jenkins masters if they failed to resume or threw an exception when loading the Pipeline program</li><li>Fix: Pipeline builds showing as incomplete when they failed to resume or load</li><li>Greatly expanded test coverage for persistence and edge-cases where incorrect data is persisted</li></ul><h3 id="PipelineGroovyPlugin-2.49(Apr20,2018)">2.49 (Apr 20, 2018)</h3><ul><li><strong>Bugfix</strong>: Solve Replay not being visible or usable for builds (regression from lazy load of executions introduced in workflow-job) (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50784">JENKINS-50874</a>)</li><li>Bugfix: CpsScript invokeMethod does not execute closures defined in the script binding - thanks <a href="https://github.com/steven-terrana" class="external-link" rel="nofollow">steven-terrana</a></li><li>Maintenance: Stop using the Junit Step in Metastep tests (prevents Plugin Compatibility Test failurs)</li></ul><h3 id="PipelineGroovyPlugin-2.48(Apr12,2018)">2.48 (Apr 12, 2018) </h3><ul><li>Bugfix: FlowNode Serialization Could Fail Due to Unserializable Step Arguments (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50752">JENKINS-50752</a>)<ul><li>This could trigger deeper failures in Pipeline due to the serialization failures before workflow-api 2.27</li></ul></li></ul><h3 id="PipelineGroovyPlugin-2.47(Apr8,2018)SignificantBugfixes,SuggestedUpgrade">2.47 (Apr 8, 2018)  Significant Bugfixes, Suggested Upgrade</h3><ul><li><strong>Major bugfix / improvements</strong>: numerous fixes &amp; improvements to make Pipeline persistence &amp; resume more robust (across all Durability Settings)<br/><ul><li>These do not have individual JIRAs because they were spinoffs from testing other work, discovered with fuzzing-like approaches</li><li>Many of these bugs would result in irreproducible errors that may have been reported - <strong>link any related JIRAs here</strong>: (TBD)</li><li>Improves error-handling logic</li></ul></li><li><strong>Part of Major Bugfix</strong>: Error &quot;NullPointerException in CPS VM thread at WorkflowRun$GraphL.onNewHead&quot; as result of a race condition (<a href="https://issues.jenkins-ci.org/browse/JENKINS-49686" class="external-link" rel="nofollow">JENKINS-49686</a>)<ul><li>The other part of the bugfix is in the Pipeline Job Plugin - version 2.18</li></ul></li><li><span style="color: rgb(5,38,76);"><strong>Part of Major Bugfix</strong>: Failed pipelines resume and won't die even when marked to not resume, and show resume failures  (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50199" class="external-link" rel="nofollow">JENKINS-50199</a>)</span><ul><li>The other part of the bugfix is in the Pipeline Job Plugin - version 2.18</li></ul></li><li><span style="color: rgb(5,38,76);"><span style="color: rgb(5,38,76);">Part of Bugfix<strong>:</strong> Error &quot;NullPointerException in SandboxContinuable.run0&quot; after restart in Performance-Optimized Durability Setting (<a href="https://issues.jenkins-ci.org/browse/JENKINS-50407" class="external-link" rel="nofollow">JENKINS-50407</a>)</span></span><ul><li>The other part of the bugfix is in the Pipeline Job Plugin - version 2.18</li></ul></li></ul><h3 id="PipelineGroovyPlugin-2.46(April5,2018)">2.46 (April 5, 2018)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45575" class="external-link" rel="nofollow">JENKINS-45575</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-49679" class="external-link" rel="nofollow">JENKINS-49679</a> - Fix a couple issues with multiple assignment.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-49961" class="external-link" rel="nofollow">JENKINS-49961</a> - Fix an NPE when toggling <code>ResumeEnabled</code> when <code>FlowExecutionOwner</code> is not yet set.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45982" class="external-link" rel="nofollow">JENKINS-45982</a> - Fix calling a CPS-transformed <code>super</code>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-33614" class="external-link" rel="nofollow">JENKINS-33614</a> - Include link to script approval for <code>RejectedAccessException</code> - but only when the user viewing the console has permissions for script approval.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-50171" class="external-link" rel="nofollow">JENKINS-50171</a> - Avoid <code>LinkageError</code> with <code>load</code> step of Groovy files with a <code>package</code> declaration on resume of Pipeline.</li></ul><h3 id="PipelineGroovyPlugin-2.45(Feb14,2018)">2.45 (Feb 14, 2018)</h3><ul><li>Enhancement: Improve performance of running pipelines - reduce CPU, wall time, and disk IO.  <ul><li>Works by eliminating reflection and classloading needed to determine how many arguments a Step needs</li></ul></li><li>Enhancement:  In Snippetizer, support Symbol use with different lists of inputs to steps (<a href="https://issues.jenkins-ci.org/browse/JENKINS-37215">JENKINS-37215</a>)</li><li>Misc: Pick up more modern structs, and reduce memory garbage for steps slightly by using DescribableModel.of API</li></ul><h3 id="PipelineGroovyPlugin-2.44(Jan31,2018)">2.44 (Jan 31, 2018)</h3><ul><li>Pick up recent groovy-cps fixes including resolving a quirk with field initialization and CPS transforms</li><li>Implement support for SCM retry count - <a href="https://issues.jenkins-ci.org/browse/JENKINS-39194">JENKINS-39194</a></li></ul><h3 id="PipelineGroovyPlugin-2.43(Jan22,2018)">2.43 (Jan 22, 2018)</h3><ul><li><strong>Major Feature: </strong>Support for faster Durability Settings which reduce I/O and improve performance significantly (<a href="https://issues.jenkins-ci.org/browse/JENKINS-47300">JENKINS-47300</a>)</li><li><strong>Major Feature:</strong> ability to disable Pipeline auto-resume when restarting (<a href="https://issues.jenkins-ci.org/browse/JENKINS-33761">JENKINS-33761</a>)</li><li><strong>Major Feature: </strong>consolidate writing FlowNodes using granular persistence APIs (<a href="https://issues.jenkins-ci.org/browse/JENKINS-47172">JENKINS-47172</a>)</li><li>Robustness Enhancement: a giant wad of fixes to ensure we handle persistence failures and oddball circumstances<ul><li>Extensive test coverage, plus protects against some &quot;hung&quot; pipeline states and other weird bugs</li></ul></li><li>Enhancement: reduce memory used by Pipeline for storing Step arguments (<a href="https://github.com/jenkinsci/workflow-api-plugin/pull/65" class="external-link" rel="nofollow">PR #65</a>)</li><li>Bugfix: first Pipeline step lacks displayed arguments (<a href="https://issues.jenkins-ci.org/browse/JENKINS-48644">JENKINS-48644</a>)</li></ul><h3 id="PipelineGroovyPlugin-2.42(Nov29,2017)">2.42 (Nov 29, 2017)</h3><ul><li><strong>Compatibility Note: </strong><strong>this is the first version requiring Java 8 (Jenkins LTS 2.60.x+)</strong></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44619" class="external-link" rel="nofollow">JENKINS-44619</a> - Don't allow replaying unbuildable jobs</li><li>Rename <code>ReplayCommand</code> to <code>ReplayPipelineCommand</code></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47339" class="external-link" rel="nofollow">JENKINS-47339</a> - Allow users with <code>Build</code> permission but not <code>Configure</code> permission to replay a build with the same script.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46597" class="external-link" rel="nofollow">JENKINS-46597</a> - Fix <code>IteratorHack</code> to handle <code>SortedMap</code>, like <code>TreeMap</code>, without serialization issues. </li><li>Protect against unlimited recursion with a sane error.</li></ul><h3 id="PipelineGroovyPlugin-2.41(Sept28,2017)">2.41 (Sept 28, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-47071" class="external-link" rel="nofollow">JENKINS-47071</a> - Allow <code>.every</code>, <code>.any</code>, and other closure methods involving booleans to serialize properly.</li><li>Reduce memory of CPS code significantly by lazily initializing locals maps</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44027" class="external-link" rel="nofollow">JENKINS-44027</a> - Support multiple assignment in Pipeline scripts</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-32213" class="external-link" rel="nofollow">JENKINS-32213</a> - Automatically make all CPS-transformed classes <code>Serializable</code>, no longer requiring that to be done explicitly.</li><li>Do not even offer <code>PauseUnpauseAction</code> unless you actually have <code>CANCEL</code> permissions</li></ul><h3 id="PipelineGroovyPlugin-2.40(Sept5,2017)">2.40 (Sept 5, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-34645" class="external-link" rel="nofollow">JENKINS-34645</a> - Serialize array iterators properly</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46391" class="external-link" rel="nofollow">JENKINS-46391</a> - Correctly translate <code>~/foo/</code> as a regexp</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-46358" class="external-link" rel="nofollow">JENKINS-46358</a> - Support for a number of <code>StringGroovyMethods</code></li></ul><h3 id="PipelineGroovyPlugin-2.39(Aug7,2017)">2.39 (Aug 7, 2017)</h3><ul><li><a href="https://jenkins.io/security/advisory/2017-08-07/" class="external-link" rel="nofollow">Fixes for multiple security issues in script security plugin</a></li></ul><h3 id="PipelineGroovyPlugin-2.38(Aug1,2017)">2.38 (Aug 1, 2017)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-44548">JENKINS-44548</a> Fix NullPointerException caused by corrupted FlowExecution records</p></li></ul><h3 id="PipelineGroovyPlugin-2.37(Jul25,2017)">2.37 (Jul 25, 2017)</h3><ul><li>Robustness fix involving <code>StepContext.get(FlowNode)</code> calls.</li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-45109">JENKINS-45109</a> Metastep display improvements useful especially for <code>step</code> and <code>wrap</code> calls in Blue Ocean.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-31582">JENKINS-31582</a> API for obtaining step arguments in more realistic form.</p></li><li>Improved logging of <code>@script</code> checkout.</li></ul><h3 id="PipelineGroovyPlugin-2.36.1(Jul10,2017)">2.36.1 (Jul 10, 2017)</h3><ul><li><a href="https://jenkins.io/security/advisory/2017-07-10/" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h3 id="PipelineGroovyPlugin-2.36(Jun15,2017)">2.36 (Jun 15, 2017)</h3><ul><li>Enabling whitelist entries to work for most Groovy built-in methods enabled in 2.33.</li><li>Timeouts in <code>CpsFlowExecution.suspendAll</code> could block Jenkins shutdown.</li></ul><h3 id="PipelineGroovyPlugin-2.35(Jun13,2017)">2.35 (Jun 13, 2017)</h3><ul><li>[38268@issue] Improper binding of local variables in closures.</li><li>Functional tests sometimes failed due to <code>DSL</code> finding no step definitions.</li></ul><h3 id="PipelineGroovyPlugin-2.34(Jun03,2017)">2.34 (Jun 03, 2017)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-44578">JENKINS-44578</a> Corrects a <code>StackOverflowError</code> seen on some JVMs with limited stack size running Declarative Pipelines after updating to 2.33.</p></li></ul><h3 id="PipelineGroovyPlugin-2.33(May30,2017)">2.33 (May 30, 2017)</h3><p>Requires Jenkins 2.7.x or later.</p><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-26481">JENKINS-26481</a> Most Groovy built-in methods taking closures (such as <code>List.each</code>) may now be used from Pipeline script without <code>@NonCPS</code> annotations. Certain less commonly used methods (such as <code>sort</code> taking a closure) are not yet implemented.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-27421">JENKINS-27421</a> Most Java methods returning iterators (such as looping over the result of <code>Map.entrySet</code>) may now be used from Pipeline script without <code>@NonCPS</code> annotations.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-31967">JENKINS-31967</a> <strong>Pipeline Syntax</strong> support for <code>double</code> values, as in the <code>junit</code> step for example.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-43055">JENKINS-43055</a> <code>GraphListener</code> may now be used as an extension point.</p><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><a href="https://issues.apache.org/jira/browse/GROOVY-6263" class="external-link" rel="nofollow">GROOVY-6263</a> will affect Jenkins installations until Groovy 2.5.0 is integrated. Briefly, <code>private</code> methods may not be visible if called from an instance of a subclass of the class defining the method. The workaround is to relax the access restriction, for example to <code>protected</code>.</p></div></div><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Users of Declarative Pipeline should update to 2.34.</p></div></div></li></ul><h3 id="PipelineGroovyPlugin-2.32(May24,2017)">2.32 (May 24, 2017)</h3><ul><li>Timing feature in 2.31 introduced a memory leak when using shared libraries.</li></ul><h3 id="PipelineGroovyPlugin-2.31(May22,2017)">2.31 (May 22, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37324" class="external-link" rel="nofollow">JENKINS-37324</a> Store and display arguments supplied to steps</li><li><p><span style="color: rgb(5,38,76);"><a href="https://issues.jenkins-ci.org/browse/JENKINS-44406" class="external-link" rel="nofollow">JENKINS-44406</a> Fix a NullPointerException from StepDescriptorCache when the plugin providing the Step is uninstalled</span></p></li><li><p><span style="color: rgb(5,38,76);">Record timing information for various internal operations in Pipeline builds, available when <code>support-core</code> is installed.</span></p></li><li><p><span style="color: rgb(5,38,76);">Deleting <code>program.dat</code> when a build finishes.</span></p></li></ul><h3 id="PipelineGroovyPlugin-2.30(Apr24,2017)">2.30 (Apr 24, 2017)</h3><ul><li>Robustness fix related to <a href="https://issues.jenkins-ci.org/browse/JENKINS-26137">JENKINS-26137</a>.</li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-43361">JENKINS-43361</a> Unreproducible <code>NullPointerException</code>.</p></li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-43019">JENKINS-43019</a> <code>ClassCastException</code> under certain circumstances involving libraries.</p></li></ul><h3 id="PipelineGroovyPlugin-2.29(Mar03,2017)">2.29 (Mar 03, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-33273">JENKINS-33273</a> New option for script-from-SCM jobs to load the script directly, rather than performing a full checkout. Requires a compatible SCM, currently Git. Enabled by default for new jobs (falls back to heavyweight checkout where necessary).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42367">JENKINS-42367</a> <code>NullPointerException</code> using <code>params</code> when certain kinds of parameter values were missing.</li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Pulls in <a href="SCM-API-Plugin.html">SCM API Plugin</a> 2.x; read <a href="https://jenkins.io/blog/2017/01/17/scm-api-2/" class="external-link" rel="nofollow">this blog post</a>.</p></div></div><h3 id="PipelineGroovyPlugin-2.28(Feb23,2017)">2.28 (Feb 23, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-42189">JENKINS-42189</a> Problems in memory cleanup when using Groovy 2.4.8 (Jenkins 2.47+) could lead to deadlocks and/or large heap consumption.</li><li>Flow node IDs incorrectly skipped even numbers after around 500.</li></ul><h3 id="PipelineGroovyPlugin-2.27(Feb13,2017)">2.27 (Feb 13, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41945">JENKINS-41945</a> <code>NullPointerException</code> during build cleanup, and consequent memory leak, under heavy load.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-32986">JENKINS-32986</a> Apply timeouts to some operations in the CPS VM thread.</li><li>Ensure build terminates after certain internal errors.</li></ul><h3 id="PipelineGroovyPlugin-2.26(Feb07,2017)">2.26 (Feb 07, 2017)</h3><ul><li>Pull in workflow-api 1.10 and refactor StepNode so that libraries can obtain Step info without depending on workflow-cps</li></ul><h3 id="PipelineGroovyPlugin-2.25(Feb01,2017)">2.25 (Feb 01, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39719">JENKINS-39719</a> Cryptic error about overriding methods named like <code>__<em>cps</em>__2</code> under certain conditions involving global libraries.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-31484">JENKINS-31484</a> Incorrect CPS translation of field references from getters and setters could lead to endless loops.</li></ul><h3 id="PipelineGroovyPlugin-2.24(Jan17,2016)">2.24 (Jan 17, 2016)</h3><ul><li>Reducing frequency of <code>program.dat</code> saves, avoiding some otherwise harmless serialization errors, and possibly improving performance for builds with complex Groovy logic.</li><li>Correcting two kinds of <code>NullPointerException</code> when loading old build records.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29656">JENKINS-29656</a> Avoid failing the build merely because renaming a temporary file to <code>program.dat</code> fails, typically on Windows due to file locks from antivirus scanners.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38551">JENKINS-38551</a> Invalid characters in GDSL.</li><li>Performance improvement related to <code>StepDescriptor</code>.</li></ul><h3 id="PipelineGroovyPlugin-2.23(Nov07,2016)">2.23 (Nov 07, 2016)</h3><ul><li>Fixed a number of memory leaks, extending fixes made in 2.12.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39456">JENKINS-39456</a> Reduce memory footprint from graph of execution.</li><li>Language fixes, including support for:<ul><li><code>super.method(…)</code> calls</li><li><code>abstract</code> methods</li><li>list to constructor coercion</li></ul></li></ul><h3 id="PipelineGroovyPlugin-2.22(Nov01,2016)">2.22 (Nov 01, 2016)</h3><ul><li>Bug fix required for proper display of <a href="https://issues.jenkins-ci.org/browse/JENKINS-28385">JENKINS-28385</a> in step reference.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39275">JENKINS-39275</a> Cap the amount of time spent displaying one line of a virtual thread dump.</li><li>Text changes in <strong>Pipeline Syntax</strong> page.</li></ul><h3 id="PipelineGroovyPlugin-2.21(Oct21,2016)">2.21 (Oct 21, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39154">JENKINS-39154</a> In-browser Pipeline script editor was broken in 2.20.</li></ul><h3 id="PipelineGroovyPlugin-2.20(Oct20,2016)">2.20 (Oct 20, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-34637">JENKINS-34637</a> <code>timeout</code> did not work when using most nested block steps.</li><li>Improved behavior on <code>NotSerializableException</code> such as in <a href="https://issues.jenkins-ci.org/browse/JENKINS-27421">JENKINS-27421</a>.</li></ul><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Do not use: see 2.21</p></div></div><h3 id="PipelineGroovyPlugin-2.19(Oct11,2016)">2.19 (Oct 11, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-35698">JENKINS-35698</a> <code>params</code> now honors currently defined parameter definition defaults.</li><li>Global variables now take precedence over environment variables in case of ambiguity.</li><li>Clarifying and enforcing that <code>params</code> is read-only.</li></ul><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Addresses some issues related to <code>params</code> encountered in 2.18. In particular, a simple <code>params.paramName</code> now suffices to obtain a parameter including a fallback to its default value even in the first build of a branch project using <code>properties</code>.</p></div></div><h3 id="PipelineGroovyPlugin-2.18(Sep23,2016)">2.18 (Sep 23, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29952">JENKINS-29952</a> <code>env.PROP</code> may now be shortened simply to <code>PROP</code> when unambiguous. (Setting a variable still requires the prefix, or the <code>withEnv</code> step.)</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-27295">JENKINS-27295</a> Build parameters may now be accessed via the <code>params</code> global variable, with typed values.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38114">JENKINS-38114</a> <code>currentBuild</code> global variable documentation now displayed in full, rather than referring to <code>build</code> step documentation; and updated to better explain usage in light of changes in 2.14.</li><li>Unreproducible case of an error during build abort handling of a step making the build not abort cleanly.</li><li>Fixed a certain class of build hangs due to code mistakes, and improved error reporting for these cases.</li><li>Improved display in the build log of predictable problems resuming a build, such as cancellation of queue items for offline agents inside a <code>node</code> block.</li><li>Adding HTML anchors to the <em>Global Variable Reference</em> for easier linking.</li></ul><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>You should also update the <a href="Pipeline-Job-Plugin.html">Pipeline Job Plugin</a> to 2.7 or later, so that build parameters are defined as environment variables and thus accessible as if they were global Groovy variables.</p><p>Beware that <code>binding['parameter.with-funny+characters']</code> will no longer work; use <code>params['parameter.with-funny+characters']</code> instead. Also note that <code>buildParameterName = 'new-value'</code> will not work, since the fallback to <code>env</code> currently takes precedence over global variable bindings; better to treat build parameters as read-only and introduce a new local variable with <code>def</code>.</p><p>Similarly, if using <code>ParametersDefinitionProperty</code> from <code>properties</code> in a multibranch <code>Jenkinsfile</code> (including via the symbol <code>parameters</code> in Jenkins 2.x), the trick</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">binding.hasVariable(&#39;paramName&#39;) ? paramName : &#39;fallback&#39;
</pre>
</div></div><p>for accessing the parameter value with a fallback in the initial build no longer works. You can now use the simpler</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">params.paramName ?: &#39;fallback&#39;
</pre>
</div></div><p>or to maintain compatibility with installations <em>with or without</em> these changes:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">env.paramName ?: binding.hasVariable(&#39;paramName&#39;) ? paramName : &#39;fallback&#39;
</pre>
</div></div></div></div><h3 id="PipelineGroovyPlugin-2.17(Sep13,2016)">2.17 (Sep 13, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38169">JENKINS-38169</a> Regression in 2.14 affecting certain steps with a single parameter.</li></ul><h3 id="PipelineGroovyPlugin-2.16(Sep13,2016)">2.16 (Sep 13, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38167">JENKINS-38167</a> Regression in 2.14 affecting certain usages of <code>@Field</code>.</li></ul><h3 id="PipelineGroovyPlugin-2.15(Sep07,2016)">2.15 (Sep 07, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-38037">JENKINS-38037</a> Regression in 2.14 affecting certain usages of symbols, such as with <code>artifactArchiver</code> in Jenkins 2.</li></ul><h3 id="PipelineGroovyPlugin-2.14(Sep07,2016)">2.14 (Sep 07, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29711">JENKINS-29711</a> Fixed <em>Snippet Generator</em> output for steps taking a single array of arguments, and fixed the runtime for steps taking a single fixed argument, both with an implicit parameter name.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-25623">JENKINS-25623</a> Ability to abort/<code>timeout</code> an endless loop of Groovy code not inside any step.</li><li>Updated the Maven sample offered for fresh jobs.</li><li>Updated samples and code completion to use block-scoped <code>stage</code> from <a href="https://issues.jenkins-ci.org/browse/JENKINS-26107">JENKINS-26107</a>.</li><li>Fixed link text.</li><li>Infrastructure for <a href="https://issues.jenkins-ci.org/browse/JENKINS-31155">JENKINS-31155</a>.</li></ul><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong><em>Note</em></strong> that <a href="https://issues.jenkins-ci.org/browse/JENKINS-25623">JENKINS-25623</a> makes some scripts fail which usually worked before, in case they used non-<code>Serializable</code> values in CPS-transformed code (i.e., regular Pipeline script). Such scripts were erroneous and may previously have failed (<a href="https://issues.jenkins-ci.org/browse/JENKINS-27421">JENKINS-27421</a>), albeit less commonly and less reproducibly. The Pipeline tutorial <a href="https://github.com/jenkinsci/pipeline-plugin/blob/master/TUTORIAL.md#serializing-local-variables" class="external-link" rel="nofollow">describes this scenario</a>. Briefly, you can choose between</p><ul><li>use a Pipeline-safe idiom like <code>for (int i = 0; i &lt; list.size(); i++) {handle(list[i])</code>}</li><li>use <code>for (def elt in list) {handle(elt)</code>} if <code>list</code> is an <code>ArrayList</code> (i.e., usual Groovy <code>[1, 2, 3]</code> but not slices etc.)</li><li>wrap any Groovy code not calling steps in a method marked <code>@NonCPS</code></li><li>delegate to external programs via <code>sh</code>/<code>bat</code> for any nontrivial computation</li></ul><p>Note that if you are iterating the <code>entrySet()</code> of <code>java.util.Map</code> you will want to use this helper method:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@NonCPS def entrySet(m) {m.collect {k, v -&gt; [key: k, value: v]}}
</pre>
</div></div><p>Note that 2.24 essentially reverts this change, but you are still advised to avoid even temporary use of nonserializable values.</p></div></div><h3 id="PipelineGroovyPlugin-2.13(Aug25,2016)">2.13 (Aug 25, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37538">JENKINS-37538</a> Trying to correct a regression in 2.12. Unreproducible but reported to affect usages of the Artifactory and Subversion plugins.</li></ul><h3 id="PipelineGroovyPlugin-2.12(Aug15,2016)">2.12 (Aug 15, 2016)</h3><ul><li>Correcting a memory leak introduced with the fix of <a href="https://issues.jenkins-ci.org/browse/JENKINS-36372">JENKINS-36372</a>, as well as a longstanding leak affecting only Jenkins 2.x.</li><li>Print a message whenever we are ready to resume running the program. Normally immediately after <em>Resuming build</em> but could be delayed for various reasons, such as offline agents.</li><li>Setting the thread context class loader, improving performance on systems running numerous Pipeline builds with complex Groovy scripts if you also update <a href="Script-Security-Plugin.html">Script Security Plugin</a> to 1.22.</li></ul><h3 id="PipelineGroovyPlugin-2.11(Aug09,2016)">2.11 (Aug 09, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29922">JENKINS-29922</a> follow-up from 2.10: single-argument metasteps such as <code>step</code> and <code>wrap</code> should now display their delegates like first-class steps in <em>Snippet Generator</em>.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29922">JENKINS-29922</a> follow-up from 2.10: error reporting for undefined functions now mentions available symbols as well as steps.</li><li>Include the running node count in Pipeline thread dumps in support bundles, to help estimate size of the Pipeline script and its libraries.</li><li>Infrastructure for <a href="https://issues.jenkins-ci.org/browse/JENKINS-34650">JENKINS-34650</a>.</li></ul><h3 id="PipelineGroovyPlugin-2.10(Jul28,2016)">2.10 (Jul 28, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29922">JENKINS-29922</a> Simplified step call syntax available for certain cases where previously the <code>$class</code> notation was required.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-25736">JENKINS-25736</a> Ability to pause a running build.</li></ul><h3 id="PipelineGroovyPlugin-2.9(Jul05,2016)">2.9 (Jul 05, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-36372">JENKINS-36372</a> Root bindings not accessible to scripts loaded after restart.</li></ul><h3 id="PipelineGroovyPlugin-2.8(Jun29,2016)">2.8 (Jun 29, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-31842">JENKINS-31842</a> The virtual thread dump for a running build can now display information about the status of running steps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-36289">JENKINS-36289</a> API for accessing Replay from Blue Ocean.</li></ul><h3 id="PipelineGroovyPlugin-2.7(Jun27,2016)">2.7 (Jun 27, 2016)</h3><ul><li>Some <em>Snippet Generator</em> forms were not using the correct job context since 2.3; affected <em>Credentials</em> dropdowns, for example.</li><li>Show the <em>Pipeline Syntax</em> link also from <em>Replay</em> screens.</li><li>Improved the Maven script sample in the inline editor.</li></ul><h3 id="PipelineGroovyPlugin-2.6(Jun16,2016)">2.6 (Jun 16, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-26481">JENKINS-26481</a> Pending a true fix for passing closures to “binary” methods such as <code>Collection.each</code>, the Pipeline build should now fail with an error message mentioning the issue, rather than silently behaving in an erratic fashion.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-35395">JENKINS-35395</a> Moving documentation for global variables into their own page for clarity.</li><li>Missing colon in editor snippet.</li><li>Infrastructure for <a href="https://issues.jenkins-ci.org/browse/JENKINS-26130">JENKINS-26130</a>: display information in the build log after <em>Resuming build</em> about what objects are still being loaded.</li></ul><h3 id="PipelineGroovyPlugin-2.5(Jun09,2016)">2.5 (Jun 09, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-34281">JENKINS-34281</a> workaround: some builds could fail to resume properly in a Jenkins installation with no anonymous read access, depending on how Jenkins was shut down.</li></ul><h3 id="PipelineGroovyPlugin-2.4(May25,2016)">2.4 (May 25, 2016)</h3><ul><li>Adding another link to <em>Pipeline Syntax</em> from a job configuration screen itself, to make it more prominent for Jenkins 2.x users without a sidebar.</li></ul><h3 id="PipelineGroovyPlugin-2.3(May23,2016)">2.3 (May 23, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-31831">JENKINS-31831</a> Moving <em>Snippet Generator</em> and related content to a new set of top-level pages under the label <em>Pipeline Syntax</em>.</li><li>API implementation useful for <a href="https://issues.jenkins-ci.org/browse/JENKINS-26107">JENKINS-26107</a>.</li></ul><h3 id="PipelineGroovyPlugin-2.2(May02,2016)">2.2 (May 02, 2016)</h3><ul><li>Enable the Groovy sandbox by default, even for administrators.</li><li>Improved log appearance of block-scoped steps.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-25894">JENKINS-25894</a> Better error reporting inside <code>parallel</code>.</li><li>Flow node graph improvement for <code>load</code> step.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-26156">JENKINS-26156</a> API problem in <code>BodyInvoker.withDisplayName</code>.</li></ul><h3 id="PipelineGroovyPlugin-2.1(Apr06,2016)">2.1 (Apr 06, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-34064">JENKINS-34064</a> Fix of <a href="https://issues.jenkins-ci.org/browse/JENKINS-26481">JENKINS-26481</a> reverted for now since it broke <em>all</em> Pipeline scripts in Jenkins 2.0 betas.</li></ul><h3 id="PipelineGroovyPlugin-2.0(Apr05,2016)">2.0 (Apr 05, 2016)</h3><ul><li>First release under per-plugin versioning scheme. See <a href="https://github.com/jenkinsci/workflow-plugin/blob/82e7defa37c05c5f004f1ba01c93df61ea7868a5/CHANGES.md" class="external-link" rel="nofollow">1.x changelog</a> for earlier releases.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-26481">JENKINS-26481</a> <code>list.each {…</code>} now works from Pipeline scripts (without <code>@NonCPS</code>).</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-27421">JENKINS-27421</a> <code>for (def x in list) {…</code>} now works from Pipeline scripts (without <code>@NonCPS</code>).</li></ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:38</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
