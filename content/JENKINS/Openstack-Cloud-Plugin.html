<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Openstack Cloud Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Openstack Cloud Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (mavlyutov)</span>, last modified by <span class='editor'> Unknown User (olivergondza)</span> on Aug 27, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    Provision nodes from OpenStack on demand.<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View OpenStack Cloud <a href="https://plugins.jenkins.io/openstack-cloud" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2018-06-25/#SECURITY-808" class="external-link" rel="nofollow">CSRF vulnerability and insufficient permission checks allow capturing credentials</a></li>
</ul>

</div></div>
<p><br/></p><p><a href="https://ci.jenkins.io/job/Plugins/job/openstack-cloud-plugin/job/master/" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://ci.jenkins.io/job/Plugins/job/openstack-cloud-plugin/job/master/badge/icon" data-image-src="https://ci.jenkins.io/job/Plugins/job/openstack-cloud-plugin/job/master/badge/icon"></span></a></p><h2 id="OpenstackCloudPlugin-Essentials">Essentials</h2><p><span class="confluence-embedded-file-wrapper image-right-wrapper"><img class="confluence-embedded-image confluence-thumbnail image-right" src="attachments/75891481/97288231.png" data-image-src="attachments/75891481/97288231.png" data-unresolved-comment-count="0" data-linked-resource-id="97288231" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="openstack-cloud-config.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="75891481" data-linked-resource-container-version="56"></span></p><p>In order to provision new nodes when Jenkins load goes high, administrator needs to configure <em>Cloud</em> and one or more <em>Templates</em> on global configuration page. Cloud represents connection to particular OpenStack tenant (project). In order to use several openstack instances or tenants, it is necessary to configure several Clouds in Jenkins. Template can be seen as a definition of particular <em>kind</em> of node. Template is the primary holder of all the attributes for OpenStack machine to be provisioned (image, flavor, etc.) as well as for Jenkins node (number of executors, etc.). Note that the same set of attributes can be configured on Cloud level as well. Such configuration will be then used as default for its templates. For example, if all nodes are supposed to use the same key-pair there is no need to state it in every template, it can be configured on cloud level and leave the filed blank in the templates.</p><p>Aside from machine/node attributes, every template require name and labels to be configured. Name will serve both as an identifier of the template as well as a name prefix for Jenkins node and OpenStack machine (that is why some limitations apply here). Labels field expects a set of Jenkins labels that will be assigned to all nodes given template provision. It will also be used to determine which cloud and template to use to process Jenkins load. When there is a build with no label requirements (<em>Restrict where this project can be run</em> on job page), any template can be used to provision the node. Build with label restriction can trigger provisioning only on templates with matching label set. The attributes at template level will inherit all global values (the value in effect is printed under the field). In case required field do not have a default nor current value, it will be reported.</p><p><span class="confluence-embedded-file-wrapper image-right-wrapper"><img class="confluence-embedded-image confluence-thumbnail image-right" src="attachments/75891481/97288233.png" data-image-src="attachments/75891481/97288233.png" data-unresolved-comment-count="0" data-linked-resource-id="97288233" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="openstack-template-config.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="75891481" data-linked-resource-container-version="56"></span></p><h3 id="OpenstackCloudPlugin-Userdata">User data</h3><p>Every template can declare user-data script to be passed to <a href="https://help.ubuntu.com/community/CloudInit" class="external-link" rel="nofollow">CloudInit</a> to customize the machine that is provisioned. Note that the image needs to support cloud init explicitly.</p><p>Before the script is sent to OpenStack, plugin injects several values using <code>${VARIABLE_NAME</code>} syntax:</p><ul class="alternate"><li><strong><code>JENKINS_URL</code></strong>: The URL of the Jenkins instance</li><li><strong><code>SLAVE_JAR_URL</code></strong>: URL of the slave.jar - the agent executable</li><li><strong><code>SLAVE_JNLP_URL</code></strong>: The endpoint URL for JNLP connection</li><li><strong><code>SLAVE_JNLP_SECRET</code></strong>: The JNLP 'secret' key. This key authorizes to connect Jenkins agent process to a Jenkins computer. Note that referencing this in server user-data (and then using it to launch agent process) makes it exposed to any user or automation permitted to access the Jenkins agent (including running builds). Also, when OpenStack deployment uses metadata service, which it often does, it must be deployed in a way this is guaranteed not to leak. See <a href="https://wiki.openstack.org/wiki/OSSN/OSSN-0074" class="external-link" rel="nofollow">OSSN-0074</a> for further details.</li><li><strong><code>SLAVE_LABELS</code></strong>: Labels of the corresponding Jenkins computer</li></ul><h3 id="OpenstackCloudPlugin-Reporting">Reporting</h3><p>Openstack plugin utilizes <a href="Cloud-Statistics-Plugin.html">Cloud Statistics Plugin</a> that captures failures and time trends of past provisioning attempts.</p><h3 id="OpenstackCloudPlugin-ConfigurationAsCode">Configuration As Code</h3><p>Since version 2.46, <a href="https://jenkins.io/projects/jcasc/" class="external-link" rel="nofollow">JCasC</a> is supported. Example:</p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom">
  <b class="code-title"></b>
  <span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span>
  <span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: yml; gutter: false; theme: Confluence; collapse: true" data-theme="Confluence">jenkins:
  clouds:
    - openstack:
        name: "foo"
        endPointUrl: "https://acme.com:5000"
        credentialsId: "openstack_service_credentials"
        ignoreSsl: false
        zone: foo
        slaveOptions:
          bootSource:
            image:
              name: "Image Name"
          hardwareId: "hid"
          networkId: "net"
          userDataId: "user-data-id"
          instanceCap: 11
          instancesMin: 1
          floatingIpPool: "baz"
          securityGroups: "s1,s2"
          availabilityZone: "bax"
          startTimeout: 15
          keyPairName: "key"
          numExecutors: 2
          jvmOptions: "-Xmx1G"
          fsRoot: "/tmp/foo"
          launcherFactory:
            ssh:
              credentialsId: "openstack_ssh_key"
              javaPath: "/bin/true"
          retentionTime: 42
        templates:
          - name: "empty"
            labels: "linux"
          - name: "jnlp"
            labels: "jnlp"
            slaveOptions:
              launcherFactory: "jnlp"
          - name: "volumeSnapshot"
            labels: "volume"
            slaveOptions:
              bootSource:
                volumeSnapshot:
                  name: "Volume name"
          - name: "volumeFromImage"
            labels: "volume from image"
            slaveOptions:
              bootSource:
                volumeFromImage:
                  name: "Volume name"
                  volumeSize: 15

unclassified:
  globalConfigFiles:
    configs:
      - openstackUserData:
          id: user-data-id
          name: "My user data"
          comment: "... with a comment"
          content: &gt;
            #cloud-config
            disable_root: 0
            ssh_pwauth: True
            chpasswd: { expire: False }

            users:
              - name: root
                password: toor
                lock-passwd: false
                inactive: false
                system: false

credentials:
  system:
    domainCredentials:
      - credentials:
          - openstackV3:
              scope: SYSTEM
              id: "openstack_service_credentials"
              description: "desc"
              userName: "foo"
              userDomain: "acme.com"
              projectName: "casc"
              projectDomain: "acme.com"
              password: "bar" # Do not hardcode plaintext secrets for real world declarations!
          - openstackV2:
              scope: SYSTEM
              id: "openstack_service_credentialsV2"
              description: "desc"
              username: "username"
              password: "pwd" # Do not hardcode plaintext secrets for real world declarations!
              tenant: "tnt"
          - basicSSHUserPrivateKey:
              scope: SYSTEM
              id: "openstack_ssh_key"
              username: "jenkins"
              privateKeySource:
                directEntry:
                  # Do not hardcode plaintext secrets for real world declarations!
                  privateKey: &gt;
                    -----BEGIN OPENSSH PRIVATE KEY-----
                    b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABFwAAAAdzc2gtcn
                    NhAAAAAwEAAQAAAQEAleOyx/pWbWBWrKOXyDpXio33Y6jAXdAi2mqo1nKIcIX75U71WxcR
                    2+i+IqlyVm85YcBQ3xKZ9KVxW9rCGn/KNJkQdQa+hGltJUHJNLPGCoZG0Qj5LLhXW3SSOQ
                    3X2e8FMLTmrHeBqOZhFJr9ijlDX23Hbo5JENGs8MCXAfFBcthBViWWouaon2qgH1xncT19
                    OVpQbAozwgqM1pl+6fL1yvBw89emAix+G+iy+r89fk+mb/5jwkikFsk9qhZrQIkrSsGS2h
                    noH+LeRUtMyDcjXcqC214PtyI38hA+TxjIfqNBz8VF9juhAq28kOVFMPBNxoI8bW2F6/1h
                    49Jkg9iLzQAAA8i2KKHJtiihyQAAAAdzc2gtcnNhAAABAQCV47LH+lZtYFaso5fIOleKjf
                    djqMBd0CLaaqjWcohwhfvlTvVbFxHb6L4iqXJWbzlhwFDfEpn0pXFb2sIaf8o0mRB1Br6E
                    aW0lQck0s8YKhkbRCPksuFdbdJI5DdfZ7wUwtOasd4Go5mEUmv2KOUNfbcdujkkQ0azwwJ
                    cB8UFy2EFWJZai5qifaqAfXGdxPX05WlBsCjPCCozWmX7p8vXK8HDz16YCLH4b6LL6vz1+
                    T6Zv/mPCSKQWyT2qFmtAiStKwZLaGegf4t5FS0zINyNdyoLbXg+3IjfyED5PGMh+o0HPxU
                    X2O6ECrbyQ5UUw8E3GgjxtbYXr/WHj0mSD2IvNAAAAAwEAAQAAAQBJrcbZBFZtp3iTnkri
                    8sLLaeOcinwc4U3wnZNm7p/g6AudeYWkBCAUQEEOWsrIcB39zgIy1Tr2hkjFxS+6xOxJlK
                    ABVpJaFlS/hqn4DRKhY8X1xPpvICJY42FpSEO9bf/YJGRrjMcgljZMYa+VvXY/t3/b+Xcz
                    HE5tfc3893GbmK9YUvFu6WdGg/3J3M/L3NvJVlPDfq7hQkx1EPVv/w5B+CNrVRayKypVRj
                    3cV/akjVuSblOs227nFzEtt6WDFky7H0T7rwoJKT0Co+4gVheQGibzU726MdXgVI2W2SPo
                    h3HcQfA74FLi6JeM1s/Fkl4UZctbxzXXrtW3v8ecEbEhAAAAgFc8FdBS7Jbo+ofOgfmTBE
                    fCkvVU/TIvPrkz6KAJxuBaYYGpT+YtSoJwpmdjOn0M23KiDA/4i+1G/NVZXa/N22rUd9Gp
                    uSikOImAwrhB3hjr5c/8lt+iC89fdWQBEZs2QsxLeHPIqNnjYlyDa6Rz0t4lQe54rmbtXR
                    FYgMGGBglTAAAAgQDEYxhyBdzLMg1U8XTe6rQ41ikPuePdeUghP0JCjq7M5TzdTRCC1oDe
                    vwREeLNFOvDLdl8sqYGJTegpdVM2FHIQBmbxamM2Ms0YSETsCMWUHJguh3mKvIx8ICPkoZ
                    eNN2HlSxh2ug3unE9vANuJKZztAsnPMoafMPyKmH5XbL+F1QAAAIEAw2NZu/9a815Rwr7C
                    JbAt3jdjyM6MIVAFb7BQS1wtGsitZCaeb0Pond+T4j7mOTbzMZhE0lstwsWWrDWlX9LkHV
                    RsDHpCNTnxRfQeA1NL5LoTIW8OfjV2/NiGAa6INerBBURRKlIRJYdLmdi/IoNSzwBzC/mV
                    kh2nsVg0sOMNkhkAAAAMb2dvbmR6YUBhcmNoAQIDBAUGBw==
                    -----END OPENSSH PRIVATE KEY-----</pre> 
 </div>
</div><p><br/></p><h3 id="OpenstackCloudPlugin-Tipsandtricks">Tips and tricks</h3><ul><li>User can manually provision slave from particular cloud/template on <em>Manage Jenkins &gt; Manage Nodes.</em></li><li>Deleting slave provisioned by OpenStack plugin will merely put it temporarily offline, the actual disposal of the slave and machine is performed with delay. That means that user have the possibility to abort that operation putting the slave back online. But most importantly, user can suggest plugin to discard the slave while still occupied by running build this way.</li></ul><ul><li>Plugin identifies OpenStack image/snapshot to provision by its name. The image can be updated/replaced in openstack and the plugin will not require update provided its name have not changed.</li><li>In case maximal instance number is specified on template level, the stricter of the two (global and template value) will be applied. Global value exists to ensure that the number of machines provisioned by plugin will not exceed certain limit. The template value can further restrict that at most N machines of given kind can be utilized at the same time.</li><li>Plugin can report maximal number of instances was reached while there is not adequate number of Jenkins nodes. It is because plugin inspects running OpenStack machines in order to cover machines being provisioned/deleted (that do not have Jenkins nodes) and instances that plugin failed to delete. In case the instance get leaked, please report that as a bug with all relevant FINE level logs attached.</li></ul><ul><li>On every slave provisioned by the plugin, there is an environment variable <code>OPENSTACK_PUBLIC_IP</code> declared with the IP address allocated for the machine.</li></ul><h3 id="OpenstackCloudPlugin-Troubleshooting">Troubleshooting</h3><h4 id="OpenstackCloudPlugin-Accessinglogs">Accessing logs</h4><p>Plugin uses <code>INFO</code> and above levels to report things user should worry about. For debugging, set it to <code>FINEST</code> - note the <code>ALL</code> level is not sufficient to print these. To configure OpenStack plugin logging in Jenkins UI go to <em>Manage Jenkins &gt; System Log &gt; New Log Recorder</em> and use <code>jenkins.plugins.openstack.compute</code> as the logger name.</p><h4 id="OpenstackCloudPlugin-Accessopenstackclientfromgroovyconsole">Access openstack client from groovy console</h4><p>Use <code>Jenkins.instance.clouds[0].openstack.@clientProvider.get()</code> to access the openstack4j client. Users are discouraged to use this anything else but querying the openstack (otherwise there is no way to ensure plugin will work correctly). For older versions fo the plugin use <code>Jenkins.instance.clouds[0].openstack.@client</code>.</p><h4 id="OpenstackCloudPlugin-UserData/Cloudinitisnotevaluated">User Data / Cloud init is not evaluated</h4><p>The image might not support it at all or can fail executing it. Check machine log in OpenStack for further details. Note that for now, there is no guarantee the script will complete before machine is connected to Jenkins and builds are started.</p><h2 id="OpenstackCloudPlugin-Changelog">Changelog</h2><h5 id="OpenstackCloudPlugin-Version2.47">Version 2.47</h5><ul><li><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/cf6e1d0e2cff2b6695f2059b58a486d6284b030d" rel="nofollow">Issue</a> <a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/254" class="external-link" rel="nofollow">#254</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/cf6e1d0e2cff2b6695f2059b58a486d6284b030d" class="external-link" rel="nofollow">: Improve error reporting during manual provisioning</a></li><li><span class="nolink"><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/258" class="external-link" rel="nofollow">Do not count connection time into idle time</a></span></li></ul><h5 id="OpenstackCloudPlugin-Version2.46.1">Version 2.46.1</h5><p><span style="color: rgb(255,0,0);"><strong>Jenkins Configuration as Code (JCasC) is not supported for older releases.</strong></span></p><ul><li>Correctly handle username in Configuration as Code (JCasC)</li></ul><h5 id="OpenstackCloudPlugin-Version2.46">Version 2.46</h5><ul><li>Configuration as Code (JCasC) support introduced</li></ul><h5 id="OpenstackCloudPlugin-Version2.45">Version 2.45</h5><ul><li>Show correct time in &quot;Pending deletion&quot; messages</li><li>Rework handling of <code>retentionTime == 0</code> scenarios</li></ul><h5 id="OpenstackCloudPlugin-Version2.44">Version 2.44</h5><ul><li>Prevent nodes to be deleted while provisioning where <code>retentionTime == 0</code> </li><li>Warn users JNLP secret in cloud-stats is inherently insecure</li><li>Consult Jenkins computer count for maintaining maximal instance capacity</li><li>Stop tracking servers to delete when cloud is deleted or renamed</li></ul><h5 id="OpenstackCloudPlugin-Version2.43">Version 2.43</h5><ul><li>Use upstream/unpatched openstack4j again</li><li>Use 20 seconds socket timeout when taking to OpenStack</li><li>Invalidate OpenStack client instance when password changes</li><li>Add support for SSH launching over Ipv6</li></ul><h5 id="OpenstackCloudPlugin-Version2.42">Version 2.42</h5><ul><li><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/b712cc957553f1491284ef37b05ac0c9697c896b" rel="nofollow">Make sure the user id is preserved for manually provisioned nodes</a></li><li><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/b153b5c67767d3d03cf68603b29c3c73e08f91ef" rel="nofollow">Fix manual provisioning with multiple clouds configured</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.41">Version 2.41</h5><ul><li><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/3a08f2ebb4ca8c1f5d86ba8b99dafa52f510a5d9" rel="nofollow">Prevent provisioning failure when VolumeSnapshot has no description.</a></li><li><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/9c069efd0375cfdf20b9905ceb378ee30361ec56" rel="nofollow">Mark a node used only after a task has complete</a> <span class="hidden-text-expander inline"> </span><ul><li>Further fixes ware delivered for use-case where <code>retentionTime == 0</code> in later versions</li></ul></li></ul><h5 id="OpenstackCloudPlugin-Version2.40">Version 2.40</h5><ul><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/218" class="external-link" rel="nofollow">Switch to OpenStack Glance v2 - reworked</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.39">Version 2.39</h5><ul><li>Revert glance v2 switch to avoid the regression from 2.38</li></ul><h5 id="OpenstackCloudPlugin-Version2.38">Version 2.38</h5><ul><li><span style="color: rgb(255,0,0);">Switched to OpenStack Glance v2 breaking deployments with more than 25 images - use 2.40 or newer<br/></span></li><li>Use human readable description for server flavor sizes</li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/180" class="external-link" rel="nofollow">Do not wait for provisioning to complete in http handling thread</a></li><li>Make sure slave with 0 retention time will not be reused</li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/213" class="external-link" rel="nofollow">Interrupt matrix parents when killing computer, too</a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/214" class="external-link" rel="nofollow">Relax template/cloud name restrictions</a><br/><br/></li></ul><h5 id="OpenstackCloudPlugin-Version2.37">Version 2.37</h5><ul><li><span style="color: rgb(255,0,0);">Connection leak regression originally fixed in 2.27 - use 2.38 or newer</span></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/208" class="external-link" rel="nofollow">Fix problems introduced by security patch in 2.36</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.36">Version 2.36</h5><ul><li><a href="https://jenkins.io/security/advisory/2018-06-25/#SECURITY-808" class="external-link" rel="nofollow">Fix security issue</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.35">Version 2.35</h5><ul><li>Add support for enforcing minimal number of nodes running per template</li></ul><h5 id="OpenstackCloudPlugin-Version2.34">Version 2.34</h5><ul><li>Add support for provisioning servers in multiple networks</li><li>Avoid chatty logging for periodic work</li></ul><h5 id="OpenstackCloudPlugin-Version2.33">Version 2.33</h5><ul><li><span style="color: rgb(255,0,0);">This plugin requires Java 8 from this release on</span></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/32fd027ab2826834818f39885f13958678935c1e" class="external-link" rel="nofollow"> Improve diagnostics in case of failed agent launch </a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/f04e333ae4809529e47e05d5ce0ccdeb2ff9ad86" class="external-link" rel="nofollow">Improved Jenkins orphanned computer detection</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.32">Version 2.32</h5><ul><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/194" class="external-link" rel="nofollow">Support booting to volume</a></li><li><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/797aec00df9a1a1f93fd32fa2f3302da435265e3" rel="nofollow">Rework computer termination to prevent repeated Channel#close</a></li><li>Note this does not contain the fix for <a href="https://github.com/ContainX/openstack4j/pull/1151" class="external-link" rel="nofollow">ContainX/openstack4j#1151</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.31.1">Version 2.31.1</h5><ul><li>Add hotfix for <a href="https://github.com/ContainX/openstack4j/pull/1151" class="external-link" rel="nofollow">ContainX/openstack4j#1151</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.31">Version 2.31</h5><ul><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/88ecbd2f9354a8640d3db683ebdfb977524c3103" class="external-link" rel="nofollow">Ensure node names never collide</a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/189" class="external-link" rel="nofollow">OpenStackj4 Neutron Networks object incompatible</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.30">Version 2.30</h5><ul><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/165" class="external-link" rel="nofollow">Add support for project domains</a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/184" class="external-link" rel="nofollow">Add ability to skip ssl check</a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/255f8beb5bda7af6576e47f0e76679079ef6a2ed" class="external-link" rel="nofollow"> Report computer &quot;fatal&quot; offline cause when present when destroying computer</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.29(2017-10-20)">Version 2.29 (2017-10-20)</h5><ul><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/178" class="external-link" rel="nofollow">Fix regression in <span class="js-issue-title">region handling</span></a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/0944ad64aad8888034236dcb5a265ab714aa4363" title="Do not report failed FIP deletion if failed with 404" class="external-link" rel="nofollow">Do not report failed FIP deletion in cloud statistics if failed with 404</a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/136" class="external-link" rel="nofollow">Add support for volumeSnapshots</a></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/pull/177" class="external-link" rel="nofollow">Do not use expired login sessions</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.27(2017-10-03)">Version 2.27 (2017-10-03)</h5><ul><li><code><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/0298b34d32542d918d620d5e3e26f9d8b16a52aa" class="external-link" title="Improve reporting of boot timeout" rel="nofollow">Improve reporting of boot timeout</a></code></li><li><code><a title="Abort provisioning/launching when server gets deleted" class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/aca66be161efb7f5b19740e2fe37c5935f0fe9c6" rel="nofollow">Abort provisioning/launching when server gets deleted</a></code></li><li><code><a title="Add support for explicit java path when SSHLauncher is used" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/e0b869156f3e5dbbca124cf303187b85e3f213e2" class="external-link" rel="nofollow">Add support for explicit java path when SSHLauncher is used</a></code></li><li><code><a class="external-link" title="Bump openstack4j okhttp connector to avoid accasional connection leaks" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/ef1a9df7397c3e53de6db15731e6349dfc5b1d26" rel="nofollow">Bump openstack4j okhttp connector to avoid occasional connection leaks</a></code></li><li><code>Avoid phony cloud-stats warnings logged</code></li></ul><h5 id="OpenstackCloudPlugin-Version2.26">Version 2.26</h5><p><em>Botched release - changes went to 2.27</em></p><h5 id="OpenstackCloudPlugin-Version2.25(2017-09-25)">Version 2.25 (2017-09-25)</h5><ul><li><code><span class="issue-keyword tooltipped tooltipped-se"><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/9f7659dd345ab90be5331371d800fdca14004094" class="external-link" rel="nofollow">Fix</a></span> <a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/168" class="external-link" rel="nofollow">#168</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/9f7659dd345ab90be5331371d800fdca14004094" class="external-link" rel="nofollow">: Prevent tracking disposal of the same server several times</a></code></li><li><code><a title="Use ok-http to prevent conn...&#xa;&#xa;...ection leak&#xa;&#xa;Openstack4J use of httpclient results in connections leaking, switching&#xa;to ok-http prevenloss in functionallity." href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/103a02a643b4b60299fbe562afe30ecafdb17c9f" class="external-link" rel="nofollow">Use ok-http to prevent connection blockage (prefer 2.27 with followup fix)<br/></a></code></li><li><div class="commit-message"><code><span class="issue-keyword tooltipped tooltipped-se"><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/0a04a95071480bceca952c3bc48085ba8b4aec5b" class="external-link" rel="nofollow">Fix</a></span> <a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/167" class="external-link" rel="nofollow">#167</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/0a04a95071480bceca952c3bc48085ba8b4aec5b" class="external-link" rel="nofollow">: Specify node readiness timeout cause</a></code></div></li><li><p class="gh-header-title"><span class="js-issue-title">Refactor slave type into describable</span></p></li></ul><h5 id="OpenstackCloudPlugin-Version2.24(2017-08-17)">Version 2.24 (2017-08-17)</h5><p><span style="color: rgb(255,0,0);">Note this version is affected by httpclient connection leak - use 2.27 instead.</span></p><ul><li><p class="gh-header-title"><span class="js-issue-title">Pipeline step for agentless node provisioning</span></p></li><li><span class="js-issue-title">Prefer IPv4 address for SSH launcher</span></li><li><pre>Prevent occasional IllegalArgumentException: Failed to instantiate class jenkins.plugins.openstack.compute.SlaveOptions while saving global configuration page</pre></li><li>First attempt to implement Openstack client caching between requests</li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/171" class="external-link" rel="nofollow">This version is affected by occasional httpclient connection blockage</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.23">Version 2.23</h5><ul><li><p class="commit-title">Issue <a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/128" rel="nofollow">#128</a>: Do not fail when FIP service is disallowed (403) on paths that does not require floating IP (introduced in 2.21)</p></li><li><a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/171" class="external-link" rel="nofollow">This version is affected by occasional httpclient connection blockage</a></li></ul><h5 id="OpenstackCloudPlugin-Version2.22">Version 2.22</h5><ul><li>Investigate <code>SSH channel is closed</code>/<code>No route to host</code> (<a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/149" class="external-link" rel="nofollow">Issue #149</a>)</li></ul><h5 id="OpenstackCloudPlugin-Version2.21">Version 2.21</h5><ul><li><code><span class="issue-keyword tooltipped tooltipped-se"><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/d558dc3438436b0ba534121584b443dacc3f3797" rel="nofollow">Fix</a></span> <a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/148" rel="nofollow">#148</a><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/d558dc3438436b0ba534121584b443dacc3f3797" rel="nofollow">: Skip unknown variables in user data</a></code></li><li><code><a class="external-link" title="Record manual provisioning attempt failure for unexpected exceptions" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/104192510ace1db6788a3e200bf69c72d2f124df" rel="nofollow">Record manual provisioning attempt failure for unexpected exceptions</a></code></li><li><p class="gh-header-title"><span class="js-issue-title">Issue <span class="gh-header-number">#128</span>: Request: Allow VMs without floating IPs (<a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/128#issuecomment-293425245" class="external-link" rel="nofollow">followup fix from 2.23 needed</a>)</span></p></li></ul><h5 id="OpenstackCloudPlugin-Version2.20">Version 2.20</h5><p><em>No user visible changes included</em></p><h5 id="OpenstackCloudPlugin-Version2.19">Version 2.19</h5><ul><li><div class="commit-message"><code><span class="issue-keyword tooltipped tooltipped-se"><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/a8336ccda26e48a67a9046f2ce71a29ed5d0e05e" class="external-link" rel="nofollow">Fixed</a></span> <a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/84" class="external-link" rel="nofollow">#84</a><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/a8336ccda26e48a67a9046f2ce71a29ed5d0e05e" rel="nofollow">: Destroy leaked floating IPs</a></code></div></li><li><div class="commit-message"><code><span class="issue-keyword tooltipped tooltipped-se"><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/253caa11823cd01a3c81afc750c864d9bb9c6518" rel="nofollow">Fix</a></span> <a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/137" class="external-link" rel="nofollow">#137</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/253caa11823cd01a3c81afc750c864d9bb9c6518" class="external-link" rel="nofollow">: Retry when ssh launcher fail to bring the node online silently</a></code></div></li><li><code><span class="issue-keyword tooltipped tooltipped-se"><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/37a92a45045ee911909adc5091bfa4949a32fdf0" class="external-link" rel="nofollow">Fix</a></span> <a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/144" rel="nofollow">#144</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/37a92a45045ee911909adc5091bfa4949a32fdf0" class="external-link" rel="nofollow">: Bring the node sidebar links that ware removed accidentally</a></code></li><li><div class="commit-message"><code><span class="issue-keyword tooltipped tooltipped-se"><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/59901b55154459f7697ffd9efe50f1085c40229a" rel="nofollow">Fix</a></span> <a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/109" rel="nofollow">#109</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/59901b55154459f7697ffd9efe50f1085c40229a" class="external-link" rel="nofollow">: Generate documentation for variables replaced in user data</a></code></div></li><li><code><a class="external-link" href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/50ded9cd2253a4cac78208aa62da9e7eaf8e43dc" rel="nofollow">Fix waiting for JNLP agents</a></code><span class="hidden-text-expander inline"> </span><span class="hidden-text-expander inline"><code><span class="message"> (JENKINS-42207</span></code><span class="hidden-text-expander inline">)</span></span></li><li><div class="commit-message"><code><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/949f4060136f1324ad3b924a6404e961df3647eb" title="Do not discard nodes that are being provisioned" class="external-link" rel="nofollow">Do not discard nodes that are being provisioned</a></code></div><span class="hidden-text-expander inline"> </span></li></ul><h5 id="OpenstackCloudPlugin-Version2.18">Version 2.18</h5><ul><li>Discard old nodes asynchronously</li><li>Restore compatibility with config-file-provider 2.14+</li><li>Collect leaked OpenStack servers and Jenkins slaves once they do not have the counterpart</li><li><code><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/610e0c32933f9b560723feee756b3694a4cd8b0e" class="external-link" rel="nofollow">Issue</a> <a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/140" class="external-link" rel="nofollow">#140</a><a href="https://github.com/jenkinsci/openstack-cloud-plugin/commit/610e0c32933f9b560723feee756b3694a4cd8b0e" class="external-link" rel="nofollow">: Report meaningful issue in case instance boot times out</a></code></li></ul><h5 id="OpenstackCloudPlugin-Version2.17">Version 2.17</h5><ul><li><span class="message">Restore config-file-provider &lt;2.13 support</span> properly 
<span class="jira-issue resolved" data-jira-key="JENKINS-41024" >
                    <a href="https://issues.jenkins.io/browse/JENKINS-41024?src=confmacro" class="jira-issue-key"><img class="icon"
                                                                                      src="https://issues.jenkins.io/secure/viewavatar?size=xsmall&amp;avatarId=14673&amp;avatarType=issuetype"/>JENKINS-41024</a>
                            -
            <span class="summary">Cannot provision new nodes with OpenStack plugin</span>
                                                <span class="aui-lozenge aui-lozenge-subtle             aui-lozenge-success
     jira-macro-single-issue-export-pdf">Resolved</span>
                </span>
</li></ul><h5 id="OpenstackCloudPlugin-Version2.16">Version 2.16</h5><ul><li><span class="message">Restore config-file-provider &lt;2.13 support - <span style="color: rgb(255,0,0);">Do not use this version!</span></span></li></ul><h5 id="OpenstackCloudPlugin-Version2.15(2017-01-02)">Version 2.15 (2017-01-02)</h5><ul><li>Do not wait for successful launch while provisioning.<ul><li>There should be less failed launch attempts right after the node is provisioned.<ul><li>The time statistics are not comparable to the older ones (provisioning time is longer, launching is shorter).</li></ul></li></ul></li></ul><h5 id="OpenstackCloudPlugin-Version2.14(2016-11-21)">Version 2.14 (2016-11-21)</h5><ul><li>Bugfix; do not fail when region is empty.</li></ul><h5 id="OpenstackCloudPlugin-Version2.13(2016-10-22)">Version 2.13 (2016-10-22)</h5><ul><li>Bugfix: avoid classloading issue caused by pom refactoring.</li></ul><h5 id="OpenstackCloudPlugin-Version2.8(2016-06-06)">Version 2.8 (2016-06-06)</h5><ul><li>Fix floating IP deallocation when machine is deleted (<a href="https://github.com/jenkinsci/openstack-cloud-plugin/issues/81" class="external-link" rel="nofollow">Issue #81</a>)</li></ul><h5 id="OpenstackCloudPlugin-Version2.7(2016-05-16)">Version 2.7 (2016-05-16)</h5><ul><li>Do not leak servers when floating ip assignment fails.</li><li>Avoid deadlock caused by adding and deleting OpenStack nodes.</li><li>Avoid phony failures in <code>destroyServer</code> cause by server disappearing when retrying deletion.</li></ul><h5 id="OpenstackCloudPlugin-Version2.6(2016-05-10)">Version 2.6 (2016-05-10)</h5><ul><li>Integrate <a href="Cloud-Statistics-Plugin.html">Cloud Statistics Plugin</a>.</li></ul><h5 id="OpenstackCloudPlugin-Version2.5(2016-05-05)">Version 2.5 (2016-05-05)</h5><ul><li>Make sure plugin can reach all important endpoints when testing connection (<a href="https://issues.jenkins-ci.org/browse/JENKINS-34578" class="external-link" rel="nofollow">JENKINS-34578</a>)</li></ul><h5 id="OpenstackCloudPlugin-Version2.4(2016-05-04)">Version 2.4 (2016-05-04)</h5><ul><li>Plugin fails to resolve image ID on some OpenStack deployments (<a href="https://issues.jenkins-ci.org/browse/JENKINS-34495" class="external-link" rel="nofollow">JENKINS-34495</a>)</li></ul><h5 id="OpenstackCloudPlugin-Version2.3(2016-04-21)">Version 2.3 (2016-04-21)</h5><ul><li>Never remove slave put temporarily offline by user</li><li>Plugin can now handle images with blank name</li><li>Fix server deletion retry logic</li><li>Make key-pair field selectable on global config page</li></ul><h5 id="OpenstackCloudPlugin-Version2.2(2016-04-11)">Version 2.2 (2016-04-11)</h5><ul><li>OpenStack slaves can be put into &quot;pending delete&quot; state pressing &quot;Delete&quot; button while build is in progress.</li><li>Instances out of disk space in /tmp or workspace will be put into &quot;pending delete&quot; state and removed eventually.</li><li>Maximal number of instances limitation implemented for templates.</li><li>Maximal number of instances can be set to more than 10 (regression from 2.1).</li></ul><h5 id="OpenstackCloudPlugin-Version2.1(2016-03-31)">Version 2.1 (2016-03-31)</h5><ul><li>Machine/slave options can be specified on both cloud level as well as template level (Maximal number of instances limitation is implemented on 2.2).</li><li>Images/snapshots are identified by name, not image id.</li><li>Add support for floating pool name selection.</li></ul><h5 id="OpenstackCloudPlugin-Version2.0(2016-02-22)">Version 2.0 (2016-02-22)</h5><ul><li>Jobs without label are never scheduled, so does most of matrix combinations(<a href="https://issues.jenkins-ci.org/browse/JENKINS-29998" class="external-link" rel="nofollow">JENKINS-29998</a>)</li><li>Drop support for blobstore. (This is not a rejection of the feature. None of the maintainers have an environment to reproduce this. Please reach us if you care for this feature and have an option to run the tests)</li><li>Drop support for injecting private key from plugin. Should be done by configuration management.</li><li>Replace JClouds backend with openstack4j.</li><li>Move to singlemodule maven project avoiding dependency shading.</li></ul><h5 id="OpenstackCloudPlugin-Version1.5(releasedFebruary2015)"><span style="color: rgb(210,73,57);"><strong>Version 1.5 (released February 2015)</strong></span></h5><ul><li>UserData scripts now managed by <a href="https://wiki.jenkins-ci.org/display/JENKINS/Config+File+Provider+Plugin" class="external-link" rel="nofollow">Config-File-Provider</a> plugin</li></ul><h5 id="OpenstackCloudPlugin-Version1.4(releasedFebruary2015)">Version 1.4 (released February 2015)</h5><ul><li>InitScript is moved out. use cloud-init plus userData instead</li><li>Fix bug with multiple zones, now plugin restricts user to only one single zone</li><li>get rid of SpoolingBeforeInstanceCreation as it is paid-cloud parameter only</li></ul><h5 id="OpenstackCloudPlugin-Version1.3(releasedJanuary,2015)">Version 1.3 (released January, 2015)</h5><ul><li>Initial release</li></ul><p><br/>Provision nodes from OpenStack on demand.<br/><br/><br/>{jenkins-plugin-info:pluginId=openstack-cloud}<br/><br/>Essentials<br/><br/>[Jenkins &gt; Openstack Cloud Plugin &gt; openstack-cloud-config.png]<br/><br/>In order to provision new nodes when Jenkins load goes high, administrator needs to configure Cloud and one or more Templates on global configuration page. Cloud represents connection to particular OpenStack tenant (project). In order to use several openstack instances or tenants, it is necessary to configure several Clouds in Jenkins. Template can be seen as a definition of particular kind of node. Template is the primary holder of all the attributes for OpenStack machine to be provisioned (image, flavor, etc.) as well as for Jenkins node (number of executors, etc.). Note that the same set of attributes can be configured on Cloud level as well. Such configuration will be then used as default for its templates. For example, if all nodes are supposed to use the same key-pair there is no need to state it in every template, it can be configured on cloud level and leave the filed blank in the templates.<br/><br/>Aside from machine/node attributes, every template require name and labels to be configured. Name will serve both as an identifier of the template as well as a name prefix for Jenkins node and OpenStack machine (that is why some limitations apply here). Labels field expects a set of Jenkins labels that will be assigned to all nodes given template provision. It will also be used to determine which cloud and template to use to process Jenkins load. When there is a build with no label requirements (Restrict where this project can be run on job page), any template can be used to provision the node. Build with label restriction can trigger provisioning only on templates with matching label set. The attributes at template level will inherit all global values (the value in effect is printed under the field). In case required field do not have a default nor current value, it will be reported.<br/><br/>[Jenkins &gt; Openstack Cloud Plugin &gt; openstack-template-config.png]<br/>User data<br/><br/>Every template can declare user-data script to be passed to CloudInit to customize the machine that is provisioned. Note that the image needs to support cloud init explicitly.<br/><br/>Before the script is sent to OpenStack, plugin injects several values using ${VARIABLE_NAME} syntax:<br/><br/>    JENKINS_URL: The URL of the Jenkins instance<br/>    SLAVE_JAR_URL: URL of the slave.jar - the agent executable<br/>    SLAVE_JNLP_URL: The endpoint URL for JNLP connection<br/>    SLAVE_LABELS: Labels of the corresponding Jenkins computer<br/><br/>Reporting<br/><br/>Openstack plugin utilizes Cloud Statistics Plugin that captures failures and time trends of past provisioning attempts.<br/>Tips and tricks<br/><br/>    User can manually provision slave from particular cloud/template on Manage Jenkins &gt; Manage Nodes.<br/>    Deleting slave provisioned by OpenStack plugin will merely put it temporarily offline, the actual disposal of the slave and machine is performed with delay. That means that user have the possibility to abort that operation putting the slave back online. But most importantly, user can suggest plugin to discard the slave while still occupied by running build this way.<br/><br/>    Plugin identifies OpenStack image/snapshot to provision by its name. The image can be updated/replaced in openstack and the plugin will not require update provided its name have not changed.<br/>    In case maximal instance number is specified on template level, the stricter of the two (global and template value) will be applied. Global value exists to ensure that the number of machines provisioned by plugin will not exceed certain limit. The template value can further restrict that at most N machines of given kind can be utilized at the same time.<br/>    Plugin can report maximal number of instances was reached while there is not adequate number of Jenkins nodes. It is because plugin inspects running OpenStack machines in order to cover machines being provisioned/deleted (that do not have Jenkins nodes) and instances that plugin failed to delete. In case the instance get leaked, please report that as a bug with all relevant FINE level logs attached.<br/><br/>    On every slave provisioned by the plugin, there is an environment variable OPENSTACK_PUBLIC_IP declared with the IP address allocated for the machine.<br/><br/>Troubleshooting<br/>Accessing logs<br/><br/>Plugin uses INFO and above levels to report things user should worry about. For debugging, set it to FINEST - note the ALL level is not sufficient to print these. To configure OpenStack plugin logging in Jenkins UI go to Manage Jenkins &gt; System Log &gt; New Log Recorder and use jenkins.plugins.openstack.compute as the logger name.<br/>Access openstack client from groovy console<br/><br/>Use Jenkins.instance.clouds[0].openstack.@clientProvider.get() to access the openstack4j client. Users are discouraged to use this anything else but querying the openstack (otherwise there is no way to ensure plugin will work correctly). For older versions fo the plugin use Jenkins.instance.clouds[0].openstack.@client.<br/>User Data / Cloud init is not evaluated<br/><br/>The image might not support it at all or can fail executing it. Check machine log in OpenStack for further details. Note that for now, there is no guarantee the script will complete before machine is connected to Jenkins and builds are started.<br/>Changelog<br/>Version 2.32<br/><br/>    Support booting to volume<br/>    Rework computer termination to prevent repeated Channel#close<br/><br/>Version 2.31<br/><br/>    Ensure node names never collide<br/>    OpenStackj4 Neutron Networks object incompatible<br/><br/>Version 2.30<br/><br/>    Add support for project domains<br/>    Add ability to skip ssl check<br/>    Report computer &quot;fatal&quot; offline cause when present when destroying computer<br/><br/>Version 2.29 (2017-10-20)<br/><br/>    Fix regression in region handling<br/>    Do not report failed FIP deletion in cloud statistics if failed with 404<br/>    Add support for volumeSnapshots<br/>    Do not use expired login sessions<br/><br/>Version 2.27 (2017-10-03)<br/><br/>    Improve reporting of boot timeout<br/>    Abort provisioning/launching when server gets deleted<br/>    Add support for explicit java path when SSHLauncher is used<br/>    Bump openstack4j okhttp connector to avoid accasional connection leaks<br/>    Avoid phony cloud-stats warnings logged<br/><br/>Version 2.26<br/><br/>Botched release - changes went to 2.27<br/>Version 2.25 (2017-09-25)<br/><br/>    Fix #168: Prevent tracking disposal of the same server several times<br/>    Use ok-http to prevent connection blockage (prefer 2.27 with followup fix)<br/>    Fix #167: Specify node readiness timeout cause<br/><br/>    Refactor slave type into describable<br/><br/>Version 2.24 (2017-08-17)<br/><br/>Note this version is affected by httpclient connection leak - use 2.27 instead.<br/><br/>    Pipeline step for agentless node provisioning<br/>    Prefer IPv4 address for SSH launcher<br/><br/>    Prevent occasional IllegalArgumentException: Failed to instantiate class jenkins.plugins.openstack.compute.SlaveOptions while saving global configuration page<br/><br/>    First attempt to implement Openstack client caching between requests<br/>    This version is affected by occasional httpclient connection blockage<br/><br/>Version 2.23<br/><br/>    Issue #128: Do not fail when FIP service is disallowed (403) on paths that does not require floating IP (introduced in 2.21)<br/>    This version is affected by occasional httpclient connection blockage<br/><br/>Version 2.22<br/><br/>    Investigate SSH channel is closed/No route to host (Issue #149)<br/><br/>Version 2.21<br/><br/>    Fix #148: Skip unknown variables in user data<br/>    Record manual provisioning attempt failure for unexpected exceptions<br/><br/>    Issue #128: Request: Allow VMs without floating IPs (followup fix from 2.23 needed)<br/><br/>Version 2.20<br/><br/>No user visible changes included<br/>Version 2.19<br/><br/>    Fixed #84: Destroy leaked floating IPs<br/>    Fix #137: Retry when ssh launcher fail to bring the node online silently<br/>    Fix #144: Bring the node sidebar links that ware removed accidentally<br/>    Fix #109: Generate documentation for variables replaced in user data<br/>    Fix waiting for JNLP agents  (JENKINS-42207)<br/>    Do not discard nodes that are being provisioned<br/>     <br/><br/>Version 2.18<br/><br/>    Discard old nodes asynchronously<br/>    Restore compatibility with config-file-provider 2.14+<br/>    Collect leaked OpenStack servers and Jenkins slaves once they do not have the counterpart<br/>    Issue #140: Report meaningful issue in case instance boot times out<br/><br/>Version 2.17<br/><br/>    Restore config-file-provider &lt;2.13 support properly <br/><br/>Version 2.16<br/><br/>    Restore config-file-provider &lt;2.13 support - Do not use this version!<br/><br/>Version 2.15 (2017-01-02)<br/><br/>    Do not wait for successful launch while provisioning.<br/>        There should be less failed launch attempts right after the node is provisioned.<br/>            The time statistics are not comparable to the older ones (provisioning time is longer, launching is shorter).<br/><br/>Version 2.14 (2016-11-21)<br/><br/>    Bugfix; do not fail when region is empty.<br/><br/>Version 2.13 (2016-10-22)<br/><br/>    Bugfix: avoid classloading issue caused by pom refactoring.<br/><br/>Version 2.8 (2016-06-06)<br/><br/>    Fix floating IP deallocation when machine is deleted (Issue #81)<br/><br/>Version 2.7 (2016-05-16)<br/><br/>    Do not leak servers when floating ip assignment fails.<br/>    Avoid deadlock caused by adding and deleting OpenStack nodes.<br/>    Avoid phony failures in destroyServer cause by server disappearing when retrying deletion.<br/><br/>Version 2.6 (2016-05-10)<br/><br/>    Integrate Cloud Statistics Plugin.<br/><br/>Version 2.5 (2016-05-05)<br/><br/>    Make sure plugin can reach all important endpoints when testing connection (JENKINS-34578)<br/><br/>Version 2.4 (2016-05-04)<br/><br/>    Plugin fails to resolve image ID on some OpenStack deployments (JENKINS-34495)<br/><br/>Version 2.3 (2016-04-21)<br/><br/>    Never remove slave put temporarily offline by user<br/>    Plugin can now handle images with blank name<br/>    Fix server deletion retry logic<br/>    Make key-pair field selectable on global config page<br/><br/>Version 2.2 (2016-04-11)<br/><br/>    OpenStack slaves can be put into &quot;pending delete&quot; state pressing &quot;Delete&quot; button while build is in progress.<br/>    Instances out of disk space in /tmp or workspace will be put into &quot;pending delete&quot; state and removed eventually.<br/>    Maximal number of instances limitation implemented for templates.<br/>    Maximal number of instances can be set to more than 10 (regression from 2.1).<br/><br/>Version 2.1 (2016-03-31)<br/><br/>    Machine/slave options can be specified on both cloud level as well as template level (Maximal number of instances limitation is implemented on 2.2).<br/>    Images/snapshots are identified by name, not image id.<br/>    Add support for floating pool name selection.<br/><br/>Version 2.0 (2016-02-22)<br/><br/>    Jobs without label are never scheduled, so does most of matrix combinations(JENKINS-29998)<br/>    Drop support for blobstore. (This is not a rejection of the feature. None of the maintainers have an environment to reproduce this. Please reach us if you care for this feature and have an option to run the tests)<br/>    Drop support for injecting private key from plugin. Should be done by configuration management.<br/>    Replace JClouds backend with openstack4j.<br/>    Move to singlemodule maven project avoiding dependency shading.<br/><br/>Version 1.5 (released February 2015)<br/><br/>    UserData scripts now managed by Config-File-Provider plugin<br/><br/>Version 1.4 (released February 2015)<br/><br/>    InitScript is moved out. use cloud-init plus userData instead<br/>    Fix bug with multiple zones, now plugin restricts user to only one single zone<br/>    get rid of SpoolingBeforeInstanceCreation as it is paid-cloud parameter only<br/><br/>Version 1.3 (released January, 2015)<br/><br/>    Initial release</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/75891481/76054604.png">Screen Shot 2015-02-24 at 17.25.37.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/75891481/76054605.png">Screen Shot 2015-02-24 at 17.26.34.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/75891481/97288232.png">openstack-cloud-config.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/75891481/97288231.png">openstack-cloud-config.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/75891481/97288233.png">openstack-template-config.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:36</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
