<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Plugin Release Tips</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Extend-Jenkins.html">Extend Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Hosting-Plugins.html">Hosting Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Plugin Release Tips
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (bshine@yahoo-inc.com)</span>, last modified by <span class='editor'> Unknown User (kutzi)</span> on Apr 09, 2011
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Before you release a plugin, you should exercise it in ways that you probably didn't try while you were developing. Walking through these steps yourself can save you a first round of bug reports from your users, and thus make your plugin higher-quality and lower cost-to-deploy.</p>


<h5 id="PluginReleaseTips-TestwithSlaves">Test with Slaves</h5>


<p>Be sure to test the plugin with slave nodes running on remote machines before you try to deploy for real.</p>


<h5 id="PluginReleaseTips-Watchforexceptionsinlogs">Watch for exceptions in logs</h5>


<p>Watch the Jenkins console (not just the build output) for exceptions. Run maven with exception traces turned on, lest exceptions triggered by jelly can get lost in <br/>
giant logs, because sometimes you don't see any errors in the html page.</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">
mvn -e hudson-dev:run
</pre>
</div></div>
<p>and</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">
mvn -e hpi:run
</pre>
</div></div>
<p>  Or grep the logs for the Big Three of jelly exceptions:<br/>
    InvocationTargetException<br/>
    NullPointerException<br/>
    NoSuchMethodError</p>


<h5 id="PluginReleaseTips-Testwithjava-jarjenkins.war(notjusthpi:run)">Test with java -jar jenkins.war (not just hpi:run)</h5>


<p>Just testing a plugin with mvn hpi:run is insufficient. It will not expose classloader issues. At the very least, install your plugin into a test HUDSON_HOME and then run that jenkins with java -jar jenkins.war. Even better is to deploy your plugin to the container that will eventually hold a real deployment.</p>


<h5 id="PluginReleaseTips-Testwithrealbuildsinanon-productionserver">Test with real builds in a non-production server</h5>

<p>Test a new plugin in a non-production clone of a production server, with the actual projects that the plugin will run on in production. Often plugin bugs are revealed by real data that weren't revealed by test data. Beware hubris! When you are testing a plugin and trying to simulate real-world usage, you have to restart jenkins whenever you think  you've got a release candidate. Doing this on a production server will aggravate users and make Jenkins look flaky. </p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:09</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
