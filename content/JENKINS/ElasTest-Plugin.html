<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : ElasTest Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : ElasTest Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (frdiaz)</span>, last modified by <span class='editor'> Unknown User (elastestci)</span> on Apr 29, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View ElasTest <a href="https://plugins.jenkins.io/elastest" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The current version of this plugin may not be safe to use. Please review the following warnings before use:</p>

<ul>
	<li><a href="https://www.jenkins.io/security/advisory/2020-09-16/#SECURITY-1903" class="external-link" rel="nofollow">CSRF vulnerability and missing permission checks</a></li>
	<li><a href="https://www.jenkins.io/security/advisory/2020-09-16/#SECURITY-2014" class="external-link" rel="nofollow">Passwords stored in plain text</a></li>
</ul>

</div></div>
</p><h1 id="ElasTestPlugin-Description">Description</h1><p>This plugin allows Jenkins to be integrated with <a href="http://elastest.io/" class="external-link" rel="nofollow">ElasTest</a>, an elastic platform to ease testing.</p><h1 id="ElasTestPlugin-Features">Features</h1><p>With this plugin you will be able to:</p><ul><li>Associate a Jenkins Job with an ElasTest TJob. You can create a new project on ElasTest or to use an existing project.</li><li>Use a SUT managed by ElasTest (a SUT deployed by ElasTest or not)</li><li>Send the logs of a build to ElasTest for advanced analyze (ElasTest provides the<strong style="text-decoration: none;text-align: center;"> Log Analyzer</strong>, a powerfool tool for finding what you want in the vast flood of logs).</li><li>Send logs and metrics of a SUT started in a Jenkins Job to ElasTest.</li><li>Set ElasTest as your web browsers provider for your end to end tests.</li><li>Request others test support services from ElasTest (ESS, EMS,...). For more information about this, visit the official ElasTest <a href="https://elastest.io/docs/jenkins/" class="external-link" rel="nofollow">documentation</a>.</li></ul><h1 id="ElasTestPlugin-Setup">Setup</h1><h2 id="ElasTestPlugin-GlobalConfiguration">Global Configuration</h2><p>To set the configuration of the ElasTest plugin, navigate to 'Manage Jenkins &gt; Global Tool Configuration' and search the section labeled with 'ElasTest Plugin'.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="173" width="1124" src="attachments/138448247/138448273.jpg" data-image-src="attachments/138448247/138448273.jpg" data-unresolved-comment-count="0" data-linked-resource-id="138448273" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="plugin_configuration.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="138448247" data-linked-resource-container-version="47"></span></p><p>In the image avobe you can see the following fields:</p><ul><li><strong>ElasTest URL:</strong> URL where ElasTest is deployed. This field is mandatory.</li><li><strong>Username:</strong> username used to get access to ElasTest. If this field is filled, the password will be mandatory.</li><li><strong>Password: </strong> password to access to ElasTest.</li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">If you want to use a user's credentials to access ElasTest, it will be necessay to fill the &quot;Username&quot; and &quot;Password&quot; fields. Is you fill one of them and leave the other empty, communication with ElasTest will be done without authentication.</div></div><h1 id="ElasTestPlugin-Usage">Usage</h1><p>You can use the ElasTest plugin if you use Jobs based on &quot;Freestyle project&quot; or &quot;Pipeline&quot; templates.</p><h2 id="ElasTestPlugin-WithFreestyleproject">With Freestyle project</h2><p>If you prefer to work with Freestyle projects, you should look at the Job Configuration Page in the section &quot;Build environment&quot; and check the option &quot;Integrate the Job with ElasTest&quot;. With this, you will have activated the shipping logs to ElasTest. If in addition to this, you want to use the browser provided by ElasTest, you must check the EUS field.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="250" width="845" src="attachments/138448247/138448281.jpg" data-image-src="attachments/138448247/138448281.jpg" data-unresolved-comment-count="0" data-linked-resource-id="138448281" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="freestyle_config.jpg" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="138448247" data-linked-resource-container-version="47"></span></p><p>In this type of projects, the ElasTest plugin not offers all it's functionalities.</p><h2 id="ElasTestPlugin-WithPipeline">With Pipeline</h2><p>If you prefer to work with Jobs based on Pipeline templates instead, you must add the next step to your pipeline script to wrap the rest of the pipeline.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Pipeline script</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">node {
	elastest() {
    	stage (&#39;Executing test&#39;) {
      	............
        echo &#39;Cloning repository&#39;
        ............
        echo &#39;Running test&#39;
        ............
		}
	}
}</pre>
</div></div><p><span style="color: rgb(0,0,0);">Above we have shown you a basic example without using any plugin option. Here is an example with all the plugin options and below the descriptions of them:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Pipeline script</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">node {
	elastest(tss: [&#39;EUS&#39;], surefireReportsPattern: &#39;**/target/surefire-reports/TEST-*.xml&#39;, project: &#39;jenkins_project&#39;, sut: 5, monitoring: true, sutParams: [&#39;PARAM_NAME&#39;: &#39;value&#39;]) {

    	stage (&#39;Executing test&#39;) {
      	............
        echo &#39;Cloning repository&#39;
        ............
        echo &#39;Running test&#39;
        ............        
		}
	}
}</pre>
</div></div><p>The meaning of each parameter is the following:</p><ul><li><strong>surefireReportsPattern:</strong> will contain the path where the xml files containing the test results are stored and which will be used by ElasTest to display the test information. We explain this in more detail <a href="https://elastest.io/docs/testing/unit#xmlAndtestResultsPath" class="external-link" rel="nofollow">here</a>.</li><li><strong>project:</strong> is used to indicate the name of the ElasTest project where the TJob associated with Jenkins Job will be created. This field is optional and if it is not used, a project will be created with the same name as the Job.</li><li><strong>sut:</strong> allows you to select a Sut created in ElasTest against which to execute the job, indicating its id.</li><li><strong>tss:</strong> is used to indicate to ElasTest that the job needs to use the EUS service to use a web browser.</li><li><strong>monitoring:</strong> used to send or not the Sut monitoring traces to ElasTest.</li><li><strong>sutParams:</strong> used to send parameters to a SUT on ElasTest.</li></ul><h2 id="ElasTestPlugin-Advanceddocumentation">Advanced documentation</h2><p>If you want to see some advance examples and more complete documentation, visit the official ElasTest <a href="https://elastest.io/docs/jenkins/" class="external-link" rel="nofollow">documentation</a>.</p><h1 id="ElasTestPlugin-ChangeLog">Change Log</h1><h3 id="ElasTestPlugin-Version1.1.0(Apr29,2019)">Version 1.1.0 (Apr 29, 2019)</h3><ul><li>Now as many executions of a TJob are saved in ElasTest as indicated in the &quot;Max # of builds to keep&quot; field of Jenkins Job.</li><li>Send date with the build logs to ElasTest</li><li>Compatible with ElasTest 1.5.0</li></ul><h3 id="ElasTestPlugin-Version1.0.1(Feb28,2019)">Version 1.0.1 (Feb 28, 2019)</h3><ul><li>Fix some issues</li><li>Update REST client</li><li>Compatible with ElasTest 1.0.2</li></ul><h3 id="ElasTestPlugin-Version1.0.0(Feb12,2019)">Version 1.0.0 (Feb 12, 2019)</h3><ul><li>Request for any TSS provided by ElasTest</li><li>Send metrics and logs of a SUT started from Jenkins to ElasTest</li><li>Use the ElasTest plugin on Jenkins's slaves</li><li>Associate the Job with a existing project/TJob on ElasTest</li><li>Use a SUT managed by ElasTest</li><li>Send params to be used by a SUT on ElasTest</li><li>Fix several issues</li></ul><h3 id="ElasTestPlugin-Version0.10(July23,2018)">Version 0.10 (July 23, 2018)</h3><ul><li>Now you can send the surefire test reports from Jenkins to ElasTest</li></ul><h3 id="ElasTestPlugin-Version0.9.1(May09,2018)">Version 0.9.1 (May 09, 2018)</h3><ul><li>First release</li><li>Send the build logs to ElasTest</li><li>Set ElasTest as your web browsers provider</li></ul>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/138448247/138448273.jpg">plugin_configuration.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/138448247/138448281.jpg">freestyle_config.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/138448247/138456205.png">elastest_test_reports_.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:22</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
