<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : @After cucumber tag does not work in jenkins</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : @After cucumber tag does not work in jenkins
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (sabareeshv03)</span>, last modified on May 09, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><br/></p><p>Hi All, </p><p>The cucumber tag with @After in Test Listener in Katalon Studio works well in local system, but when executed in Jenkins it does not work. I have used it for taking Screenshots on failed scenarios and embed it in the report. It does not even enter the function with the @After tag.</p><p>Kindly Help.</p><p>Code:</p><pre><span style="color: rgb(187,181,41);"><br/></span></pre><p style="text-align: left;">@After<br/>def public void endTest(Scenario scenario){<br/><br/>println &quot;####### Entered to take Screenshot ############3&quot;<br/>WebDriver driver = DriverFactory.getWebDriver()<br/>if(scenario.isFailed()){<br/>println &quot;############ Entered if before screenshot ############&quot;<br/>Screenshot fpScreenshot = new AShot().shootingStrategy(ShootingStrategies.viewportPasting(1000))<br/>.takeScreenshot(driver);</p><p style="text-align: left;">BufferedImage originalImage = fpScreenshot.getImage();<br/><br/>ByteArrayOutputStream baos = new ByteArrayOutputStream()<br/>ImageIO.write(originalImage, &quot;png&quot;, baos);</p><p style="text-align: left;">baos.flush();</p><p style="text-align: left;">baos.toByteArray()<br/>println &quot;Before Embed&quot;<br/>scenario.embed(baos.toByteArray(), &quot;image/png&quot;)<br/><br/>println &quot;After Embed&quot;<br/>}<br/>}</p><p style="text-align: left;"><br/></p><p style="text-align: left;">Kindly help.   Thanks</p><pre><span style="color: rgb(187,181,41);"><br/></span></pre>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 14:03</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
