<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Pipeline Basic Steps Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Pipeline Basic Steps Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (jglick)</span>, last modified by <span class='editor'> Unknown User (dnusbaum)</span> on Jun 04, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Pipeline: Basic Steps <a href="https://plugins.jenkins.io/workflow-basic-steps" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
Commonly used steps for Pipelines.<p>A component of <a href="Pipeline-Plugin.html">Pipeline Plugin</a>.</p><h2 id="PipelineBasicStepsPlugin-Changelog">Changelog</h2><h3 id="PipelineBasicStepsPlugin-2.18(Jun04,2019)">2.18 (Jun 04, 2019)</h3><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><span style="color: rgb(3,47,98);">You must update Pipeline Groovy Plugin to version 2.70 along with this update.</span></p></div></div><ul><li><span style="color: rgb(3,47,98);"><a href="https://issues.jenkins-ci.org/browse/JENKINS-41854" class="external-link" style="text-decoration: none;" rel="nofollow">JENKINS-41854</a></span>: Refresh references to files on agents when an agent reconnects. Fixes some cases where a <code>dir</code> step would fail with a <span style="color: rgb(3,47,98);"><code>RequestAbortedException</code> due to a <code>ChannelClosedException</code> if the agent had disconnected earlier during the build even if the agent was connected to Jenkins at the time of failure.</span></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-57537" class="external-link" rel="nofollow">JENKINS-57537</a>: The <code>buildResult</code>  and <code>stageResult</code>  parameters added to the <code>catchError</code> step in version 2.16 of this plugin did not work correctly in a Declarative Pipeline.</li></ul><h3 id="PipelineBasicStepsPlugin-2.17(Jun03,2019)">2.17 (Jun 03, 2019)</h3><ul><li>Released incorrectly, do not use.</li></ul><h3 id="PipelineBasicStepsPlugin-2.16(May14,2019)">2.16 (May 14, 2019)</h3><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This plugin now requires Jenkins 2.138.4 or newer.</p></div></div><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-45579" class="external-link" rel="nofollow">JENKINS-45579</a>/<a href="https://issues.jenkins-ci.org/browse/JENKINS-39203" class="external-link" rel="nofollow">JENKINS-39203</a>: Use a new API provided by Pipeline API Plugin version 2.34 to create new steps to set the build result to <code>UNSTABLE</code> in a way that allows visualizations such as Blue Ocean to identify the stage and step that set the build result to <code>UNSTABLE</code>.<ul><li><strong>Note:</strong><span> </span>In order for stage-related results to be visualized differently in Blue Ocean, you must update to Pipeline: Graph Analysis 1.10 or newer.</li><li>The <strong><code>catchError</code></strong> step has been updated with new optional parameters:<ul><li><strong><code>message: String</code></strong> -  A message that will be printed to the build log if an exception is caught. The message will be associated with the stage result if the stage result is set and may be shown in visualizations such as Blue Ocean in the future.</li><li><strong><code>buildResult: String</code></strong> - What the overall build result should be set to if an exception is caught. Use <code>null</code> or <code>SUCCESS</code> to not set the build result. Defaults to <code>FAILURE</code>.</li><li><strong><code style="letter-spacing: 0.0px;">stageResult: String</code></strong><span style="letter-spacing: 0.0px;"> - What the stage result should be set to if an exception is caught. Use </span><code>null</code> <span style="letter-spacing: 0.0px;">or </span><code>SUCCESS</code> <span style="letter-spacing: 0.0px;">to not set the stage result. Defaults to </span><code>SUCCESS</code>.</li><li><strong><code>catchInterruptions: boolean</code></strong> - If true, certain types of exceptions that are used to interrupt the flow of execution for Pipelines will be caught and handled by the step. If false, those types of exceptions will be caught and immediately rethrown. Examples of these types of exceptions include those thrown when a build is manually aborted through the UI and those thrown by the <code>timeout</code> step. Defaults to <code>true</code>.</li></ul></li><li>The following two steps have been added:<br/><ul><li><strong><code>unstable(message: String)</code></strong>: Prints a message to the log and sets the overall build result and the stage result to <code>UNSTABLE</code>. The message will be associated with the stage result and may be shown in visualizations such as Blue Ocean in the future.</li><li><strong><code>warnError(message: String, catchInterruptions: boolean)</code></strong>: Executes its body, and if an exception is thrown, sets the overall build result and the stage result to <code>UNSTABLE</code>, prints the specified message and the exception to the build log, and associates the stage result with the message so that it can be displayed by visualizations.<ul><li>Equivalent to <code>catchError(message: message, buildResult: 'UNSTABLE', stageResult: 'UNSTABLE')</code></li><li><code><code>catchInterruptions</code></code> has the same meaning as in the <code>catchError</code>  step.</li></ul></li></ul></li></ul></li></ul><h3 id="PipelineBasicStepsPlugin-2.15(Mar18,2019)">2.15 (Mar 18, 2019)</h3><ul><li>Fix formatting issues in informational text for various steps (<a href="https://github.com/jenkinsci/workflow-basic-steps-plugin/pull/82" class="external-link" rel="nofollow">PR 82</a>)</li><li>Internal: <span style="color: rgb(23,43,77);">Update dependencies and fix resulting test failures so that the plugin's tests pass successfully when run using the PCT</span> (<a href="https://github.com/jenkinsci/workflow-basic-steps-plugin/pull/79" class="external-link" rel="nofollow">PR 79</a>)</li></ul><h3 id="PipelineBasicStepsPlugin-2.14(Jan14,2019)">2.14 (Jan 14, 2019)</h3><ul><li><a rel="nofollow" href="https://issues.jenkins-ci.org/browse/JENKINS-43276" class="external-link">JENKINS-43276</a>: Fix potential issue where a <code>SimpleBuildWrapper</code> used in a Pipeline script through the general build wrapper step (<code>wrap</code>) could block Pipeline execution indefinitely.</li></ul><h3 id="PipelineBasicStepsPlugin-2.13(Nov30,2018)">2.13 (Nov 30, 2018)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-54607" class="external-link" rel="nofollow">JENKINS-54607</a>: Fix issue where timeouts reused the timeout value instead of the grace period of 60 seconds when force killing unresponsive Pipelines after the timeout expires.</li><li>Improvement: Chinese localizations have been migrated to the <span style="color: rgb(36,41,46);"><a class="external-link" rel="nofollow" href="https://github.com/jenkinsci/localization-zh-cn-plugin">Localization: Chinese (Simplified) Plugin</a>.</span></li></ul><h3 id="PipelineBasicStepsPlugin-2.8.3(Nov30,2018)">2.8.3 (Nov 30, 2018)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-54607" class="external-link" rel="nofollow">JENKINS-54607</a>: Fix issue where timeouts reused the timeout value instead of the grace period of 60 seconds when force killing unresponsive Pipelines after the timeout expires.</li></ul><h3 id="PipelineBasicStepsPlugin-2.12(Oct26,2018)">2.12 (Oct 26, 2018)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-54078" class="external-link" rel="nofollow">JENKINS-54078</a>: Fix issue causing builds to fail when using the <code>timeout</code> step with <code>activity: true</code>. </li></ul><h3 id="PipelineBasicStepsPlugin-2.11(Sep10,2018)-Bleeding-edgeVersion">2.11 (Sep 10, 2018) - Bleeding-edge Version</h3><ul><li><strong>Requires Jenkins Core 2.121.1 or newer.</strong></li><li>Fix a file leak introduced in version 2.10 when using <code>writeFile</code> with Base64 encoding.</li></ul><h3 id="PipelineBasicStepsPlugin-2.8.2(Sep10,2018)-StableVersion">2.8.2 (Sep 10, 2018) - Stable Version</h3><ul><li>Fix a file leak introduced in version 2.8.1 when using <code>writeFile</code> with Base64 encoding.</li></ul><h3 id="PipelineBasicStepsPlugin-2.10(Aug21,2018)-Bleeding-edgeVersion">2.10 (Aug 21, 2018) - Bleeding-edge Version</h3><ul><li><strong>Requires Jenkins Core 2.121.1 or newer.</strong></li><li>Adds support to <code>readFile</code> and <code>writeFile</code> for working with binary files by passing <code>Base64</code> as the encoding. Can be used with Pipeline: Shared Groovy Libraries 2.10 or higher to copy binary files from libraries into the workspace. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-52313" class="external-link" rel="nofollow">JENKINS-52313</a>)</li></ul><h3 id="PipelineBasicStepsPlugin-2.8.1(Aug21,2018)-StableVersion">2.8.1 (Aug 21, 2018) - Stable Version</h3><ul><li><strong>Requires Jenkins Core 2.60.3 or newer.</strong></li><li>Adds support to <code>readFile</code> and <code>writeFile</code> for working with binary files by passing <code>Base64</code> as the encoding. Can be used with Pipeline: Shared Groovy Libraries 2.10 or higher to copy binary files from libraries into the workspace. (<a href="https://issues.jenkins-ci.org/browse/JENKINS-52313" class="external-link" rel="nofollow">JENKINS-52313</a>)</li></ul><h3 id="PipelineBasicStepsPlugin-2.9(June15,2018)-Bleeding-edgerelease">2.9 (June 15, 2018) - Bleeding-edge release</h3><ul><li><strong>Requires Jenkins Core <span style="color: rgb(36,41,46);">2.121.1</span></strong></li><li>Support for storing stashes &amp; artifacts off-master if using an appropriate storage implementation via VirtualFile.toExternalUrl (<a href="https://issues.jenkins-ci.org/browse/JENKINS-49635">JENKINS-49635</a>)</li></ul><h3 id="PipelineBasicStepsPlugin-2.8(June15,2018)-StableVersion">2.8 (June 15, 2018) - Stable Version</h3><ul><li>Docs: Fixes to the Stash step help (thanks, community contributor Josh Soref!)</li><li><span style="color: rgb(36,41,46);">Docs: Note exception type thrown by Timeout step (thanks, community contributor Dawid Gosławski!)</span></li></ul><h3 id="PipelineBasicStepsPlugin-2.7(Apr18,2018)">2.7 (Apr 18, 2018)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-46180" class="external-link" rel="nofollow">JENKINS-46180</a> - Deprecated <code>archive</code> step will log when no files to archive are found.</p></li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-48138" class="external-link" rel="nofollow">JENKINS-48138</a> - Log a warning when <code>fileExists</code> is called with an empty string.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-44379" class="external-link" rel="nofollow">JENKINS-44379</a> - <code>retry</code> will no longer retry on a <code>FlowInterruptedException</code>, such as aborted <code>input</code>, <code>milestone</code> steps or an aborted run.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-26521" class="external-link" rel="nofollow">JENKINS-26521</a> - Add <code>activity</code> flag to <code>timeout</code> step.</li></ul><h3 id="PipelineBasicStepsPlugin-2.6(Jun30,2017)">2.6 (Jun 30, 2017)</h3><ul><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-45101">JENKINS-45101</a> Improved display of step summaries in Blue Ocean for various steps.</p></li></ul><h3 id="PipelineBasicStepsPlugin-2.5(May30,2017)">2.5 (May 30, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-27094">JENKINS-27094</a> Honor the <code>encoding</code> parameter of <code>writeFile</code>.</li><li><p><a href="https://issues.jenkins-ci.org/browse/JENKINS-37327">JENKINS-37327</a> Allow empty <code>stash</code>es.</p></li></ul><h3 id="PipelineBasicStepsPlugin-2.4(Feb10,2017)">2.4 (Feb 10, 2017)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-41276">JENKINS-41276</a> <code>retry</code> now exits immediately upon receiving a user-initiated build abort.</li><li>Implemented virtual thread dump status for <code>waitUntil</code>.</li><li>Simplified some implementations as per <a href="https://issues.jenkins-ci.org/browse/JENKINS-39134">JENKINS-39134</a>.</li></ul><h3 id="PipelineBasicStepsPlugin-2.3(Nov01,2016)">2.3 (Nov 01, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-39072">JENKINS-39072</a> (related to <a href="https://issues.jenkins-ci.org/browse/JENKINS-34637">JENKINS-34637</a>): make the <code>timeout</code> step print more information to the log, display status in <strong>Thread Dump</strong>, and forcibly kill its body after a grace period has elapsed.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-28385">JENKINS-28385</a> Added <code>getContext</code> and <code>withContext</code> steps for use in advanced libraries.</li><li>Warning in documentation regarding <a href="https://issues.jenkins-ci.org/browse/JENKINS-38640">JENKINS-38640</a> &amp; <a href="https://issues.jenkins-ci.org/browse/JENKINS-36914">JENKINS-36914</a>.</li></ul><h3 id="PipelineBasicStepsPlugin-2.2(Sep23,2016)">2.2 (Sep 23, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-37397">JENKINS-37397</a> Allow use of symbols to select the <code>type</code> of a <code>tool</code>.</li><li>Creating the workspace directory from some steps if the step required it and it did not already exist.</li><li>Broken documentation link.</li></ul><h3 id="PipelineBasicStepsPlugin-2.1(Jul28,2016)">2.1 (Jul 28, 2016)</h3><ul><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29922">JENKINS-29922</a> Marking <code>step</code> and <code>wrap</code> as “metasteps”, allowing simplified syntax with <a href="Pipeline-Groovy-Plugin.html">Pipeline Groovy Plugin</a> 2.10. Correspondingly deprecating the <code>artifact</code> step for Jenkins 2.2+ users.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-34554">JENKINS-34554</a> Maximum recurrence period for <code>waitUntil</code>, currently hard-coded.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-34281">JENKINS-34281</a> Indicate in the build log if <code>sleep</code> still applies after a Jenkins restart.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-31842">JENKINS-31842</a> Indicate in the virtual thread dump if <code>sleep</code> is ongoing.</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-29170">JENKINS-29170</a> Snippet generation improvements for <code>mail</code>.</li><li>Some inline help fixes.</li></ul><h3 id="PipelineBasicStepsPlugin-2.0(Apr05,2016)">2.0 (Apr 05, 2016)</h3><ul><li>First release under per-plugin versioning scheme. See <a href="https://github.com/jenkinsci/workflow-plugin/blob/82e7defa37c05c5f004f1ba01c93df61ea7868a5/CHANGES.md" class="external-link" rel="nofollow">1.x changelog</a> for earlier releases.</li><li>Now includes <code>stash</code> and <code>unstash</code> steps formerly in <a href="Pipeline-Supporting-APIs-Plugin.html">Pipeline Supporting APIs Plugin</a>.</li></ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:38</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
