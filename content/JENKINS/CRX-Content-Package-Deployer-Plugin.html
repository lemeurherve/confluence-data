<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : CRX Content Package Deployer Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : CRX Content Package Deployer Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (madamcin)</span>, last modified on Oct 04, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View CRX Content Package Deployer <a href="https://plugins.jenkins.io/crx-content-package-deployer" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2019-10-16/#SECURITY-1006%20(2)" class="external-link" rel="nofollow">Users with Overall/Read access could enumerate credential IDs</a></li>
	<li><a href="https://jenkins.io/security/advisory/2019-10-16/#SECURITY-1006%20(1)" class="external-link" rel="nofollow">CSRF vulnerability and missing permission check allow capturing credentials</a></li>
</ul>

</div></div>
</p><h1 id="CRXContentPackageDeployerPlugin-CRXContentPackageDeployerPlugin">CRX Content Package Deployer Plugin</h1><p>Deploys content packages to Adobe CRX applications, like Adobe CQ/AEM. Also allows downloading packages from one CRX server and uploading them to one or more other CRX servers.</p><h2 id="CRXContentPackageDeployerPlugin-Features">Features</h2><ul><li>Supports password-less HTTP Signature authentication using your configured SSH Private Keys, eliminating the need to<br/>coordinate password exchange between developers, devops, and operations teams.</li><li>Downloads and/or deploys 1-to-many CRX packages per execution, and deploys each CRX package to 1-to-many servers per<br/>execution</li><li>The multiselect-enabled Package Choice Parameter allows for execution of parameterized builds using a selection<br/>widget populated with a list of packages retrieved from a CRX server.</li><li>Build and download a content package from an AEM instance (for automating production content refresh to lower environments)</li><li>Validate CRX packages prior to an archive or deployment step (check the package workspace filter against a validation workspace filter, and scan the contents of the zip file for forbidden file extensions, like embedded bundles or packages, or even JSP files, if you feel very strongly that your developers should be using EcmaScript exclusively).</li><li>Replicate a content package from CRX (for example, if direct upload to publish servers isn't possible from your Jenkins server)</li><li>Specify workspace filters in the Build and Validate steps using a compact text format that doesn't require escaping regular expressions.</li></ul><h2 id="CRXContentPackageDeployerPlugin-CredentialsSupport">Credentials Support</h2><p>CRX login credentials are managed using functionality provided by the <a href="Credentials-Plugin.html">Credentials Plugin</a>. Users are encouraged to provide a description for each set of credentials and to organize their credentials using Domains, which are regularly filtered by this plugin's components according to Base URL parameters. These practices reduce confusion while increasing reusability and security.</p><p>(Since 1.3) If login credentials for a server are different than those configured in the Connection Options section, you may override them in the Base URL by inserting <code>username[:password]@</code> between the scheme and the hostname.</p><p>For example, to override the Username without changing the associated password or private key, you may use the following form:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">http://deployer@localhost:4502
</pre>
</div></div><p>To override the credentials completely, provide a username and password (which may be provided by an encrypted parameter) by separating them with a colon, as shown below:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">http://deployer:Password123@localhost:4502
</pre>
</div></div><p>The URL in this form is ultimately parsed using the <code>java.net.URI</code> class, and therefore special characters should be <a href="http://en.wikipedia.org/wiki/Percent-encoding" class="external-link" rel="nofollow">percent-encoded</a> before use in a Base URL field.</p><p>However, because it will be common to accept a password as a job parameter or a global parameter, and many password schemes require the use of at least one special character, not to mention those which allow any character under the sun, the user info part is first sanitized in the follow way before being parsed as a URI:</p><ul><li>Percent characters (<code>%</code>) which are unambiguously NOT used to denote escaped ASCII characters (using the regular expression, <code>%(?![A-Fa-f0-9]{2})</code>) are replaced with <code>%25</code>.</li><li>Reserved URL characters in the set <code>&quot; !#$\'()*+,/:;=?@[]&quot;</code> are replaced by a <code>%</code> and followed by the correct hexadecimal ASCII code.</li></ul><p>This sanitization procedure will result in correct percent-encoding of most reserved characters, and it will not over-escape input which has already been properly percent-encoded. There are a few exceptions, however:</p><ol><li>The username MUST NOT contain an unescaped colon (<code>:</code>).</li><li>The username and the password MUST NOT contain an unescaped forward-slash (<code>/</code>).</li><li>Neither the username nor the password should contain an unescaped sequence of the percent character (<code>%</code>) followed by two characters in the space of hexadecimal digits (<code>[A-Fa-f0-9]{2</code>}), because this sequence will be interpreted as an escaped ASCII character and left unchanged prior to parsing by <code>java.net.URI</code>.</li></ol><p>Once parsed, the user info part will be stripped from the base URL before it is used by this plugin's components, to prevent credentials from being leaked in the console log. However, care should always be taken when passing credentials through Jenkins parameters in case they are exposed in other areas of the application. In addition, the Base URL field is persisted as plaintext on disk, so any unencrypted passwords stored in that field are visible to anyone who has access to the Jenkins filesystem. Use the Password Parameter type and the <a href="Mask-Passwords-Plugin.html">Mask Passwords Plugin</a> whenever possible to properly secure your parameterized CRX application credentials.</p><h2 id="CRXContentPackageDeployerPlugin-HTTPSignatureSupport">HTTP Signature Support</h2><p>In addition to username/password login, this plugin also supports HTTP Signature client authentication using SSH User Private Key credentials, which in turn is provided by <a href="SSH-Credentials-Plugin.html">SSH Credentials Plugin</a>. The server side of this functionality can be setup in Adobe Granite/CRX servers by installing the <a href="https://github.com/adamcin/net.adamcin.sling.auth.httpsig/wiki/getting-started" class="external-link" rel="nofollow">Sling HTTP Signature Authentication Handler</a>.</p><p>See also:</p><ul><li><a href="https://github.com/joyent/node-http-signature/blob/master/http_signing.md" class="external-link" rel="nofollow">Joyent's Specification for HTTP Signature Authentication</a></li><li><a href="https://github.com/adamcin/httpsig-java" class="external-link" rel="nofollow">HTTP Signature Authentication for Java</a></li></ul><h2 id="CRXContentPackageDeployerPlugin-CompactWorkspaceFilters">Compact Workspace Filters</h2><p>Specify a package workspace filter in a simple text format that will be applied to the package before build. This defines what content will be captured by the package.</p><p>Simple spec is defined simply as a line-by-line format where:</p><ul><li>each line consists of significant text before an optional comment character (#)</li><li>each line that begins with a &quot;/&quot; begins a new filter root.</li><li>the first non-empty, non-comment line must define a new filter root</li><li>each non-empty, non-comment line after a filter root that begins with a <code>+</code> or <code>-</code> defines an include or exclude rule, respectively.</li><li>everything following the <code>+</code> or <code>-</code> must be a valid regular expression</li></ul><p>Content is &quot;covered&quot; by a filter root if the content path starts with, or is the same as the filter root path. Once the &quot;covering&quot; filter root is identified, its include/exclude rules are evaluated from top to bottom, by matching the content path against each rule pattern (which is a Java regular expression). The last rule whose pattern matches the content path defines whether that content is included (line starts with <code>+</code>) or excluded (line starts with <code>-</code>). If no rules are defined, all content covered by that root path is included</p><p>For example, to include everything under /etc except for packages:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">        /etc                 # define /etc as the filter root
        +/etc(/.*)?          # include everything under /etc
        -/etc/packages(/.)?  # exclude package paths
</pre>
</div></div><p>To create a package for a project &quot;acme&quot; defined in CRX DE Lite, a filter may look like this:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">        /content/acme        # include the site content
        /apps/acme           # include the app code
</pre>
</div></div><h2 id="CRXContentPackageDeployerPlugin-Components">Components</h2><ul><li><a href="#CRXContentPackageDeployerPlugin-DeployContentPackagestoCRX">#Deploy Content Packages to CRX</a></li><li><a href="#CRXContentPackageDeployerPlugin-CRXContentPackageChoiceParameter">#CRX Content Package Choice Parameter</a></li><li><a href="#CRXContentPackageDeployerPlugin-DownloadContentPackagesfromCRX">#Download Content Packages from CRX</a></li><li><a href="#CRXContentPackageDeployerPlugin-ReplicateContentPackagesfromCRX">#Replicate Content Packages from CRX</a></li><li><a href="#CRXContentPackageDeployerPlugin-BuildaContentPackageonCRX">#Build a Content Package on CRX</a></li><li><a href="#CRXContentPackageDeployerPlugin-ValidateCRXContentPackages">#Validate CRX Content Packages</a></li></ul><h3 id="CRXContentPackageDeployerPlugin-DeployContentPackagestoCRX">Deploy Content Packages to CRX</h3><h5 id="CRXContentPackageDeployerPlugin-Summary">Summary</h5><p>The &quot;Deploy Content Packages to CRX&quot; build step can be added to any job type to upload and install CRX content packages from the workspace, or a local directory, if specified. The logic is designed to be flexible in regards to how the package files are created and organized within the directory, because it will recursively scan and identify any files which have a &quot;.jar&quot; or &quot;.zip&quot; extension. Feel free to use this step immediately after a maven build, or after the &quot;Download Content Packages from CRX&quot; step, or after resolving maven artifacts from a repository manager into the workspace. Once a package has been identified (i.e. has a valid group:name:version), the package will be checked against the Package ID filter to determine whether it must be uploaded to the configured Base URL(s).</p><p>If a package installation succeeds with errors &quot;(check logs!)&quot;, the build will be marked as unstable.</p><h5 id="CRXContentPackageDeployerPlugin-Configuration">Configuration</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/deploy-content-packages-config.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/deploy-content-packages-config.png"></span></p><h5 id="CRXContentPackageDeployerPlugin-ConsoleOutput">Console Output</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/deploy-content-packages-console.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/deploy-content-packages-console.png"></span></p><h3 id="CRXContentPackageDeployerPlugin-CRXContentPackageChoiceParameter">CRX Content Package Choice Parameter</h3><h5 id="CRXContentPackageDeployerPlugin-Summary.1">Summary</h5><p>The CRX Content Package Choice Parameter is a build parameter which allows a user to select any number of content<br/>packages available for download from a CRX server as as a valid, newline-separated Package Id field value, which can<br/>then be used in other components provided by this plugin.</p><h5 id="CRXContentPackageDeployerPlugin-Configuration.1">Configuration</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/package-choice-parameter-config.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/package-choice-parameter-config.png"></span></p><h5 id="CRXContentPackageDeployerPlugin-BuildwithParameters">Build with Parameters</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/package-choice-parameter.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/package-choice-parameter.png"></span></p><h3 id="CRXContentPackageDeployerPlugin-DownloadContentPackagesfromCRX">Download Content Packages from CRX</h3><h5 id="CRXContentPackageDeployerPlugin-Summary.2">Summary</h5><p>The &quot;Download Content Packages from CRX&quot; build step can be used on any job type to download content packages to the workspace. Use the CRX Content Package Choice Parameter to select one or more packages from a live CRX Package Manager service. Downloaded packages are organized according to their CRX installation path, relative to the workspace path, or local directory, if specified.</p><h5 id="CRXContentPackageDeployerPlugin-Configuration.2">Configuration</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/download-content-packages-config.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/download-content-packages-config.png"></span></p><h5 id="CRXContentPackageDeployerPlugin-ConsoleOutput.1">Console Output</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/download-content-packages-console.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/download-content-packages-console.png"></span></p><h3 id="CRXContentPackageDeployerPlugin-ReplicateContentPackagesfromCRX">Replicate Content Packages from CRX</h3><h5 id="CRXContentPackageDeployerPlugin-Summary.3">Summary</h5><p>The &quot;Replicate Content Packages from CRX&quot; build step can be used on any job type to asynchronously replicate content packages from one or more Granite servers to their configured replication targets, such as AEM publish servers. Use the CRX Content Package Choice Parameter to select one or more packages from a live CRX Package Manager service. This is probably not the most deterministic way to install packages on publish servers, so prefer using the &quot;Deploy Content Packages to CRX&quot; step whenever possible.</p><h5 id="CRXContentPackageDeployerPlugin-Configuration.3">Configuration</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/replicate-content-packages-config.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/replicate-content-packages-config.png"></span></p><h5 id="CRXContentPackageDeployerPlugin-ConsoleOutput.2">Console Output</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/replicate-content-packages-console.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/replicate-content-packages-console.png"></span></p><h3 id="CRXContentPackageDeployerPlugin-BuildaContentPackageonCRX">Build a Content Package on CRX</h3><h5 id="CRXContentPackageDeployerPlugin-Summary.4">Summary</h5><p>Create and build a content package on CRX by specifying a workspace filter, and then download it to the workspace to get archived as a backup, or as the beginning of a magical content package adventure, full of drama, suspense, and deployments to lower environments!</p><h5 id="CRXContentPackageDeployerPlugin-Configuration.4">Configuration</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/build-content-package-config.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/build-content-package-config.png"></span></p><h5 id="CRXContentPackageDeployerPlugin-ConsoleOutput.3">Console Output</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/build-content-package-console.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/build-content-package-console.png"></span></p><h3 id="CRXContentPackageDeployerPlugin-ValidateCRXContentPackages">Validate CRX Content Packages</h3><h5 id="CRXContentPackageDeployerPlugin-Summary.5">Summary</h5><p>Validate that content packages in the workspace conform to restrictions on AC Handling Mode, Filter Root Path Prefixes, Path Inclusion, as well as to restrictions on the scope of their WorkspaceFilter and on the types of embedded files. Use this to enforce security policies to prevent developers from deploying content or code through continuous integration. Only package files with <strong>.zip</strong> or <strong>.jar</strong> extensions will be identified and validated.</p><h5 id="CRXContentPackageDeployerPlugin-Configuration.5">Configuration</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/validate-content-packages-config.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/validate-content-packages-config.png"></span></p><h5 id="CRXContentPackageDeployerPlugin-ConsoleOutput.4">Console Output</h5><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/validate-content-packages-console.png" data-image-src="https://github.com/jenkinsci/crx-content-package-deployer-plugin/raw/master/src/site/resources/images/validate-content-packages-console.png"></span></p><h1 id="CRXContentPackageDeployerPlugin-VersionHistory">Version History</h1><h3 id="CRXContentPackageDeployerPlugin-Version1.9(Oct4,2019)">Version 1.9 (Oct 4, 2019)</h3><ul><li>Important bug fixes.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.8.1(Jan12,2017)">Version 1.8.1 (Jan 12, 2017)</h3><ul><li>Merged PR#8 support for JEP-200 serialization/XStream whitelist change in Jenkins core.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.8(Dec20,2017)">Version 1.8 (Dec 20, 2017)</h3><ul><li>Added support for Pipeline and Jenkinsfile. Use the Pipeline DSL Snippet Generator to generate step syntax using the new <code>crxBuild</code>, <code>crxDeploy</code>, <code>crxDownload</code>, <code>crxReplicate</code>, and <code>crxValidate </code>symbols.</li><li>Updated and explicitly specified dependencies to eliminate outdated versions of async-http-client from being deployed when newer, bug-fixed versions are desired.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.7.2(Aug4,2017)">Version 1.7.2 (Aug 4, 2017)</h3><ul><li>Merged PR#7 &quot;fixed setting custom timeout value (JENKINS-29719)&quot;.</li><li>Refactored GraniteClientExecutor to eliminate attempt to access to non-serializable state from within executable body when Credentials are not supplied.</li><li>Moved to ci.jenkins.io and resolved error with package path filter when executing jobs on Windows.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.7.1(Mar27,2017)">Version 1.7.1 (Mar 27, 2017)</h3><ul><li>Changed multiline parsing behavior to split input fields on escaped newlines if proper newlines are not found in the value. This should allow specifying escaped newline delimiters in non-textarea parameter inputs such as when using the Extended Choice Parameter Plugin.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.7(Mar1,2017)">Version 1.7 (Mar 1, 2017)</h3><ul><li>Added support for 'MergePreserve' AC Handling Mode and new default option to 'Defer to Package' to override package AC Handling in Deploy CRX Packages Step.</li><li>Added three new options for Validate CRX Content Packages step: &quot;Forbidden AC Handling Modes&quot;, &quot;Forbidden Filter Root Prefixes&quot;, and &quot;Paths Denied for Inclusion&quot;.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.6.3(Feb28,2017)">Version 1.6.3 (Feb 28, 2017)</h3><ul><li>Fixed credentials resolution AssertionError with Package Choice Parameter Definition.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.6.2(Oct26,2016)">Version 1.6.2 (Oct 26, 2016)</h3><ul><li>I should not have removed the methods responsible for saving and loading the global config. pffft.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.6.1(Oct25,2016)">Version 1.6.1 (Oct 25, 2016)</h3><ul><li>Removed a debug ERROR message from the build log.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.6(Oct25,2016)">Version 1.6 (Oct 25, 2016)</h3><ul><li>Fixed the serialization of global plugin configuration parameters in master-slave Jenkins installations.</li><li>Enhanced the &quot;Preempt Login Patterns&quot; global field to accept regular expressions.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.5.4(Oct24,2016)">Version 1.5.4 (Oct 24, 2016)</h3><ul><li>Bumped granite-client-packman dependency version to 0.7.9 to bring compatibility with async-http-client:1.9.40.</li><li>Added the ability to selectively enable preemptive Basic authentication via &quot;Preempt Login for Base URLs&quot; centralized plugin parameter.</li><li>Removed validation-specific http client timeout parameters, which were made obsolete by switching to button-triggered validation on the build step configs.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.5.3(Sep29,2016)">Version 1.5.3 (Sep 29, 2016)</h3><ul><li>Bumped granite-client-packman dependency version to 0.7.8 to change the service availability check behavior. Instead of sending a GET to exec.json and expecting a 405, which is filtered or transformed in some user environments, the client now sends a cmd=delete request to a non-existing package id (&quot;adamcin:no-such-package:1.0.0&quot;) along with a form parameter that is ignored by the package manager service but which will fail the request if it is handled by the SlingPostServlet as a node creation request (-F&quot;jcr:primaryType=adamcin:NoSuchType&quot;). This bogus POST parameter is now included on all requests to the package manager service to ensure that requests are not treated as successful node creation requests if the package manager service is down for whatever reason.</li><li>Added logic to trim superfluous base URL elements from the end, so that if the configured Base URL ends with /, or /crx/packman/service.jsp, or /crx/packman, or /crx these elements are removed before constructing the API client.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.5.2(Sep28,2016)">Version 1.5.2 (Sep 28, 2016)</h3><ul><li>Changed bouncycastle-api maven dependency from range [1.0.3,) to explicit 1.0.3 instead because the latest 2.16.0 release was getting pulled in on install to a 1.610 jenkins core, which is not a good thing.</li><li>Converted uses of single httpsig Key instances to build entire Keychain instead</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.5.1(Sep27,2016)">Version 1.5.1 (Sep 27, 2016)</h3><ul><li>Re-added bouncycastle dependency via bouncycastle-api plugin that was removed in an older pull request to fix an issue where Credentials selection failed when SSH Private Key entries were among the options</li><li>Replaced each instance of automatic Base URL validation with a Test Connection button in the Advanced section</li><li>Code cleanup</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.5(Sep24,2016)">Version 1.5 (Sep 24, 2016)</h3><ul><li>Upgraded Jenkins plugin dependencies for better master-slave behavior</li><li>Resolved several issues related to serialization in master-slave configurations</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.4(Sep19,2016)">Version 1.4 (Sep 19, 2016)</h3><ul><li>Upgraded dependencies and plugin parent pom to support Jenkins 2.0</li><li>Various bug fixes</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.3.2(August27,2014)">Version 1.3.2 (August 27, 2014)</h3><ul><li>Added similar sanity checks to prevent NPE's from other AEM 6 Oak responses which do not specify a charset.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.3.1(August27,2014)">Version 1.3.1 (August 27, 2014)</h3><ul><li>Added a sanity check to prevent an NPE when a simple response from AEM 6 Oak does not specify a charset.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.3(July24,2014)">Version 1.3 (July 24, 2014)</h3><ul><li>Added ability to override a component's configured credentials with the User Info portion of the base URI, where username and password are separated by a colon and followed by the 'at' ('@') symbol, and prepended to the hostname.</li><li>Cleaned up the online help files.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.2.2(July20,2014)">Version 1.2.2 (July 20, 2014)</h3><ul><li>Fixed out-of-memory errors when downloading large packages.</li><li>Moved Base URL fields to the top of config forms, out from the hidden Connection Properties... sections.</li><li>Changed the order of Existing Package Behavior options, which effectively changes the implicit default from &quot;Uninstall and Delete&quot; to &quot;Overwrite&quot;.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.2.1(Apr4,2014)">Version 1.2.1 (Apr 4, 2014)</h3><ul><li>Fixed severe memory leak due to improper creation and recycling of AsyncHttpClient instances.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.2(Mar20,2014)">Version 1.2 (Mar 20, 2014)</h3><ul><li>Added &quot;Build a Content Package on CRX&quot; build step</li><li>Added &quot;Validate CRX Content Packages&quot; build step</li><li>Added support for globbing patterns in the Deploy and Validate steps' Package ID field, as an alternative to Package ID filters.</li><li>Added a Wait Delay field for the Deploy step to help address bundle installation race conditions.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.1(Mar13,2014)">Version 1.1 (Mar 13, 2014)</h3><ul><li>Added &quot;Replicate on Install&quot; option to &quot;Deploy Content Packages to CRX&quot; build step</li><li>Added &quot;Replicate Content Packages from CRX&quot; build step</li><li>Added validation-specific timeout options to the &quot;CRX Content Package Deployer - HTTP Client&quot; global options</li><li>Fixed a bug in the granite-client-packman library where reserved and illegal characters in Package Ids were not being escaped when constructing URLs.</li></ul><h3 id="CRXContentPackageDeployerPlugin-Version1.0(Jan5,2014)">Version 1.0 (Jan 5, 2014)</h3><ul><li>Initial release</li></ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:19</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
