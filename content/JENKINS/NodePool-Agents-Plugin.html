<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : NodePool Agents Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : NodePool Agents Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (nairbttoille)</span>, last modified by <span class='editor'> Unknown User (ddeal)</span> on Nov 30, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View NodePool Agents <a href="https://plugins.jenkins.io/nodepool-agents" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
<br/></p><p>Allows users to build on NodePool controlled cloud instances.</p><p><br/></p><h1 id="NodePoolAgentsPlugin-VersionHistory">Version History</h1><h3 id="NodePoolAgentsPlugin-Version0.0.21(November30,2018)">Version 0.0.21 (November 30, 2018)</h3><ul><li><p>Disable Label Finder - Label finder is disabled to prevent the Queue lock being held for long periods of time.</p></li></ul><h3 id="NodePoolAgentsPlugin-Version0.0.20(November30,2018)">Version 0.0.20 (November 30, 2018)</h3><ul><li>Cleanup Deadlock in Janitor</li></ul><h3 id="NodePoolAgentsPlugin-Version0.0.19(November27,2018)">Version 0.0.19 (November 27, 2018)</h3><ul><li>Fixed NodePool Nodes View Missing ZK Details</li></ul><h3 id="NodePoolAgentsPlugin-Version0.0.18(November26,2018)">Version 0.0.18 (November 26, 2018)</h3><ul><li>Fixed Janitor NPE when data was null</li></ul><h3 id="NodePoolAgentsPlugin-Version0.0.17(November23,2018)">Version 0.0.17 (November 23, 2018)</h3><ul><li><p>Added Janitor cleanup logic to clean up Zookeeper Nodes that are not being used or held</p></li><li><p>Updated code to use POJO data models for Nodes and Node Requests. These are serialized via GSON to/from zookeeper. Update enums to work with GSON and data model mapping.</p></li><li><p>Refactored ZookeeperObject which saves/loads Zookeeper data</p></li><li><p>Added Zookeeper Exception to handle errors instead of generic Exception</p></li><li><p>Updated internationalization for Message resources that are not present in newer Jenkins</p></li><li><p>Added pom dependencies to support newer Jenkins builds</p></li><li><p>Fix bug where a request is removed from Jenkins without being removed from Zookeeper</p></li><li><p>Add Request Timeout and Request Attempts config options to the UI</p></li><li><p>Add cleanup lock to ensure post-build cleanup and Janitor cleanup don't run concurrently</p></li><li>Add delay when cleaning a node to wait for other processes to finish communicating with it.</li><li>Delete nodes from a pool thread rather than the main Janitor thread. This prevents waits from blocking the main Janitor thread.</li><li>Add initial state check to NodePoolRequestStateWatcher to catch the situation where the request is already in the required state when the watcher is created. This may have caused an infinite wait previously as we're waiting for an event that's already happened.</li><li>Override disconnect method in NodePoolComputer so that the cleanup lock can be obtained for disconnection.</li><li>Fix bug in NodePool.attemptProvision2 where we wait for a node to come online, but don't correctly detect this condition so<span style="letter-spacing: 0.0px;"> carry on waiting.</span></li><li>Remove nodes created by failed provisioning attempts. Previously, these nodes would linger until the build that requested them completed, then get cleaned up by the Janitor. Now we attempt to remove them when an exception is caught in the provisioning process.</li><li>Add initial state check to NodePoolRequestStateWatcher to catch</li></ul><h3 id="NodePoolAgentsPlugin-Version0.0.13(July27,2108)">Version 0.0.13 (July 27, 2108)</h3><ul><li>Fixed <span style="color: rgb(23,43,77);">error associated with the Zookeeper &quot;type&quot; field which previously contained a single string value. The recent updates to NodePool launcher appear to have changed the value for this field to be an ArrayList (more specifically, an array of strings).  </span><a class="external-link" href="https://issues.jenkins-ci.org/browse/JENKINS-52293" rel="nofollow">JENKINS-52293</a></li><li>Added ABORTED NodePool state support</li></ul><h3 id="NodePoolAgentsPlugin-Version0.07(May9,2108)">Version 0.07 (May 9, 2108)</h3><ul><li>Retry failed node requests to the NodePool cluster.</li><li>Add a ManagementLink to see history of job Jenkins interactions with NodePool.</li></ul><h3 id="NodePoolAgentsPlugin-Version0.06(May1,2108)">Version 0.06 (May 1, 2108)</h3><ul><li>Lock nodes before changing their state to &quot;in-use&quot;.  This eliminates a race condition with NodePool's cleanup worker.</li></ul><p><br/></p>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:35</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
