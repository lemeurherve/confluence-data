<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : inheritance-plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : inheritance-plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (mhschroe)</span>, last modified on Aug 20, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Project Inheritance <a href="https://plugins.jenkins.io/project-inheritance" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The current version of this plugin may not be safe to use. Please review the following warnings before use:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2020-06-03/#SECURITY-1582" class="external-link" rel="nofollow">Missing permission check</a></li>
</ul>

</div></div>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2019-09-25/#SECURITY-351" class="external-link" rel="nofollow">Secret environment variables defined in Mask Passwords Plugin shown unmasked</a></li>
	<li><a href="https://jenkins.io/security/advisory/2019-09-25/#SECURITY-401" class="external-link" rel="nofollow">CSRF vulnerability and missing permission check</a></li>
</ul>

</div></div>
The purpose of this plugin is to bring true inheritance of properties between multiple job definitions to Jenkins. This allows you to define common properties only once and inherit them to multiple projects.</p><h2 id="inheritance-plugin-Description">Description </h2><p>The role of this plug-in can be broadly described as bringing the concept of <strong>property inheritance</strong> to Jenkins. The goal is to fulfil the following statements:</p><ul><li><em>Instead of having to define the same property multiple times across as many projects; it should be possible for many projects to refer to the same property that is defined only once.</em><br/>or rephrased:</li><li><em>Everything that is defined multiple times but used in the same way, should be defined only once and simply referred to many times.</em></li></ul><p>In a way, you can think of this plugin this way: <strong>If Jenkins is the C language, this plugin is its C++ equivalent.</strong></p><p>Ideal candidates for this are, for example, the SCM setup, common pre-build and post-build steps as well as cleanup and logging properties.</p><p>Additionally, the plugin offers the following nice feature additions:</p><ul><li>A simple versioning system, allowing you to easily go back to a past version of any job configuration and test new features without affecting the runtime.<br/> </li><li>The ability to use a custom workspace location (that can optionally make use of parameter values) that uses Jenkins' workspace locking mechanism so that the Job can still be executed multiple times on the same host without collision.<ul><li>This is highly useful if many projects make use of the same remote repository. Just use the repository name as workspace location to cut down on the number of workspaces.<br/> </li></ul></li><li>The ability to automatically generate child jobs by joining multiple parent jobs together according to a parameterized &quot;recipe&quot;.<ul><li><em>Do note</em> that this ability is currently too inflexible for broad use. It will be made much easier to use in future versions, though.<br/> </li></ul></li><li>Possibility to define a special &quot;magic&quot; label that makes sure that only those jobs that depend on this label get executed on a host.<br/>Think of it this way:<ul><li>Normal Jenkins labels are useful to make sure that a particular set of jobs can run on a particular set of machines.</li><li>The &quot;magic&quot; node label makes sure that <strong>only</strong> a particular set of jobs can run on a  particular set of machines -- and no others.</li><li>More precisely, it makes sure that those jobs that <strong>do not reference the label</strong> will <strong>not</strong> be executed on those hosts that <strong>have this label.</strong></li></ul></li></ul><h3 id="inheritance-plugin-Videotutorials">Video tutorials </h3><p>The following video tutorials are currently available:</p><ul><li>General introduction on how to use the major features of this plugin:<br/><a href="http://youtu.be/DNUI7DRi6XE" class="external-link" rel="nofollow">http://youtu.be/DNUI7DRi6XE</a></li></ul><h3 id="inheritance-plugin-KnownIssues:">Known Issues:</h3><p>There are the known issues for version 19.08.02.</p><ul><li>JaCoCo plugin<ul><li>The JaCoCo build trend graph does not render correctly, if the JaCoCo property is inherited, instead of defined on the leaf projects.<br/>The coverage report shows up, but the graph will fail to load properly.<br/>This can lead to all HTTP threads of Jenkins to become busy with rendering the graph, until the action times out and fails (after 1-2 minutes).</li></ul></li></ul><h2 id="inheritance-plugin-Changelog">Changelog</h2><h4 id="inheritance-plugin-Version19.08.02(20.August2019)"><span style="color: rgb(0,51,0);"><strong>Version 19.08.02 (20. August 2019)</strong></span></h4><p><span style="color: rgb(0,51,0);">The 19.08.01 version had an issue, where the &quot;Archive the artifacts&quot; post-build step was unconditionally hidden from the config screen.</span></p><p><span style="color: rgb(0,51,0);">That was acceptable for the internal release, but of course not for the wider open source release.</span></p><p><span style="color: rgb(0,51,0);">This version is the same as 19.08.01, but defaults to keeping the post-build step visible while offering a global configuration option to disallow the step, if need be.</span></p><h4 id="inheritance-plugin-Version19.08.01(20.August2019)"><span style="color: rgb(0,51,0);"><strong>Version 19.08.01 (20. August 2019)</strong></span></h4><p><span style="color: rgb(0,51,0);">This release combines all the changes that we implemented since 2017 for our internal version.<br/>It also aligns the externally visible versioning scheme to the one used internally at Intel, which will make it easier to align the code more often. Versions will now be numbered with a &quot;Year.Month.Release&quot; scheme.</span></p><p><span style="color: rgb(0,51,0);">The most relevant changes are:</span></p><ul><li><span style="color: rgb(0,51,0);">Moved Jenkins Core dependency from 1.625.3 to 2.107.3</span></li><li><span style="color: rgb(0,51,0);">Require at least Java 8 for running (same as Jenkins Core)</span></li><li><span style="color: rgb(0,51,0);">Add a way to mark jobs as &quot;templates&quot; so that they can be copied from the &quot;New Item/Job&quot; page without needing to type their name</span></li><li><span style="color: rgb(0,51,0);">Fixed the &quot;Get Build Flow&quot; page, to makes it work more reliable on very complex jobs.</span></li><li><span style="color: rgb(0,51,0);">When rebuilding a job:</span><ul><li><span style="color: rgb(0,51,0);">Fixed issues with &quot;Multi-Line&quot; parameter fields</span></li><li><span style="color: rgb(0,51,0);">Fixed issue with certain job versions not showing up</span></li></ul></li><li><span style="color: rgb(0,51,0);">Fixed issue with references becoming stale when renaming inheritance jobs</span></li></ul><h4 id="inheritance-plugin-Version2.0.0(14.March2017)"><span style="color: rgb(0,51,0);"><strong>Version 2.0.0 (14. March 2017)</strong></span></h4><p>This commit combines all the changes that we implemented in 2015 on GitHub (without a release) and in the past 2 years for our internal version.<br/>Since this is a dramatic and large change, the version was set to 2.0.0.</p><p>The code should be compatible with servers that were running the last version 1.5.3 (as long as they're running Jenkins &gt; v1.625.3), but no guarantees can be made, as we can't check all edge-cases.<br/>As such <strong>extreme care</strong> should be taken when upgrading from 1.5.3.</p><p>The most relevant changes are:</p><ul><li>The plugin now handles the &quot;full name&quot; of projects correctly. This enables compatibility with the CloudBees &quot;Folders&quot; plugin.</li><li>Improved reporting of cycles and missing parameters in the inheritance. For example, the warning now lists the exact path of the cycle.</li><li>Child jobs are now properly marked as unbuildable when there's a missing parameter or parent job, even when there are many levels of inheritance between it and the missing job/parameter.</li><li>Job configuration &quot;save&quot; button will now check for errors (red text) in the configuration form and prevent you from saving if errors are present.<br/>This is avoids errors on the page from creating half-changed jobs.</li><li>The &quot;Apply&quot; button has been removed, as it does not allow giving a text for the new version that is created.</li><li>When a build is started with a different version, a build description is automatically added.</li><li>Fixed various issues relating to rebuilding existing jobs.<br/>Examples: Wrong versions, missing parameters, etc. pp.</li><li>Fixed leaks in the version handling, that sometimes caused builds to be started with versions selected for a wholly different run, or with a more recent unstable version, even if a stable version was selected.</li><li>Improved layout of various overview pages:<ul><li>Inheritance relationships,</li><li>Versioning and diff tables</li><li>'Full build flow' for parameters and shells executed by a build</li><li>Parameter derivation page</li></ul></li><li>Made version comparison page hot-linkable: '/showDiffOfVersions?left=&lt;num&gt;&amp;right=&lt;num&gt;'</li><li>The &quot;/job/&lt;name&gt;/config.xml&quot; now accepts a &quot;?version=&lt;num&gt;&quot; parameter and will also, by default, show the XML of the last stable version, instead of the last-saved version.</li><li>Creating a new job as a copy of an existing job will now also use the version currently marked as stable, instead of the last saved one.</li><li>Inheritable Parameter References no longer store unused fields in the XML that only belong to &quot;real&quot; parameters.</li><li>Inheritable Parameters now have full control over how Whitespaces are handled (i.e. are they kept, removed or automatically added?)</li><li>Parameters are now aware of the inheritance as it is defined on the current configuration page. It is no longer necessary to save the project after changing the parentage to use &quot;parameter references&quot;.</li><li>Made &quot;rebuild&quot; plugin mandatory, as not having it led to confusing exceptions during boot.</li><li>Fixed various exceptions raised in the GUI as well as backend.</li><li>Removed a possible deadlock when deleting a job while saving another.</li></ul><h4 id="inheritance-plugin-Version1.5.3(29.July2014)"><span style="color: rgb(0,51,0);"><strong>Version 1.5.3 (29. July 2014)</strong></span></h4><ul><li>Identical to v1.5.2.<br/>Maven botched the update process of 1.5.2. It missed uploading a commit on Github and uploaded a &quot;-snapshot&quot; version to the Jenkins Maven repo.</li></ul><h4 id="inheritance-plugin-Version1.5.2(29.July2014)"><span style="color: rgb(0,51,0);"><strong>Version 1.5.2 (29. July 2014)</strong></span></h4><ul><li>Added additional unittests for new features.</li><li>Added REST API URLs that allow the user to get the full configuration overview of a job, including all parents (http://&lt;jenkins&gt;/job/&lt;name&gt;/getConfigAsXML?depth=1).</li><li>Fixed rebuild not working for &quot;hidden&quot; parameters, this also adds dynamically created parameters to the rebuild page.</li><li>Save new version of Job, when project is updated via XML upload.</li><li>Made the saving of the versions.xml.gz atomic.</li><li>Fix issue with &quot;hidden&quot; parameters not being hidden from build page, if a &quot;parameter reference&quot; was the last inherited parameter for a given name</li><li>Fixed issue with post-build steps not taking versioning into account</li><li>Added compile-time check for Java6 compatibility</li><li>Fixed issue with altering versioning information not triggering automatic job creation. Now, any save of versioning will trigger creation.</li><li>Fix failure of parameter sanity check, when an inheritable parameter referenced/overwrote a non-inheritable parameter.</li><li>Forcing inheritance, when job properties are evaluated from a BuildStep</li><li>Fixed issue with parameters being derived wrong.  When a reference to a reference was selected, the inheritance mode (Overwritable, Extensible, Fixed) was not computed properly.</li><li>Fixed triggers (like the Gerrit or Timed Triggers) not forcing inheritance of values, thus only using locally defined parameters, etc. pp.</li></ul><h4 id="inheritance-plugin-Version1.5.1(13.April2014)"><span style="color: rgb(0,51,0);"><strong>Version 1.5.1 (13. April 2014)</strong></span></h4><ul><li>Fixed issue with build flow view not displaying all parents</li><li>Fixed issue with label generation due to caching overriding inheritance. Cached labels now always use fully inherited values.</li><li>Added option to retrieve an XML containing the settings of all parents in one file.</li><li>Reduced usage of the ThreadAssocStore, that should prevent versions from spilling from one request to another, which could cause the &quot;isBuildable()&quot; check to fail.</li><li>Restored configuration for SCMs that were missing in v1.5.0</li><li>Added extended build information added to main project page</li><li>Some internal minor code reorganization and bug fixes</li><li>Fixed error that spuriously declared parameter classes as incompatible, thus failing a build before it even started.</li><li>Converted several Jelly to Groovy files and fixed the layout of the build-flow view</li><li>Exchanged names like &quot;Transient Project&quot; with more intuitive ones (&quot;Compounds&quot; in this case)</li><li>The warning messages for fixed parameters now evaluate correctly</li><li>Fixed issue where invalid parameters were not detected, if the final build was not transient.</li><li>Fixed aborting when a variable was declared as &quot;must have a value set&quot;.</li><li>Force users to enter a versioning string before saving</li><li>Fixed issue with URL encoding on rebuild-page (and others) -- applies to running behind a URL-rewriting Apache Proxy</li><li>Added a size-limited LRU buffer for decoding the version map. This hould slightly speed up accessing specific versions of projects.</li><li>Added notification banner to main project page, to inform the user about the state of versioning of the job (stable/non-stable)</li><li>Fixed Compound configuration sceen not using the correct versions of jobs</li><li>Fixed stack-overflow when generating transient actions.</li></ul><h4 id="inheritance-plugin-Version1.5.0(16.December2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.5.0 (16. December 2013)</strong></span></h4><ul><li>Great improvements to Java reflection caching. This improves performance of the plug-in quite a bit. (Thanks to Andreas Gudian)</li><li>Fixed issue with the &quot;Keep build forever&quot; button not appearing.</li><li>Added new configuration read/view/download page for project- and build-pages. This allows you to see all build steps and final parameter evaluations on one page; sorted by which project contributed it.</li><li>Added experimental support for inheriting triggers. This feature currently defaults to being disabled; but prints a warning to users on each project page that the new feature is present and can be enabled at any time.</li><li>Fixed issue with several links missing the &quot;context-URL&quot;, if Jenkins ran inside a context-ed container.</li><li>SVG Graph now honours order of inheritance. Inverted the direction of the arrows for more clarity of how properties flow from parents to children.</li><li>Added table that shows last builds sorted by build time.</li><li>History table is hidden when a project is not buildable and has no previous runs.</li><li>Fixed issue with non-existing references resetting to default. Now, the old value can be kept around; as the plug-in will detect missing projects anyway.</li><li>Fixed Null Pointer Exception bug in jobs without any parameters.</li><li>Implemented caching of generated labels for Jobs. This leads to a considerable speed boost if all build executors are busy and many jobs queue up. It also fixes a rare issue where labels were not being inherited correctly.</li></ul><h4 id="inheritance-plugin-Version1.4.12(10.October2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.4.12 (10. October 2013)</strong></span></h4><ul><li>Hotfix for v1.4.11 -- there was a regression with the &quot;properties not being evaluated in the correct order&quot; bugfix.</li></ul><h4 id="inheritance-plugin-Version1.4.11.1(09.October2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.4.11.1 (09. October 2013)</strong></span></h4><ul><li>Identical to v1.4.11. Re-upload because maven created a snapshot instead of release version</li></ul><h4 id="inheritance-plugin-Version1.4.11(03.October2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.4.11 (03. October 2013)</strong></span></h4><ul><li>Fixed issue with properties not being evaluated in the correct order -- some properties were being inherited multiple times, if defined in different parents.</li><li>Layouting fixes and improved support for context-based URLs on many GUI pages</li><li>Replaced many Jelly pages with Groovy scripts</li><li>Changed name of &quot;Child Job Creation&quot; to &quot;Compound Creation&quot;.</li><li>Added additional a table to the project overview page to more immediately see direct parents and children that are leafs.</li><li>Moved &quot;project class&quot; from compound-config page to general page. This makes sense, as this field can be used in the &quot;Related Projects View&quot; to sort/filter projects</li><li>Improved rendering of &quot;range&quot; slider element.</li><li>Added option to disallow compound renaming (only relevant for automatically created 'compound' jobs)</li><li>Fixed issue with project-names instead of parameter-names being displayed on &quot;Show Parameter derivation&quot; page</li></ul><h4 id="inheritance-plugin-Version1.4.10(16.September2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.4.10 (16. September 2013)</strong></span></h4><ul><li>Added new permission type &quot;Configure Versions&quot;. This allows you to split general &quot;Configure&quot; rights and the right to set a version to stable. The &quot;Administer&quot; permission implies the right to configure versions.</li><li>Fixed issue with SubTasks not being inherited. Now, all properties that contributed additional tasks to be processed on other Executors should work correctly.</li><li>Fixed Stack Overflow due to Parameter References. This could occur if you defined the same parameter twice.</li></ul><h4 id="inheritance-plugin-Version1.4.9(22.August2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.4.9 (22. August 2013)</strong></span></h4><ul><li>Fixed issue with relative path in Jelly file for &quot;Inheritable Parameter&quot; that caused issue if Jenkins server was a Windows host. (Found and fixed by Steven Craft)</li><li>Removed superfluous scanning of all projects when resolving project references (improves speed on large installations)</li><li>Fixed issue with broken links on th &quot;Show References&quot; page if Jenkins ran in a context other than &quot;/&quot;</li><li>Fixed several possible Null-Pointer-Exceptions in various parts of the plug-in.</li><li>Added several test-cases to prevent future regressions. Do note that these tests are disabled on Windows, due to a bug in Jenkins &lt; 1.520</li><li>Fixed issue with the &quot;magic node-label&quot; (which, if set on a node, makes sure that <strong>only</strong> tests that use that label are scheduled on this machine) being applied wrong if a job had no label set at all.</li></ul><h4 id="inheritance-plugin-Version1.4.8(01.July2013)"><span style="color: rgb(0,51,0);"><strong>Version 1.4.8 (01. July 2013)</strong></span></h4><ul><li>Initial public release</li><li>Fixed deadlock occurring in certain situations involving build Queue queries</li><li>Added option to hide &quot;rarely changed&quot; build parameters from the build screen.</li></ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:28</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
