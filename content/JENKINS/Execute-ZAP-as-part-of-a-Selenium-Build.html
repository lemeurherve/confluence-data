<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : Execute ZAP as part of a Selenium Build</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                    <li>
                                <span><a href="zap-plugin.html">zap plugin</a></span>
                            </li>
                                                    <li>
                                <span><a href="Configure-the-Job.html">Configure the Job</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : Execute ZAP as part of a Selenium Build
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (jordangs)</span>, last modified on Apr 20, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="ExecuteZAPaspartofaSeleniumBuild-ConfiguretheJobtoExecuteaSeleniumScript"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662356/102793283.png" data-image-src="attachments/102662356/102793283.png" data-unresolved-comment-count="0" data-linked-resource-id="102793283" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="setting.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662356" data-linked-resource-container-version="14"></span> Configure the Job to Execute a Selenium Script</h1><div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Add Build Step</strong> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662356/102793284.png" data-image-src="attachments/102662356/102793284.png" data-unresolved-comment-count="0" data-linked-resource-id="102793284" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="arrow.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662356" data-linked-resource-container-version="14"></span> <strong>Execute Windows Batch Command</strong></p></div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">pybot &quot;/path/to/selenium/script/on/slave/script.robot&quot;</pre>
</div></div><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Warning:</strong> The <strong><a href="http://docs.seleniumhq.org/" class="external-link" rel="nofollow">Selenium</a></strong> build step must be placed <strong>before</strong> the <strong>Execute ZAP</strong> build step. So the life cycle is <span style="color: gray;"><code>Execute ZAP &gt; Run Selenium Tests &gt; Scan URLs with ZAP</code></span><br/> .</p></div></div><p> </p><hr/><h1 id="ExecuteZAPaspartofaSeleniumBuild-ConfiguretheJobtoExecuteZAP"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662356/102793283.png" data-image-src="attachments/102662356/102793283.png" data-unresolved-comment-count="0" data-linked-resource-id="102793283" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="setting.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662356" data-linked-resource-container-version="14"></span> Configure the Job to Execute ZAP</h1><div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Add Build Step</strong> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662356/102793284.png" data-image-src="attachments/102662356/102793284.png" data-unresolved-comment-count="0" data-linked-resource-id="102793284" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="arrow.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662356" data-linked-resource-container-version="14"></span> <strong>Execute ZAP</strong></p></div></div><p> </p><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-AdminConfigurations">Admin Configurations</h4>

<h4 id="ExecuteZAPaspartofaSeleniumBuild-"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/102662410/102793267.png" data-image-src="attachments/102662410/102793267.png" data-unresolved-comment-count="0" data-linked-resource-id="102793267" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="admin_config.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662410" data-linked-resource-container-version="7"></span></h4>

<ol>
	<li><strong>workspace</strong><br/>
 
	<ul>
		<li>Represents the directory to the job's workspace on the <strong>Slave</strong> machine.
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> In this directory the ZAP <strong>session(s)</strong>, <strong>report(s)</strong> and <strong>log(s)</strong> will be saved.</p></div></div></li>
	</ul>
	</li>
	<li><strong>Host and Port</strong>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Required:</strong> The <strong>host</strong> and <strong>port</strong> set here should be the <strong>SAME</strong> set in <strong><a href="https://wiki.jenkins-ci.org/display/JENKINS/zap-plugin+Firefox+Settings#zap-pluginFirefoxSettings-FirefoxSettings%3ALocalProxySettings" class="external-link" rel="nofollow">Firefox</a></strong> and in the <strong><a href="https://wiki.jenkins-ci.org/display/JENKINS/zap-plugin+ZAP+Settings#zap-pluginZAPSettings-ZAPSettings%3ALocalProxySettings" class="external-link" rel="nofollow">ZAP security tool</a></strong>.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Notice:</strong> This should be the IP address of the <strong>Slave</strong> (the machine where <strong>ZAP security tool</strong> is installed).</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Can override the default ZAP <strong>host</strong> (e.g. &quot;localhost&quot;) and default ZAP <strong>port</strong> (e.g. &quot;8090&quot;) for this job which were set under <strong><a href="https://wiki.jenkins-ci.org/display/JENKINS/zap-plugin+Jenkins+Settings#zap-pluginJenkinsSettings-JenkinsSettings%3AZAPProxySettings" class="external-link" rel="nofollow">Jenkins Settings: ZAP Proxy Settings</a></strong>. Overriding the <strong>host</strong> and/or <strong>port</strong> allows to run multiple concurrent builds on different <strong>host(s)</strong> and/or <strong>port(s)</strong>.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div></li>
</ol></p><p> </p><hr/><h4 id="ExecuteZAPaspartofaSeleniumBuild-Startup">Startup</h4><ul><li><strong>Run as Pre-Build Step</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Set to Checked<br/>  <ul><li><p>ZAP is started before all other build step (<strong>i.e.</strong> in a pre-build step).</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> This will allow <strong>ZAP security tool</strong> to act as an <a href="https://github.com/zaproxy/zap-core-help/wiki/HelpStartProxies#configuring-proxies" class="external-link" rel="nofollow">Intercepting Proxy</a>. It will map all of the requests the <strong>Selenium script</strong> makes to a web app and all of the responses ZAP receives from it.</p></div></div></li></ul></li></ul><p> </p><hr/><h4 id="ExecuteZAPaspartofaSeleniumBuild-Java">Java</h4><ul><li><p><strong>Select the JDK used by ZAP</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Leave as inheritFromJob</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Notice:</strong> <strong>ZAP security tool</strong> requires Java 7 or higher to run.</p></div></div></li></ul><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-InstallationMethod">Installation Method</h4>

<p>ZAP Jenkins plugin requires <a href="https://github.com/zaproxy/zaproxy/wiki/Downloads" class="external-link" rel="nofollow">Zed Attack Proxy</a> 2.5.0+ to run and can be installed via either of the following methods:</p>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Recommended:</strong> installation is <strong>System Installed</strong>.</p></div></div>
<ul>
	<li><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662413/102793268.png" data-image-src="attachments/102662413/102793268.png" data-unresolved-comment-count="0" data-linked-resource-id="102793268" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="jenkins.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662413" data-linked-resource-container-version="8"></span> <strong><a href="https://wiki.jenkins.io/display/JENKINS/Custom+Tools+Plugin">Custom Tools</a></strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to setup ZAP for use with Jenkins and the <strong>Custom Tools</strong> plugin can be found <a href="https://wiki.jenkins.io/display/JENKINS/Custom+Tools">here</a>.
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> A generic tool installer. You define how tools get installed, and the plugin will automatically install them when needed.</p></div></div></li>
	<li><strong>System Installed</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to setup ZAP for use with Jenkins as a <strong>System Installation</strong> can be found <a href="https://wiki.jenkins.io/display/JENKINS/System+Installed">here</a>.
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Requires <span style="color: gray;"><code>ZAPROXY_HOME</code></span> to be defined as a System Environment Variable.</p></div></div></li>
</ul></p><p> </p><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-RunConfigurations">Run Configurations</h4>
<p>Clicking the <strong>Advanced...</strong> button, a new block appears below:<br/>
 <br/>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662415/102793269.png" data-image-src="attachments/102662415/102793269.png" data-unresolved-comment-count="0" data-linked-resource-id="102793269" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="advanced.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662415" data-linked-resource-container-version="5"></span></p>
<ol>
	<li><strong>Initialization Timeout</strong><br/>
 
	<ul>
		<li>Total time (in seconds) to wait for ZAP to initialize. 
<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Warning:</strong> If ZAP has not been initialized after the specified time then the program is stopped and the build is marked as a <strong>FAILURE</strong>.</p></div></div></li>
	</ul>
	</li>
	<li><strong>Add ZAP command line option</strong><br/>
 
	<ul>
		<li>This fields allows you to add ZAP command line options.
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Recommend:</strong> If having followed the <strong>System Installed</strong> guide above, it is recommended to set the <span style="color: gray;"><code>installdir</code></span> command line option.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Please see <a href="https://github.com/zaproxy/zap-core-help/wiki/HelpCmdline" class="external-link" rel="nofollow">HelpCmdline </a> for more information.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Warning:</strong> Adding a ZAP command line option can interfere with other UI options of the ZAP Jenkins plugin. <strong>Use with caution!</strong></p></div></div></li>
	</ul>
	</li>
</ol></p><p> </p><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-ZAPSettings">ZAP Settings</h4>
<ul>
	<li><strong>Path</strong><br/>
 
	<ul>
		<li>Path to the 'default directory' that ZAP uses on the <strong>Slave</strong> (the machine where <strong>ZAP security tool</strong> is installed).
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Please see <a href="https://github.com/zaproxy/zaproxy/wiki/FAQconfig" class="external-link" rel="nofollow">FAQconfig </a>for more information.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div>
<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Warning:</strong> Do <strong>not</strong> override with command line options.</p></div></div></li>
	</ul>
	</li>
</ul></p><p> </p><hr/><h4 id="ExecuteZAPaspartofaSeleniumBuild-SessionManagement">Session Management</h4><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/102662356/102793285.png" data-image-src="attachments/102662356/102793285.png" data-unresolved-comment-count="0" data-linked-resource-id="102793285" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="persist_session.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662356" data-linked-resource-container-version="14"></span></p><ul><li><strong>Persist Session</strong><br/>  <ol><li><strong>Filename</strong><br/>  <ul><li><p>Specify a filename for the ZAP Session.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> The file extension is not necessary (&quot;.session&quot; extension will be automatically added).</p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> The report will be saved into the 'Jenkins Job's Workspace'.</p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">session/filename</span></code></span> or simply <span style="color: gray;"><code><span class="nolink">filename</span></code></span>.</p></div></div></li></ul></li><li><strong>Remove External Sites</strong><br/>  <ul><li>Specify if after ZAP complete's it's Pre-Build Selenium tests, the Site Tree will be cleared of all external URL's.<br/>  </li></ul></li><li><strong>Internal Sites</strong><br/>  <ul><li><p>List of URL which will be flagged as internal sites and preserved, all other URL's are considered external sites and will be cleared from the Site Tree.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Each line is a URL Regex and should be in the form of:<br/>  <br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">https://mywebsite.com</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">https://myotherwebsite.com</span></code></span></p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div></li></ul></li></ol></li></ul><p> </p><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-SessionProperties">Session Properties</h4><ol><li><strong>Context Name</strong><br/>  <ul><li><p>Provide a <strong>unique</strong> name for the context.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Append the <strong>Build Variable</strong> <span style="color: gray;"><code>BUILD_ID</code></span> to the Context Name to ensure a <strong>unique</strong> name. <strong>e.g.</strong> <span style="color: gray;"> </span></p><p>My Context ${BUILD_ID}</p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Warning:</strong> The context should <strong>not</strong> exist in the loaded session.</p></div></div></li></ul></li><li><strong>Include in Context</strong><br/>  <ul><li><p>List of URLs which will be included in the Context unless also excluded.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Each line is a URL Regex and should be in the form of:<br/>  <br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">http://localhost:8180/bodgeit.*</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">\Qhttp://localhost:8180/bodgeit\E.*</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">http://localhost:8180/bodgeit/logout.php</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">\Qhttp://localhost:8180/bodgeit/logout.php\E</span></code></span></p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div></li></ul></li><li><strong>Exclude from Context</strong><br/>  <ul><li><p>List of URLs which will be excluded from the Context.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Each line is a URL Regex and should be in the form of:<br/>  <br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">http://localhost:8180/bodgeit.*</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">\Qhttp://localhost:8180/bodgeit\E.*</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">http://localhost:8180/bodgeit/logout.php</span></code></span><br/> <strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">\Qhttp://localhost:8180/bodgeit/logout.php\E</span></code></span></p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div></li></ul></li><li><strong><strong>Alert Filters</strong></strong> – Placeholder for New Feature Addition. (Go to step 5. for now)<strong><strong><br/></strong></strong><p> </p></li><li><strong>Authentication</strong> – ZAP will perform the Attacks (Spider and/or Active Scan) as an authenticated user.<br/>  <ul><li><strong>Form-Based</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to setup the context to use <strong>Form-Based</strong> Authentication can be found <strong><a href="https://wiki.jenkins.io/display/JENKINS/zap-plugin+Form-Based+Auth">here</a></strong>.<br/>  </li><li><strong>Script-Based</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to setup the context to use <strong>Script-Based</strong> Authentication can be found <strong><a href="https://wiki.jenkins.io/display/JENKINS/zap-plugin+Script-Based+Auth">here</a></strong>.</li></ul></li></ol></p><p> </p><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-AttackMode">Attack Mode</h4>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/102662429/102793270.png" data-image-src="attachments/102662429/102793270.png" data-unresolved-comment-count="0" data-linked-resource-id="102793270" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="attack_modes.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662429" data-linked-resource-container-version="6"></span></p>

<ol>
	<li><strong>Starting Point</strong><br/>
 
	<ul>
		<li>The starting point is the request you desire from which you would like all attacks to originate from.
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Specify a URL as the starting point in the form of:<br/>
 <br/>
<strong>e.g.</strong> <span style="color: gray;"><code><span class="nolink">http://localhost:8180/bodgeit/</span></code></span></p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Accepts <strong>System Environment Variables</strong>, <strong>Build Variables</strong> as well as <strong>Environment Inject Plugin Variables</strong>(cannot be used during pre-build).</p></div></div></li>
	</ul>
	</li>
	<li><strong><a href="https://github.com/zaproxy/zap-core-help/wiki/HelpStartConceptsSpider#spider" class="external-link" rel="nofollow">Spider Scan</a></strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Evaluates URL for <a href="https://github.com/zaproxy/zap-core-help/wiki/HelpStartConceptsPscan#passive-scan" class="external-link" rel="nofollow">Passive Alerts</a>.<br/>
 
	<ul>
		<li><strong>Recurse</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Default: True
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> If you select 'Recurse' then all of the nodes underneath the one specified will also be used to seed the spider.</p></div></div></li>
		<li><strong>Subtree Only</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Default: False
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> If you select 'Subtree Only' the spider will only access resources that are under the starting point (URI). When evaluating if a resource is found within the specified subtree, the spider considers only the scheme, host, port, and path components of the URI.</p></div></div></li>
		<li><strong>Max Children to Crawl</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Default: 0
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Specify the 'Max Children to Crawl'. This parameter limits the number of children that will be crawled at every node in the tree. This is useful for data driven applications that have large numbers of 'pages' that are in fact exactly the same code but containing different data, for example from a database. By default this is set to zero which means there are no limits applied to the number of child nodes crawled.</p></div></div></li>
	</ul>
	</li>
	<li><strong><a href="https://github.com/zaproxy/zap-core-help/wiki/HelpAddonsSpiderAjaxConcepts#ajax-spider" class="external-link" rel="nofollow">AJAX Spider</a></strong><br/>
 
	<ul>
		<li><strong>In Scope Only</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Default: False
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> If you select 'In Scope Only' then any URLs which are out of scope will be ignored.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Notice:</strong> Does <strong>not</strong> support authentication.</p></div></div></li>
	</ul>
	</li>
	<li><strong><a href="https://github.com/zaproxy/zap-core-help/wiki/HelpStartConceptsAscan#active-scan" class="external-link" rel="nofollow">Active Scan</a></strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Evaluates URL for <a href="https://github.com/zaproxy/zap-core-help/wiki/HelpStartConceptsAscan#active-scan" class="external-link" rel="nofollow">Active Alerts</a>.<br/>
 
	<ul>
		<li><strong>Policy</strong>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> Select a ZAP policy to use for the Active Scan. The policies must be stored in the Path provided for 'ZAP Settings'. &quot;Default Policy&quot; is used if no policy is specified.</p></div></div></li>
		<li><strong>Recurse</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Default: True
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> If you select 'Recurse' then all of the nodes underneath the one selected will also be scanned. Custom input vectors are only supported if this option is not selected.</p></div></div></li>
	</ul>
	</li>
</ol></p><p> </p><hr/><p><h4 id="ExecuteZAPaspartofaSeleniumBuild-FinalizeRun">Finalize Run</h4>

<ol>
	<li><strong>Generate Reports</strong> – The security alerts found by ZAP will be saved into a report file in the build's workspace.<br/>
 
	<ul>
		<li><strong>Generate Report</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to generate the <strong>default</strong> report(s) can be found <a href="https://wiki.jenkins.io/display/JENKINS/zap-plugin+Generate+Report">here</a>.
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> This generates a new report containing the alerts raised in a supported format (<strong>.html</strong> <a href="http://www.w3schools.com/html/html_xhtml.asp" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662434/102793279.png" data-image-src="attachments/102662434/102793279.png" data-unresolved-comment-count="0" data-linked-resource-id="102793279" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="html.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662434" data-linked-resource-container-version="8"></span></a>, <strong>.xml</strong> <a href="http://www.w3schools.com/xml/default.asp" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662434/102793282.png" data-image-src="attachments/102662434/102793282.png" data-unresolved-comment-count="0" data-linked-resource-id="102793282" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="xml.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662434" data-linked-resource-container-version="8"></span></a>).</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> This is the <strong>default</strong> method of report generation for ZAP.</p></div></div></li>
		<li><strong><a href="https://github.com/zaproxy/zap-extensions/wiki/HelpAddonsExportreportExportreport" class="external-link" rel="nofollow">Export Report</a></strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to export <strong>customized</strong> report(s) can be found <a href="https://wiki.jenkins.io/display/JENKINS/Export+Report">here</a>.
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Required:</strong> A plugin called <strong>Export Report</strong> which can be found in <span style="color: gray;"><code>ZAP &gt; Manage Add-ons &gt; Marketplace</code></span>.</p></div></div>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Info:</strong> An official ZAP marketplace extension which allows you to <strong>customize</strong> content and export in a desired format (<strong>.xhtml</strong> <a href="http://www.w3schools.com/html/html_xhtml.asp" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662434/102793279.png" data-image-src="attachments/102662434/102793279.png" data-unresolved-comment-count="0" data-linked-resource-id="102793279" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="html.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662434" data-linked-resource-container-version="8"></span></a>, <strong>.xml</strong> <a href="http://www.w3schools.com/xml/default.asp" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662434/102793282.png" data-image-src="attachments/102662434/102793282.png" data-unresolved-comment-count="0" data-linked-resource-id="102793282" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="xml.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662434" data-linked-resource-container-version="8"></span></a>, <strong>.json</strong> <a href="http://www.w3schools.com/js/js_json_intro.asp" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/102662434/102793280.png" data-image-src="attachments/102662434/102793280.png" data-unresolved-comment-count="0" data-linked-resource-id="102793280" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="json.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="102662434" data-linked-resource-container-version="8"></span></a>). Supports GUI, command line and API calls.</p></div></div></li>
	</ul>
	</li>
	<li><strong>Create JIRA Issues</strong> – <img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Documentation, how to <strong>Create JIRA Issues</strong> can be found <a href="https://wiki.jenkins.io/display/JENKINS/zap-plugin+JIRA+Creator">here</a>.
<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Warning:</strong> An unofficial ZAP extension which allows you to create JIRA issues. It is an add-on <strong>NOT</strong> bundled with ZAP, nor available in the marketplace.  <strong><a href="https://github.com/0xkasun/security-tools/raw/master/build/zap-exts/jiraIssueCreater-alpha-1.zap" class="external-link" rel="nofollow">DOWNLOAD</a> AT YOUR OWN RISK AND DISCRETION.</strong></p></div></div></li>
</ol></p><p> </p><hr/><h4 id="ExecuteZAPaspartofaSeleniumBuild-ContinuetoConfiguretheJob&#39;sPostBuildActions">Continue to <a href="https://wiki.jenkins-ci.org/display/JENKINS/zap-plugin+How+To#zap-pluginHowTo-ConfiguretheJob%27sPostBuildActions" class="external-link" rel="nofollow">Configure the Job's Post Build Actions</a></h4>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/102662356/102793283.png">setting.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/102662356/102793284.png">arrow.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/102662356/102793286.png">persist_session.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/102662356/102793285.png">persist_session.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 14:01</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
