<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : EnvInject Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : EnvInject Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (gbois)</span>, last modified by <span class='editor'> Unknown User (oleg_nenashev)</span> on Jul 22, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View Environment Injector <a href="https://plugins.jenkins.io/envinject" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>

<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The current version of this plugin may not be safe to use. Please review the following warnings before use:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2018-02-26/#SECURITY-248" class="external-link" rel="nofollow">Exposure of sensitive build variables stored by EnvInject 1.90 and earlier</a></li>
</ul>

</div></div>

<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Older versions of this plugin may not be safe to use. Please review the following warnings before using an older version:</p>

<ul>
	<li><a href="https://jenkins.io/security/advisory/2017-04-10/" class="external-link" rel="nofollow">Low privilege users are able to read parts of some files on Jenkins controller</a></li>
	<li><a href="https://jenkins.io/security/advisory/2017-04-10/" class="external-link" rel="nofollow">Arbitrary code execution vulnerability</a></li>
</ul>

</div></div>



<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>This plugin is up for adoption.</strong> Want to help improve this plugin? <a href="/display/JENKINS/Adopt+a+Plugin" title="Adopt a Plugin">Click here to learn more</a>!</p></div></div>This plugin makes it possible to have an isolated environment for your jobs.<h1 id="EnvInjectPlugin-Summary">Summary</h1><p>EnvInject plugin provides the following features:</p><ul><li>Removes inherited environment variables by the Jenkins Java process</li><li>Injects environment variables at node (master/slave) startup</li><li>Executes a setup script before or/and after a SCM checkout for a run</li><li>Injects environment variables before or/and after a SCM checkout for a run</li><li>Injects environment variables as a build step for a run</li><li>Injects password values for a run</li><li>Exports environment variables at the end of the build in order to to know the set of environment variables used for each build<br/><br/></li></ul><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Warning!</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This plugin has some known limitations. For Example, <a href="Pipeline-Plugin.html">Pipeline Plugin</a> is not fully supported. See the documentation below for more details.</p></div></div><p><br/></p><h1 id="EnvInjectPlugin-Tableofcontents">Table of contents</h1><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631020969719 {padding: 0px;}
div.rbtoc1631020969719 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631020969719 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631020969719'>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-Summary'>Summary</a></li>
<li><a href='#EnvInjectPlugin-Tableofcontents'>Table of contents</a></li>
<li><a href='#EnvInjectPlugin-Someusecases'>Some use cases</a>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-BuildCauses'>Build Causes</a></li>
</ul>
</li>
<li><a href='#EnvInjectPlugin-Configuration'>Configuration</a>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-Atnode(masterandagent)level'>At node (master and agent) level</a></li>
<li><a href='#EnvInjectPlugin-Atjoblevel'>At job level</a>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-Setupacleanenvironment'>Set up a clean environment</a></li>
<li><a href='#EnvInjectPlugin-InjectvariablesafteraSCMcheckout'>Inject variables after a SCM checkout</a></li>
<li><a href='#EnvInjectPlugin-Injectvariablesasabuildstep'>Inject variables as a build step</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#EnvInjectPlugin-VariablesTraceability'>Variables Traceability</a></li>
<li><a href='#EnvInjectPlugin-Examples'>Examples</a>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-AppendtoPATHonWindows'>Append to PATH on Windows</a>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-GerritTriggerpluginwithparameterizedBuildbranchname'>Gerrit Trigger plugin with parameterized Build branch name</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#EnvInjectPlugin-Additionalfeaturesprovidedbyotherplugins'>Additional features provided by other plugins</a></li>
<li><a href='#EnvInjectPlugin-Extensibilitywithotherplugins'>Extensibility with other plugins</a></li>
<li><a href='#EnvInjectPlugin-Comparisonwithotherplugins'>Comparison with other plugins</a></li>
<li><a href='#EnvInjectPlugin-Knownincompatibilities'>Known incompatibilities</a>
<ul class='toc-indentation'>
<li><a href='#EnvInjectPlugin-JenkinsPipeline'>Jenkins Pipeline</a></li>
<li><a href='#EnvInjectPlugin-MaskPasswordsPlugin'>Mask Passwords Plugin</a></li>
<li><a href='#EnvInjectPlugin-ToolEnvironmentPlugin'>Tool Environment Plugin</a></li>
</ul>
</li>
<li><a href='#EnvInjectPlugin-Knownlimitations'>Known limitations</a></li>
<li><a href='#EnvInjectPlugin-Changelog'>Changelog</a></li>
</ul>
</div></p><h1 id="EnvInjectPlugin-Someusecases">Some use cases</h1><ul><li>To remove inherited environment variables (PATH, ANT_HOME, ...) at node level (master/slave), available by default for a job run.</li><li>To inject variables in the first step of the job (before the SCM checkout)</li><li>To inject variables based on user parameter values</li><li>To execute an initialization script before a SCM checkout.</li><li>To execute an initialization script after a SCM checkout</li><li>To inject variables as a build step obtained from a file filled in by a previous build step</li><li>To know environment variables used for a build</li><li>To inject build cause as environment variable for a build</li><li>To inject environment variables from the evaluation of a Groovy script (powered by <a href="Script-Security-Plugin.html">Script Security Plugin</a>)</li><li>To export environment variables as a metadata in your binary repository</li></ul><h3 id="EnvInjectPlugin-BuildCauses">Build Causes</h3><p>This plugin also exposes the cause of the current build as an environment variable. A build can be triggered by multiple causes at the same time e.g. an SCM Change could have occurred at the same time as a user triggers the build manually.</p><p>The build cause is exposed as a comma separated list:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: sql; gutter: false; theme: Confluence" data-theme="Confluence">BUILD_CAUSE=USERIDCAUSE, SCMTRIGGER, UPSTREAMTRIGGER, MANUALTRIGGER</pre>
</div></div><p>In addition, each cause is exposed as a single envvariable too:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: sql; gutter: false; theme: Confluence" data-theme="Confluence">BUILD_CAUSE_USERIDCAUSE=true
BUILD_CAUSE_SCMTRIGGER=true
BUILD_CAUSE_UPSTREAMTRIGGER=true
BUILD_CAUSE_MANUALTRIGGER=true</pre>
</div></div><h1 id="EnvInjectPlugin-Configuration">Configuration</h1><h2 id="EnvInjectPlugin-Atnode(masterandagent)level">At node (master and agent) level</h2><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-content-image-border image-center" src="attachments/57999800/59900100.png" data-image-src="attachments/57999800/59900100.png" data-unresolved-comment-count="0" data-linked-resource-id="59900100" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="EnvInject_node.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57999800" data-linked-resource-container-version="225"></span></p><h2 id="EnvInjectPlugin-Atjoblevel">At job level</h2><h3 id="EnvInjectPlugin-Setupacleanenvironment">Set up a clean environment</h3><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-content-image-border image-center" src="attachments/57999800/59900096.png" data-image-src="attachments/57999800/59900096.png" data-unresolved-comment-count="0" data-linked-resource-id="59900096" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="EnvInject_Prepare.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57999800" data-linked-resource-container-version="225"></span></p><h3 id="EnvInjectPlugin-InjectvariablesafteraSCMcheckout">Inject variables after a SCM checkout</h3><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-content-image-border image-center" src="attachments/57999800/59900097.png" data-image-src="attachments/57999800/59900097.png" data-unresolved-comment-count="0" data-linked-resource-id="59900097" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="EnvInject_BuildWrapper.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57999800" data-linked-resource-container-version="225"></span></p><h3 id="EnvInjectPlugin-Injectvariablesasabuildstep">Inject variables as a build step</h3><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-content-image-border image-center" src="attachments/57999800/58196013.png" data-image-src="attachments/57999800/58196013.png" data-unresolved-comment-count="0" data-linked-resource-id="58196013" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="EnvInject_buildStep.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57999800" data-linked-resource-container-version="225"></span></p><h1 id="EnvInjectPlugin-VariablesTraceability">Variables Traceability</h1><p>Each build captures environment variables and stores them in an environment file called 'injectedEnvVars.txt' located in<br/>$JENKINS_HOME/jobs/&lt;your_job&gt;/builds/&lt;your_build&gt;.</p><p>For an old build, you can display injected environment variables through the right UI menu on the build page.</p><p>You can also get build environment variables by the following HTTP GET URL: &lt;jenkins_url&gt;/job/&lt;job_name&gt;/&lt;build_number&gt;/injectedEnvVars/export<br/>XML, JSON and TXT format are supported.<br/>For example:</p><ul><li>curl -X GET -H&quot;Accept:text/plain&quot; &lt;jenkins_url&gt;/job/&lt;job_name&gt;/lastBuild/injectedEnvVars/export</li><li>curl -X GET -H&quot;Accept:application/xml&quot; &lt;jenkins_url&gt;/job/&lt;job_name&gt;/18/injectedEnvVars/export</li><li>curl -X GET -H&quot;Accept:application/json&quot; &lt;jenkins_url&gt;/job/&lt;job_name&gt;/18/injectedEnvVars/export</li></ul><h1 id="EnvInjectPlugin-Examples">Examples</h1><h2 id="EnvInjectPlugin-AppendtoPATHonWindows">Append to PATH on Windows</h2><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/57999800/62816275.png" data-image-src="attachments/57999800/62816275.png" data-unresolved-comment-count="0" data-linked-resource-id="62816275" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="EnvInject_Path.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57999800" data-linked-resource-container-version="225"></span></p><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Warning!</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">This screenshot is from an older version of EnvInject. Starting with EnvInject 1.93, any backslashes (such as Windows directory separators) in environment variables should be escaped (doubled). (See <a href="https://issues.jenkins-ci.org/browse/JENKINS-31573" class="external-link" rel="nofollow">JENKINS-31573</a>.)</div></div><h3 id="EnvInjectPlugin-GerritTriggerpluginwithparameterizedBuildbranchname">Gerrit Trigger plugin with parameterized Build branch name</h3><ul><li>Check &quot;<strong>This build is parameterized</strong>&quot;<ul><li>Name: <code>GERRIT_BRANCH</code></li><li>Default Value: <code>master</code></li></ul></li><li>Check &quot;<strong>Prepare an environment for the run</strong>&quot;<ul><li><p><strong>Evaluated Groovy script</strong>:</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>if (!binding.variables.containsKey(&#39;GERRIT_REFSPEC&#39;)) {
    return [GERRIT_REFSPEC: &quot;refs/heads/$GERRIT_BRANCH&quot;]
}
</pre>
</div></div></li></ul></li></ul><h1 id="EnvInjectPlugin-Additionalfeaturesprovidedbyotherplugins">Additional features provided by other plugins</h1><p><a href="SharedObjects-Plugin.html">Shared Objects</a> plugin contributes to Envinject plugin that enables you to populate shared objects as environment variables.</p><h1 id="EnvInjectPlugin-Extensibilitywithotherplugins">Extensibility with other plugins</h1><p>EnvInject captures build environment variables populated by plugins providing environment variables through Jenkins extension points (such as BuildWrappers, EnvironmentContributions and so on).<br/>Environment variables injected by the EnvInject plugin are available in Jenkins triggers (for example in all <a href="XTrigger-Plugin.html">XTrigger plugin</a> typologies, injected environment variable can be used).<br/>Injected environment variables with the EnvInject plugin are captured by the <a href="BuildContextCapture-Plugin.html">BuildContext capture plugin</a>.</p><h1 id="EnvInjectPlugin-Comparisonwithotherplugins">Comparison with other plugins</h1><p>This plugin is an alternative to <a href="Setenv-Plugin.html">Setenv Plugin</a> and <a href="Envfile-Plugin.html">Envfile Plugin</a> plugins<br/>Note 1: The EnvInject plugin automatically migrates the Jobs configuration from these plugins. The setenv and/or the envfile plugins can be deleted from your plugin list.<br/>Note 2: Master and slave are managed.</p><h1 id="EnvInjectPlugin-Knownincompatibilities">Known incompatibilities</h1><h2 id="EnvInjectPlugin-JenkinsPipeline">Jenkins Pipeline</h2><p>Even though it is possible to set up the EnvInject Job Property and build step in Pipeline, the plugin does not provide full compatibility with <a href="Pipeline-Plugin.html">Pipeline Plugin</a>.</p><p>Supported use-cases:</p><ul><li>Injection of EnvVars defined in the &quot;Properties Content&quot; field of the Job Property<ul><li>These EnvVars are being injected to the script environment and will be inaccessible via the &quot;env&quot; Pipeline global variable</li><li>Please note there is also a known compatibility issue with <a href="Durable-Task-Plugin.html">Durable Task Plugin</a> 1.13</li></ul></li></ul><p>All other use-cases of the plugin may work incorrectly in Jenkins Pipeline. Please see <a href="https://issues.jenkins-ci.org/browse/JENKINS-42614" class="external-link" rel="nofollow">JENKINS-42614</a> for more information about unsupported use-cases. There is no short-term plan to fix the compatibility issues though any pull requests to the plugin will be appreciated.</p><h2 id="EnvInjectPlugin-MaskPasswordsPlugin">Mask Passwords Plugin</h2><p>MaskPasswords plugin is able to mask password elements. However, technically, this plugin provides its own class.</p><p>And we don't want to have a hard dependency from the EnvInject plugin to any other plugin. Therefore, EnvInject can't retrieve information from the MaskPassword plugin. However, EnvInject provides all MaskPasswords features. </p><h2 id="EnvInjectPlugin-ToolEnvironmentPlugin">Tool Environment Plugin</h2><p>EnvInject can't use exported environment variables provided by the <a href="Tool-Environment-Plugin.html">Tool Environment </a>plugin.<br/>Instead, we suggest to use the <a href="SharedObjects-Plugin.html">SharedObjects Plugin</a>. It covers Tool Env plugin features and provides a good integration with EnvInject.</p><h1 id="EnvInjectPlugin-Knownlimitations">Known limitations</h1><ul><li>As into regular shell scripts, you are not able to use &quot;.&quot; character for environment variable names</li></ul><ul><li>Only previous environment variables are available for polling<br/>Some plugins provide polling mechanisms (such as SCM plugins, XTrigger plugins, ...) and you want to use injected environment variables in form fields of these plugins. Unfortunately, injected environment variables are processed only at build time therefore after the build is scheduled. Therefore, we can't access environment variables configured within the job. However, previous injected environment variables (from the previous build) are retrievable (implemented for example in the XTtrigger plugins). For the other plugins, authors are free to add the envinject-lib library dependency in their plugins in order to provide the ability to use environment variables given the EnvInject plugin.</li></ul><h1 id="EnvInjectPlugin-Changelog">Changelog</h1><h4 id="EnvInjectPlugin-Newerreleases">Newer releases</h4><p>See <a href="https://github.com/jenkinsci/envinject-plugin/releases" class="external-link" rel="nofollow">GitHub Releases</a></p><h4 id="EnvInjectPlugin-2.1.6(Jul07,2018)">2.1.6 (Jul 07, 2018)</h4><p>Release with minor improvements in the codebase:</p><ul><li><a href="https://github.com/jenkinsci/envinject-plugin/pull/131" class="external-link" rel="nofollow"><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> PR #131</a> - refactor the code to prevent warnings about attempts to (de-)serialize anonymous classes in Jenkins 2.107.2+</li><li><a href="https://github.com/jenkinsci/envinject-plugin/pull/129" class="external-link" rel="nofollow"><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> PR #129</a> - update the plugin so that it can be tested with <a href="https://github.com/jenkinsci/plugin-compat-tester" class="external-link" rel="nofollow">Plugin Compat Tester</a></li><li><a href="https://github.com/jenkinsci/envinject-plugin/pull/130" class="external-link" rel="nofollow"><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> PR #130</a> - fix typo in the Groovy script variable documentation</li></ul><h4 id="EnvInjectPlugin-2.1.5(Oct13,2017)">2.1.5 (Oct 13, 2017)</h4><ul><li>Add compatibility notice for issues reported in 2.1.4</li></ul><h4 id="EnvInjectPlugin-2.1.4(Oct07,2017)">2.1.4 (Oct 07, 2017)</h4><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Warning!</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p> There are two regression issues reported: <a href="https://issues.jenkins-ci.org/browse/JENKINS-47364" class="external-link" rel="nofollow">JENKINS-47364</a>, <a href="https://issues.jenkins-ci.org/browse/JENKINS-47370" class="external-link" rel="nofollow">JENKINS-47370</a></p><ul><li>Variable substitution stopped work in some cases</li><li>It is a regression after the <a href="https://issues.jenkins-ci.org/browse/JENKINS-26583" class="external-link" rel="nofollow">JENKINS-26583</a> patch</li><li>In particular, it affects Jenkins Pipeline which is not covered by autotests</li></ul><p>The fix will be published soon. The plan is to make the newly introduced behavior opt-in</p></div></div><ul><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-26583" class="external-link" rel="nofollow">JENKINS-26583</a> - The plugin does not longer override Environment Variables from plugins by the values persisted in its cache.<ul><li>This update does not solve all potential conflicts between EnvInject and other environment-contributing plugins</li></ul></li><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-46479" class="external-link" rel="nofollow">JENKINS-46479</a> - Prevent environment variables from being deleted on existing builds when the action is saved before cache initialization.</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Update EnvInject Lib from 1.26 to 1.27 in order to pick FindBugs fixes and <a href="https://issues.jenkins-ci.org/browse/JENKINS-46479" class="external-link" rel="nofollow">JENKINS-46479</a>.</li></ul><h4 id="EnvInjectPlugin-2.1.3(July3,2017)">2.1.3 (July 3, 2017)</h4><ul><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-32428" class="external-link" rel="nofollow"></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-32428" class="external-link" rel="nofollow">JENKINS-32428</a> - Fix glitches in JSON escaping in REST API (regression in 2.1.1)</li></ul><h4 id="EnvInjectPlugin-2.1.2(Jun28,2017)">2.1.2 (Jun 28, 2017)</h4><ul><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-32428" class="external-link" rel="nofollow"></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-45056" class="external-link" rel="nofollow">JENKINS-45056</a> - Fix issue with the incorrect <a href="EnvInject-API-Plugin.html">EnvInject API Plugin</a> 1.0 packaging. Now there is a plugin dependency</li><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-32428" class="external-link" rel="nofollow"></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-45055" class="external-link" rel="nofollow">JENKINS-45055</a> - Update EnvInject Lib from 1.25 to 1.26 in order to pick FindBugs fixes (<a href="https://github.com/jenkinsci/envinject-lib/blob/master/CHANGELOG.md#126" class="external-link" rel="nofollow">changelog</a>)</li></ul><h4 id="EnvInjectPlugin-2.1.1(Jun20,2017)">2.1.1 (Jun 20, 2017)</h4><ul><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-32428" class="external-link" rel="nofollow"> JENKINS-32428</a> - <span class="js-issue-title">Escape XML and JSON outputs in REST API for &quot;Injected Environment Variables&quot; </span></li><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/></a><a href="https://issues.jenkins-ci.org/browse/JENKINS-44263" class="external-link" rel="nofollow"> JENKINS-44263</a> - Prevent showing empty &quot;Injected Environment Variables&quot; list after build loading from the disk due (reliance on the cached value)</li></ul><h4 id="EnvInjectPlugin-2.1(May12,2017)">2.1 (May 12, 2017)</h4><p>This is an API release, which is a preparation for a better Jenkins Pipeline support in the plugin (<a href="https://issues.jenkins-ci.org/browse/JENKINS-42614" class="external-link" rel="nofollow">JENKINS-42614</a>).</p><ul style="list-style-type: square;"><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43845" class="external-link" rel="nofollow"><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> JENKINS-43845</a> - Create new <a href="EnvInject-API-Plugin.html">EnvInject API</a> plugin, which provides new Pipeline-compatible API of EnvInject Lib and EnvInject API util classes</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43536" class="external-link" rel="nofollow"><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> JENKINS-43536</a> - Rework internal logic to avoid using AbstractProject explicitly where possible</li><li><a href="https://issues.jenkins-ci.org/browse/JENKINS-43535" class="external-link" rel="nofollow"><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> JENKINS-43535</a> - Deprecate old API in EnvInject Lib and provide migration guidelines</li></ul><p>Expected behavior changes:</p><ul><li>AbstractProject types (Freestyle, Matrix, JobDSL, etc.) - nothing changes in the behavior</li><li>Jenkins Pipeline - some use-cases may start or stop working. Jenkins Pipeline stays untested (see Known Limitations)</li></ul><h4 id="EnvInjectPlugin-2.0(Apr10th,2017)">2.0 (Apr 10th, 2017)</h4><p>This is a security release of the plugin.</p><ul><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> SECURITY-256</a> - Arbitrary Groovy code execution vulnerability</li><li><a href="https://jenkins.io/security/advisory/2017-04-10/#environment-injector-envinject-plugin-allows-low-privilege-users-to-access-parts-of-arbitrary-files-on-master" class="external-link" rel="nofollow"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> SECURITY-348</a> - Low privilege users are able to read parts of some files on master</li></ul><p><br/></p><div class="confluence-information-macro confluence-information-macro-information"><p class="title">Warning!</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This plugin release is not fully compatible with Previous EnvInject versions. A manual job configuration update may be required. See the referenced issues for more information.</p></div></div><h4 id="EnvInjectPlugin-1.93.1(Sep30th,2016)">1.93.1 (Sep 30th, 2016)</h4><ul><li><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-31829" class="external-link" rel="nofollow">JENKINS-31829</a> - Add currentListener Groovy variable</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/><a href="https://issues.jenkins-ci.org/browse/JENKINS-38607"> JENKINS-38607</a> - Jenkins Update Center now shows compatibility warnings when upgrading from versions below 1.93 (See the compatibility notice regarding <a href="https://issues.jenkins-ci.org/browse/JENKINS-31573">JENKINS-31573</a>)</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/><a href="https://github.com/jenkinsci/envinject-plugin/pull/109" class="external-link" rel="nofollow"> PR #109</a> - Incorrect initialization of the field in EnvInject build wrapper with Deprecated API. No user-visible impact</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/><a href="https://github.com/jenkinsci/envinject-plugin/pull/108" class="external-link" rel="nofollow"> PR #109</a> - Escape all plugin Jelly views by default</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/><a href="https://github.com/jenkinsci/envinject-plugin/pull/107" class="external-link" rel="nofollow"> PR #107</a> - Upgrade Jenkins Test Harness framework to the latest version, improve test coverage</li></ul><h4 id="EnvInjectPlugin-1.93(Sep26th,2016)">1.93 (Sep 26th, 2016)</h4><ul><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Update to the new parent POM, 1.609.3 is a new target core version</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-31573">JENKINS-31573</a> - Incorrect parsing of newline characters</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-30028">JENKINS-30028</a> - <a href="Timestamper.html">Timestamper</a> was displaying shifted timestamps due to the integration issue with EnvInject</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-36545">JENKINS-36545</a> - WORKSPACE variable was unavailable in Groovy script injector</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-36466">JENKINS-36466</a> - Update env-inject-lib to 1.24 in order to avoid potential incompatibilities on core versions with detached and deleted Matrix Project plugin</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-32693">JENKINS-32693</a> - Fix BuildCauseRetriever when a build has null cause action</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Cleanup issues reported by FindBugs: tolerance against node disconnection, etc.</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-23274">JENKINS-23274</a> - Do not output contents of the &quot;Evaluated Groovy script&quot; to console</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Document the current behavior of Node and Jenkins properties (<a href="https://issues.jenkins-ci.org/browse/JENKINS-23666">JENKINS-23666</a>)</li><li><img class="emoticon emoticon-information" src="images/icons/emoticons/information.svg" data-emoticon-name="information" alt="(info)"/> Improve diagnostics of issues during the environment setup in EnvInjectBuildWrapper (e.g. <a href="https://issues.jenkins-ci.org/browse/JENKINS-36237">JENKINS-36237</a>)</li></ul><h5 id="EnvInjectPlugin-Compatibilitynotes:">Compatibility notes:</h5><ul><li>Fix of <a href="https://issues.jenkins-ci.org/browse/JENKINS-31573">JENKINS-31573</a><ul><li>The change introduces a new property file parsing engine, which starts following the standard for backslashes</li><li>You may need to update the property files (e.g. convert backslash entries to double backslash)</li></ul></li></ul><h4 id="EnvInjectPlugin-1.92.1(Aug21th,2015)">1.92.1 (Aug 21th, 2015)</h4><ul><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-27382">JENKINS-27382</a> - EnvInjectPluginAction::buildEnvVars() injects masks instead of passwords to the environment (regression since 1.90)<ul><li>There are many similar issues in JIRA, which have been probably fixed by the patch</li></ul></li></ul><h4 id="EnvInjectPlugin-1.92(Aug18th,2015)">1.92 (Aug 18th, 2015)</h4><ul><li><p><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-29817">JENKINS-29817</a> - Contribute Job Property Contents to the project environment (polling, etc.)</p></li><li><img class="emoticon emoticon-plus" src="images/icons/emoticons/add.svg" data-emoticon-name="plus" alt="(plus)"/> <a href="https://issues.jenkins-ci.org/browse/JENKINS-29867">JENKINS-29867</a> - Permissions engine + global option for disabling the Injected vars</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix several issues discovered by FindBugs</li></ul><h4 id="EnvInjectPlugin-1.91.4(Aug4th,2015)">1.91.4 (Aug 4th, 2015)</h4><ul><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-27665">JENKINS-27665</a> and <a href="https://issues.jenkins-ci.org/browse/JENKINS-27363">JENKINS-27363</a> - Prevent NPEs when handling null lists of sensitive variables (passwords, etc.)</li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-29667">JENKINS-29667</a> - Text description in the plugin manager was bold</li></ul><h4 id="EnvInjectPlugin-1.91.3(May15th,2015)">1.91.3 (May 15th, 2015)</h4><ul><li><p><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-28409">JENKINS-28409</a> - File descriptor leak in &quot;Inject Passwords&quot; build wrapper</p></li><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-28188">JENKINS-28188</a> - StringIndexOutOfBoundsException when no root cause for the build</li></ul><h4 id="EnvInjectPlugin-1.91.2(Apr14th,2015)">1.91.2 (Apr 14th, 2015)</h4><ul><li><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-27496">JENKINS-27496</a> - NPE during submission of EnvInject JobProperty when the form is empty (regression, since 1.91)</li></ul><h4 id="EnvInjectPlugin-1.91.1(Mar11th,2015)">1.91.1 (Mar 11th, 2015)</h4><ul><li><p><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)"/> Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-27342">JENKINS-27342</a> - NPE in EnvInjectPluginAction.transformEntry() when there is no sensible variables (regression, since 1.91)</p></li></ul><h4 id="EnvInjectPlugin-1.91(Mar8th,2015)">1.91 (Mar 8th, 2015)</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-19852">JENKINS-19852</a> - NPE during submission of EnvInject JobProperty configurations w/o admin permissions<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-19222">JENKINS-19222</a> - EnvInject undefines NODE_NAME environment variable on master<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-23447">JENKINS-23447</a> - Mask sensitive data in injectedEnvVars.txt when displayed on UI or persisted on disk<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-24785">JENKINS-24785</a> - BUILD_CAUSE is always UPSTREAMTRIGGER in multi-configuration jobs</p><p><br/></p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">Warning!</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>There are showstopper bugs reported to this version. Please avoid the upgrade till the next release</p></div></div><h4 id="EnvInjectPlugin-1.90">1.90</h4><p>* <a href="https://issues.jenkins-ci.org/browse/JENKINS-24130">JENKINS-24130</a> - Added an option to mask PasswordParameters<br/>* Execute Groovy scripts to inject environment variables in Build Wrappers<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-22126">JENKINS-22126</a> - Override build parameters only when explicitly requested<br/>* EnvInject escapes a sensitive data from other Environment contributors<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-22169">JENKINS-22169</a> - Migration from <a href="Setenv-Plugin.html">Setenv Plugin</a> overwrites existing envinject configurations</p><h4 id="EnvInjectPlugin-1.89">1.89</h4><p>* Don't mask stacktraces on errors<br/>* Upgrade to envinject-lib-1.19</p><h4 id="EnvInjectPlugin-1.88">1.88</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16316">JENKINS-16316</a> - Changes to global variables not honored<br/>* Log both source and resolved unreachable properties file paths<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14144">JENKINS-14144</a> - use a WorkspaceListener to avoid injecting a temporary</p><h4 id="EnvInjectPlugin-1.87">1.87</h4><p>* Actually load script from master</p><h4 id="EnvInjectPlugin-1.86">1.86</h4><p>* Fix reopen <a href="https://issues.jenkins-ci.org/browse/JENKINS-13348">JENKINS-13348</a> - EnvInject overriding WORKSPACE variable</p><h4 id="EnvInjectPlugin-1.85">1.85</h4><p>* Retain line break characters in property values.</p><h4 id="EnvInjectPlugin-1.84">1.84</h4><p>* Add logger to Groovy script evaluation</p><h4 id="EnvInjectPlugin-1.83">1.83</h4><p>* Fix reopen <a href="https://issues.jenkins-ci.org/browse/JENKINS-16316">JENKINS-16316</a> - Global variables not updated</p><h4 id="EnvInjectPlugin-1.82">1.82</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16566">JENKINS-16566</a> - poll SCM not work after upgrade the EnvInject Plugin to 1.81<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16575">JENKINS-16575</a> - SEVERE: Failed to record SCM polling - java.lang.NullPointerException - EnvInject Plugin<br/>* Update to envinject-lib 1.15</p><h4 id="EnvInjectPlugin-1.81">1.81</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16239">JENKINS-16239</a> - NPE in getRootDir<br/>** Update to envinject-lib 1.14<br/>* Remove Injected from Labels<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16380">JENKINS-16380</a> - Starting with &gt;1.73 global environment variables overrule build specific parameter variables<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16372">JENKINS-16372</a> -Password parameter is malformed</p><h4 id="EnvInjectPlugin-1.80">1.80</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16233">JENKINS-16233</a> - EnvInject plugin using a cached value for ${WORKSPACE}</p><h4 id="EnvInjectPlugin-1.79">1.79</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16316">JENKINS-16316</a> - Global variables not updated<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16399">JENKINS-16399</a> - SCM documentation is incorrect</p><h4 id="EnvInjectPlugin-1.78">1.78</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16219">JENKINS-16219</a> regression from <a href="https://issues.jenkins-ci.org/browse/JENKINS-14437">JENKINS-14437</a> - Version 1.77 injects all <strong>environment</strong> variables into ANT command line (-D)</p><h4 id="EnvInjectPlugin-1.77">1.77</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14437">JENKINS-14437</a> - envinject fails to &quot;really&quot; set/override build parameters</p><h4 id="EnvInjectPlugin-1.76">1.76</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-16016">JENKINS-16016</a> - Global passwords are visible for matrix configuration builds</p><h4 id="EnvInjectPlugin-1.75">1.75</h4><p>* Add currentJob and currentBuild variables for Groovy scripts</p><h4 id="EnvInjectPlugin-1.74">1.74</h4><p>* Correct spelling of Password from Password ( merged from pull request)</p><h4 id="EnvInjectPlugin-1.73">1.73</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-15658">JENKINS-15658</a> - EnvInject Undefines Jenkins Global properties referencing WORKSPACE variable<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-15664">JENKINS-15664</a> - Help text for EnvInject plugin is wrong</p><h4 id="EnvInjectPlugin-1.72">1.72</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-15146">JENKINS-15146</a> - EnvInject unsets empty string properties returned in maps</p><h4 id="EnvInjectPlugin-1.71">1.71</h4><p>* Support for new job types<br/>* Replace &quot;white-list&quot; strategy for supported job types by use of BuildableItemWithBuildWrappers interface to access the job's buildWrapper list.</p><h4 id="EnvInjectPlugin-1.70">1.70</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-15071">JENKINS-15071</a> - Editing the description of Jobs throws an Error 500 message<br/>* Update to envinject-lib 1.13</p><h4 id="EnvInjectPlugin-1.69">1.69</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14930">JENKINS-14930</a> - Can't overload/update PYTHONPATH</p><h4 id="EnvInjectPlugin-1.68">1.68</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14897">JENKINS-14897</a> - ConfigFileProvider variable is not seen by EnvInject<br/>* Require Jenkins 1.444+</p><h4 id="EnvInjectPlugin-1.67">1.67</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14761">JENKINS-14761</a> - Backslash broken on Properties Content injection<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14768">JENKINS-14768</a> - Backslash is escaped from injected $WORKSPACE property on slave node</p><h4 id="EnvInjectPlugin-1.66">1.66</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14686">JENKINS-14686</a> - Fail evaluating Groovy script before job run</p><h4 id="EnvInjectPlugin-1.65">1.65</h4><p>* Add feature - Mask job password parameter value</p><h4 id="EnvInjectPlugin-1.64">1.64</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14645">JENKINS-14645</a> - Executing external job results in an ClassCastException (ExternalRun cannot be cast to AbstractBuild)</p><h4 id="EnvInjectPlugin-1.63">1.63</h4><p>* Fix reponed <a href="https://issues.jenkins-ci.org/browse/JENKINS-14371">JENKINS-14371</a> - NullPointerException in EnvInjectBuilderContributionAction.buildEnvVars during SCM poll<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14459">JENKINS-14459</a> - Failed to record SCM polling with envinject plugin</p><h4 id="EnvInjectPlugin-1.62">1.62</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14371">JENKINS-14371</a> - NullPointerException in EnvInjectBuilderContributionAction.buildEnvVars during SCM poll</p><h4 id="EnvInjectPlugin-1.61">1.61</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14367">JENKINS-14367</a> - Global &amp; node level self-referencing variables should work</p><h4 id="EnvInjectPlugin-1.60">1.60</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14290">JENKINS-14290</a> - Support for Ivy project type</p><h4 id="EnvInjectPlugin-1.59">1.59</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14271">JENKINS-14271</a> - EnvInject claims global env vars are unresolved on slave</p><h4 id="EnvInjectPlugin-1.58">1.58</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14284">JENKINS-14284</a> - Single backslashes are droped or used as escape char</p><h4 id="EnvInjectPlugin-1.57">1.57</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-14232">JENKINS-14232</a> - EnvInject not handling properties file with logical lines</p><h4 id="EnvInjectPlugin-1.56">1.56</h4><p>* Load environment variables from the node (therefore, you are able to redefine classic variables such as the PATH variable at node level)<br/>* Upgrade to envinject-lib 1.8</p><h4 id="EnvInjectPlugin-1.55">1.55</h4><p>* Technical release: Merge pull request - Make EnvInjectPluginAction implements EnvironmentContributingAction</p><h4 id="EnvInjectPlugin-1.54">1.54</h4><p>* A few minor changes to keep jdk5 compatibility</p><h4 id="EnvInjectPlugin-1.53">1.53</h4><p>* Fix regression on backward compatibility</p><h4 id="EnvInjectPlugin-1.52">1.52</h4><p>* Remove env variables presence in build serialization file</p><h4 id="EnvInjectPlugin-1.51">1.51</h4><p>* Add a complement to fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12423">JENKINS-12423</a> - Password masked by Mask Passwords are visible when using envinject plugin (no display environment variables when the job is running)</p><h4 id="EnvInjectPlugin-1.50">1.50</h4><p>* Update to envinject-lib 1.7 (Enable to external plugin to retrieve envVars)</p><h4 id="EnvInjectPlugin-1.49">1.49</h4><p>* Merge pull request - use UnsupportedOperationException instead of UnsupportedMediaException<br/>* Merge pull request - added Japanese localization</p><h4 id="EnvInjectPlugin-1.48">1.48</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12878">JENKINS-12878</a> - manage old data fails with RuntimeException: Failed to serialize hudson.model.Actionable#actions for class hudson.model.FreeStyleBuild</p><h4 id="EnvInjectPlugin-1.47">1.47</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13566">JENKINS-13566</a> - EnvInject is messing around with my TEMP variable when username contains a dollar sign (windows)<br/>* Update to envinject-lib 1.5</p><h4 id="EnvInjectPlugin-1.46">1.46</h4><p>* Fix interaction with multijob plugin</p><h4 id="EnvInjectPlugin-1.45">1.45</h4><p>* Add /export/txt, /export/xml and /export/json for the exportation</p><h4 id="EnvInjectPlugin-1.44">1.44</h4><p>* Fix EnvInject Password process</p><h4 id="EnvInjectPlugin-1.43">1.43</h4><p>* Fix reopened <a href="https://issues.jenkins-ci.org/browse/JENKINS-12108">JENKINS-12108</a> - EnvInject failure using multi-configuration jobs</p><h4 id="EnvInjectPlugin-1.42">1.42</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13183">JENKINS-13183</a> - SCM variables resolution</p><h4 id="EnvInjectPlugin-1.41">1.41</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13157">JENKINS-13157</a> - EnvInject cannot inject variables whose contents contain a dollar sign ($)</p><h4 id="EnvInjectPlugin-1.40">1.40</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13167">JENKINS-13167</a> - Cannot use EnvInject in a Maven 2 Jenkins project</p><h4 id="EnvInjectPlugin-1.39">1.39</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13155">JENKINS-13155</a> - Parameters are not working in EnvInject plugin 1.38</p><h4 id="EnvInjectPlugin-1.38">1.38</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13119">JENKINS-13119</a> - Add feature: Set an environment variable based on value of user passed parameter</p><h4 id="EnvInjectPlugin-1.37">1.37</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13085">JENKINS-13085</a> - Environment Variable Injection doesn't work when project run on slave node that sets the same variable</p><h4 id="EnvInjectPlugin-1.36">1.36</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13041">JENKINS-13041</a> - PATH variable is being injected from master on multiconfiguration jobs</p><h4 id="EnvInjectPlugin-1.35">1.35</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-13022">JENKINS-13022</a> - EnvInject 1.33 doesn''t seem to work with Jenkins 1.454</p><h4 id="EnvInjectPlugin-1.34">1.34</h4><p>* Change Environment contributors resolution</p><h4 id="EnvInjectPlugin-1.33">1.33</h4><p>* Move global passwords injection to the 'Prepare job environment' section<br/>* Add 'Inject job passwords'</p><h4 id="EnvInjectPlugin-1.32">1.32</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12944">JENKINS-12944</a> - Env Inject Plugin doesn't substitute ${WORKSPACE} variable at all when used in 'Preparing an environment for the job'<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12963">JENKINS-12963</a> - EnvInject plugin causes job to use JAVA_HOME instead of configured JDK</p><h4 id="EnvInjectPlugin-1.31">1.31</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12936">JENKINS-12936</a> - EnvInject Plugin 1.30 does not display all properties on job config page</p><h4 id="EnvInjectPlugin-1.30">1.30</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12905">JENKINS-12905</a> - PATH variable is not injected</p><h4 id="EnvInjectPlugin-1.29">1.29</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12876">JENKINS-12876</a> - Version 1.20 and later removed all comments and new-lines<br/>* Add test to <a href="https://issues.jenkins-ci.org/browse/JENKINS-12841">JENKINS-12841</a> - EnvInject Plugin 1.26 does not substitute ${WORKSPACE} correctly</p><h4 id="EnvInjectPlugin-1.28">1.28</h4><p>* Fix reponed <a href="https://issues.jenkins-ci.org/browse/JENKINS-12108">JENKINS-12108</a> - EnvInject failure using multi-configuration jobs<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12841">JENKINS-12841</a> - EnvInject Plugin 1.26 does not substitute ${WORKSPACE} correctly</p><h4 id="EnvInjectPlugin-1.27">1.27</h4><p>* Add a build context to EnvInjectContributor</p><h4 id="EnvInjectPlugin-1.26">1.26</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12704">JENKINS-12704</a> - WORKSPACE variable for concurrent builds are not defined properly.</p><h4 id="EnvInjectPlugin-1.25">1.25</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12809">JENKINS-12809</a> - Injecting from file removes backslashes on ${WORKSPACE}</p><h4 id="EnvInjectPlugin-1.24">1.24</h4><p>* Add the ability to inject password values<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12423">JENKINS-12423</a> - Password masked by Mask Passwords are visible when using envinject plugin</p><h4 id="EnvInjectPlugin-1.23">1.23</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12788">JENKINS-12788</a> - Missing variables when executing EnvInject script</p><h4 id="EnvInjectPlugin-1.22">1.22</h4><p>* Fix NullPointerException for a setenv or a envfile migration</p><h4 id="EnvInjectPlugin-1.21">1.21</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12746">JENKINS-12746</a> - envinject strips off &quot;\&quot; each time config page is opened</p><h4 id="EnvInjectPlugin-1.20">1.20</h4><p>* Move properties content serialization to a Map (avoid carriage return issues)<br/>* Fix usage of build variables for the 'Prepare environment jobs'<br/>* Fix Injected environment vars when EnvInject is not configured</p><h4 id="EnvInjectPlugin-1.19">1.19</h4><p>* Fix reopened <a href="https://issues.jenkins-ci.org/browse/JENKINS-12423">JENKINS-12423</a> - Password masked by Mask Passwords are visible when using envinject plugin</p><h4 id="EnvInjectPlugin-1.18">1.18</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12691">JENKINS-12691</a> - Property variable not set if using a property file</p><h4 id="EnvInjectPlugin-1.17">1.17</h4><p>* Fix migration from the setenv and envfile plugin</p><h4 id="EnvInjectPlugin-1.16">1.16</h4><p>* Fix external EnvInjectContribution section display<br/>* Fix text typo</p><h4 id="EnvInjectPlugin-1.15(technicalrelease)">1.15 (technical release)</h4><p>* Refactoring + fix wrong commit</p><h4 id="EnvInjectPlugin-1.14">1.14</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12416">JENKINS-12416</a> - Environment is not injected for each configuration in a multi-configuration project</p><h4 id="EnvInjectPlugin-1.13">1.13</h4><p>* Add the extension point EnvInject Job Property Contributor to enable other plugins to contribute to this plugin for the prepare job step</p><h4 id="EnvInjectPlugin-1.12">1.12</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12423">JENKINS-12423</a> - Password masked by Mask Passwords are visible when using envinject plugin</p><h4 id="EnvInjectPlugin-1.11">1.11</h4><p>* Update to envinject-lib 1.2</p><h4 id="EnvInjectPlugin-1.10">1.10</h4><p>* Update to envinject-lib 1.1<br/>* Fix bug on the build end</p><h4 id="EnvInjectPlugin-1.9">1.9</h4><p>* Export reuse code to a dedicated library: envinject-lib 1.0<br/>* Fix typo</p><h4 id="EnvInjectPlugin-1.8">1.8</h4><p>* Switch properties section and scripts section for the prepare step</p><h4 id="EnvInjectPlugin-1.7">1.7</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12293">JENKINS-12293</a> - Incorrect inserting environment variables on linux slave</p><h4 id="EnvInjectPlugin-1.6">1.6</h4><p>* Recording EnvVars contributing by other plugins at the end of the build</p><h4 id="EnvInjectPlugin-1.5">1.5</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12252">JENKINS-12252</a> - envinject does not fail the build after Environment Script Content fails</p><h4 id="EnvInjectPlugin-1.4">1.4</h4><p>* Fix portability in the history build.xml file (using the build reference instead of the absolute path of the EnvInjected file)<br/>* Add the ability to load a properties file at node startup (at master and/or at slave startup)</p><h4 id="EnvInjectPlugin-1.3">1.3</h4><p>* Move 'Triggered Build Cause' to Jenkins build variables option<br/>* Add an export option to export environment variables to TXT, XML or JSON</p><h4 id="EnvInjectPlugin-1.2">1.2</h4><p>* Fix NullPointerException when master has 0 executors</p><h4 id="EnvInjectPlugin-1.1">1.1</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12108">JENKINS-12108</a> - EnvInject failure using multi-configuration jobs<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12084">JENKINS-12084</a> -Variables resolved alphabetically rather than order found in content/file. ${WORKSPACE} not always getting resolved as result<br/>* Accept script parameters to script path sections</p><h4 id="EnvInjectPlugin-1.0">1.0</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-12027">JENKINS-12027</a> - ${WORKSPACE} variable doesn't use my specific workspace directory anymore in a build step<br/>* Make it stable for production</p><h4 id="EnvInjectPlugin-0.26">0.26</h4><p>* Enhance display log<br/>* Refactoring for fixing properties variables propagation</p><h4 id="EnvInjectPlugin-0.25">0.25</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-11763">JENKINS-11763</a> - Can not set some 'special' variable names the first time<br/>* Technical Refactoring</p><h4 id="EnvInjectPlugin-0.24">0.24</h4><p>* Make it extensible by an another plugin.</p><h4 id="EnvInjectPlugin-0.23">0.23</h4><p>* Fixed <a href="https://issues.jenkins-ci.org/browse/JENKINS-11595">JENKINS-11595</a> - Some env variables can not be used to inject, for example $NODE_NAME</p><h4 id="EnvInjectPlugin-0.22">0.22</h4><p>* Add the ability for the 'prepare environment' feature to load the properties file and the script file from the master node even if the build runs on a slave node.</p><h4 id="EnvInjectPlugin-0.21">0.21</h4><p>* Add global properties and node properties process</p><h4 id="EnvInjectPlugin-0.20">0.20</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-11439">JENKINS-11439</a> - Can't add &quot;environment inject&quot; to <a href="pre-scm-buildstep.html">pre-scm-buildstep</a> plugin.</p><h4 id="EnvInjectPlugin-0.19">0.19</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-11181">JENKINS-11181</a> -Variables failing to be set if referencing previous variable</p><h4 id="EnvInjectPlugin-0.18">0.18</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-11067">JENKINS-11067</a> - Pre-SCM and Post-SCM environment scripts do not use Pre-SCM and Post-SCM properties</p><h4 id="EnvInjectPlugin-0.17">0.17</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-11066">JENKINS-11066</a> - Property Variables &quot;Randomly&quot; Not Working/Getting Unset</p><h4 id="EnvInjectPlugin-0.16">0.16</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-11063">JENKINS-11063</a> - Multiple &quot;Inject Environment Variables&quot; Build Steps All Show Same Content</p><h4 id="EnvInjectPlugin-0.15">0.15</h4><p>* Backslashes in file path for windows platform are managed<br/>* Added feature 'unset variable' when the variable is unresolved</p><h4 id="EnvInjectPlugin-0.14">0.14</h4><p>* Integrate domi pull request (add trigger causes as environment variables)<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-10980">JENKINS-10980</a> - EnvInject to optinally trim trailing spaces</p><h4 id="EnvInjectPlugin-0.13.1">0.13.1</h4><p>* Improve reporting errors</p><h4 id="EnvInjectPlugin-0.13">0.13</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-10919">JENKINS-10919</a> - Variables are shared between jobs</p><h4 id="EnvInjectPlugin-0.12">0.12</h4><p>* Fixed <a href="https://issues.jenkins-ci.org/browse/JENKINS-10916">JENKINS-10916</a> - Properties not injected and build marked as failed</p><h4 id="EnvInjectPlugin-0.11.1(technicalrelease)">0.11.1 (technical release)</h4><p>* Remove unused maven dependency</p><h4 id="EnvInjectPlugin-0.11">0.11</h4><p>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-10894">JENKINS-10894</a> - Inject environment variables with property file not working</p><h4 id="EnvInjectPlugin-0.10">0.10</h4><p>* Add the ability to unset system variable at node level<br/>* Add an option to 'Keep Jenkins system variables'<br/>* Fix <a href="https://issues.jenkins-ci.org/browse/JENKINS-10845">JENKINS-10845</a> and <a href="https://issues.jenkins-ci.org/browse/JENKINS-10877">JENKINS-10877</a> - master/slave sync / Job variables/parameters are missing<br/>* Complete the fix to <a href="https://issues.jenkins-ci.org/browse/JENKINS-10847">JENKINS-10847</a></p><h4 id="EnvInjectPlugin-0.9">0.9</h4><p>* Fix partially <a href="https://issues.jenkins-ci.org/browse/JENKINS-10847">JENKINS-10847</a> and <a href="https://issues.jenkins-ci.org/browse/JENKINS-10845">JENKINS-10845</a> - Enivronment is not separated<br/>* The ability to 'Keep system variables' has been removed. The feature will be restored later (and moved at slave/node level (not at job level).</p><h4 id="EnvInjectPlugin-0.8">0.8</h4><p>* Fixed variables restauration for Maven jobs</p><h4 id="EnvInjectPlugin-0.7">0.7</h4><p>* Fixed variables propagation between typologies<br/>* Fixed variables restore for all typologies</p><h4 id="EnvInjectPlugin-0.6">0.6</h4><p>* Add a 'Keep Jenkins Build variables' option<br/>* Add 'EnvInject' as prefix for plugin log messages<br/>* Sort the EnvInject variables table</p><h4 id="EnvInjectPlugin-0.5">0.5</h4><p>* Remove advanced sections</p><h4 id="EnvInjectPlugin-0.4">0.4</h4><p>* Add a build wrapper<br/>* Fix serialization fiels for JobProperty<br/>* Add a migration procedure for setenv and envfile plugins</p><h4 id="EnvInjectPlugin-0.3">0.3</h4><p>* Add variables resolution in elements</p><h4 id="EnvInjectPlugin-0.2.1">0.2.1</h4><p>* Fix environment script content process</p><h4 id="EnvInjectPlugin-0.2">0.2</h4><p>* Can inject environment variables as a build step.</p><h4 id="EnvInjectPlugin-0.1">0.1</h4><p>* Initial versio</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/58196014.png">EnvInject_setEnv.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/58196013.png">EnvInject_buildStep.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/58196015.png">EnvInject_setEnv.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/58196012.png">EnvInject_setEnv.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/59179061.jpg">EnvInject_configure.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/59900096.png">EnvInject_Prepare.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/59900097.png">EnvInject_BuildWrapper.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/59900100.png">EnvInject_node.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/62816274">068awr5fc[1]</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/62816275.png">EnvInject_Path.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/69402755.png">PromotedPropertiesFilePath.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/69959681.png">1.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/69959682.png">2.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/69959683.png">3.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57999800/158629917.png">image2018-9-13_10-18-23.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:22</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
